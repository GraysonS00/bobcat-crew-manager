var v_=Object.defineProperty;var y_=(t,e,r)=>e in t?v_(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Ft=(t,e,r)=>y_(t,typeof e!="symbol"?e+"":e,r);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var zc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function dv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var fv={exports:{}},ud={},pv={exports:{}},St={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gu=Symbol.for("react.element"),w_=Symbol.for("react.portal"),__=Symbol.for("react.fragment"),b_=Symbol.for("react.strict_mode"),x_=Symbol.for("react.profiler"),k_=Symbol.for("react.provider"),S_=Symbol.for("react.context"),N_=Symbol.for("react.forward_ref"),A_=Symbol.for("react.suspense"),j_=Symbol.for("react.memo"),E_=Symbol.for("react.lazy"),mm=Symbol.iterator;function C_(t){return t===null||typeof t!="object"?null:(t=mm&&t[mm]||t["@@iterator"],typeof t=="function"?t:null)}var mv={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},gv=Object.assign,vv={};function ml(t,e,r){this.props=t,this.context=e,this.refs=vv,this.updater=r||mv}ml.prototype.isReactComponent={};ml.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ml.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function yv(){}yv.prototype=ml.prototype;function j0(t,e,r){this.props=t,this.context=e,this.refs=vv,this.updater=r||mv}var E0=j0.prototype=new yv;E0.constructor=j0;gv(E0,ml.prototype);E0.isPureReactComponent=!0;var gm=Array.isArray,wv=Object.prototype.hasOwnProperty,C0={current:null},_v={key:!0,ref:!0,__self:!0,__source:!0};function bv(t,e,r){var n,i={},s=null,a=null;if(e!=null)for(n in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)wv.call(e,n)&&!_v.hasOwnProperty(n)&&(i[n]=e[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:Gu,type:t,key:s,ref:a,props:i,_owner:C0.current}}function L_(t,e){return{$$typeof:Gu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function L0(t){return typeof t=="object"&&t!==null&&t.$$typeof===Gu}function P_(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var vm=/\/+/g;function uf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?P_(""+t.key):e.toString(36)}function ph(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Gu:case w_:a=!0}}if(a)return a=t,i=i(a),t=n===""?"."+uf(a,0):n,gm(i)?(r="",t!=null&&(r=t.replace(vm,"$&/")+"/"),ph(i,e,r,"",function(u){return u})):i!=null&&(L0(i)&&(i=L_(i,r+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(vm,"$&/")+"/")+t)),e.push(i)),1;if(a=0,n=n===""?".":n+":",gm(t))for(var o=0;o<t.length;o++){s=t[o];var l=n+uf(s,o);a+=ph(s,e,r,l,i)}else if(l=C_(t),typeof l=="function")for(t=l.call(t),o=0;!(s=t.next()).done;)s=s.value,l=n+uf(s,o++),a+=ph(s,e,r,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Fc(t,e,r){if(t==null)return t;var n=[],i=0;return ph(t,n,"","",function(s){return e.call(r,s,i++)}),n}function T_(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var pn={current:null},mh={transition:null},O_={ReactCurrentDispatcher:pn,ReactCurrentBatchConfig:mh,ReactCurrentOwner:C0};function xv(){throw Error("act(...) is not supported in production builds of React.")}St.Children={map:Fc,forEach:function(t,e,r){Fc(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Fc(t,function(){e++}),e},toArray:function(t){return Fc(t,function(e){return e})||[]},only:function(t){if(!L0(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};St.Component=ml;St.Fragment=__;St.Profiler=x_;St.PureComponent=j0;St.StrictMode=b_;St.Suspense=A_;St.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O_;St.act=xv;St.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=gv({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=C0.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)wv.call(e,l)&&!_v.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:Gu,type:t.type,key:i,ref:s,props:n,_owner:a}};St.createContext=function(t){return t={$$typeof:S_,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:k_,_context:t},t.Consumer=t};St.createElement=bv;St.createFactory=function(t){var e=bv.bind(null,t);return e.type=t,e};St.createRef=function(){return{current:null}};St.forwardRef=function(t){return{$$typeof:N_,render:t}};St.isValidElement=L0;St.lazy=function(t){return{$$typeof:E_,_payload:{_status:-1,_result:t},_init:T_}};St.memo=function(t,e){return{$$typeof:j_,type:t,compare:e===void 0?null:e}};St.startTransition=function(t){var e=mh.transition;mh.transition={};try{t()}finally{mh.transition=e}};St.unstable_act=xv;St.useCallback=function(t,e){return pn.current.useCallback(t,e)};St.useContext=function(t){return pn.current.useContext(t)};St.useDebugValue=function(){};St.useDeferredValue=function(t){return pn.current.useDeferredValue(t)};St.useEffect=function(t,e){return pn.current.useEffect(t,e)};St.useId=function(){return pn.current.useId()};St.useImperativeHandle=function(t,e,r){return pn.current.useImperativeHandle(t,e,r)};St.useInsertionEffect=function(t,e){return pn.current.useInsertionEffect(t,e)};St.useLayoutEffect=function(t,e){return pn.current.useLayoutEffect(t,e)};St.useMemo=function(t,e){return pn.current.useMemo(t,e)};St.useReducer=function(t,e,r){return pn.current.useReducer(t,e,r)};St.useRef=function(t){return pn.current.useRef(t)};St.useState=function(t){return pn.current.useState(t)};St.useSyncExternalStore=function(t,e,r){return pn.current.useSyncExternalStore(t,e,r)};St.useTransition=function(){return pn.current.useTransition()};St.version="18.3.1";pv.exports=St;var Ge=pv.exports;const I_=dv(Ge);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R_=Ge,z_=Symbol.for("react.element"),F_=Symbol.for("react.fragment"),D_=Object.prototype.hasOwnProperty,B_=R_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,U_={key:!0,ref:!0,__self:!0,__source:!0};function kv(t,e,r){var n,i={},s=null,a=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)D_.call(e,n)&&!U_.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:z_,type:t,key:s,ref:a,props:i,_owner:B_.current}}ud.Fragment=F_;ud.jsx=kv;ud.jsxs=kv;fv.exports=ud;var f=fv.exports,dp={},Sv={exports:{}},qn={},Nv={exports:{}},Av={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(ie,K){var ue=ie.length;ie.push(K);e:for(;0<ue;){var Y=ue-1>>>1,E=ie[Y];if(0<i(E,K))ie[Y]=K,ie[ue]=E,ue=Y;else break e}}function r(ie){return ie.length===0?null:ie[0]}function n(ie){if(ie.length===0)return null;var K=ie[0],ue=ie.pop();if(ue!==K){ie[0]=ue;e:for(var Y=0,E=ie.length,$=E>>>1;Y<$;){var V=2*(Y+1)-1,Z=ie[V],oe=V+1,me=ie[oe];if(0>i(Z,ue))oe<E&&0>i(me,Z)?(ie[Y]=me,ie[oe]=ue,Y=oe):(ie[Y]=Z,ie[V]=ue,Y=V);else if(oe<E&&0>i(me,ue))ie[Y]=me,ie[oe]=ue,Y=oe;else break e}}return K}function i(ie,K){var ue=ie.sortIndex-K.sortIndex;return ue!==0?ue:ie.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],u=[],d=1,m=null,v=3,h=!1,b=!1,y=!1,k=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(ie){for(var K=r(u);K!==null;){if(K.callback===null)n(u);else if(K.startTime<=ie)n(u),K.sortIndex=K.expirationTime,e(l,K);else break;K=r(u)}}function A(ie){if(y=!1,x(ie),!b)if(r(l)!==null)b=!0,fe(T);else{var K=r(u);K!==null&&se(A,K.startTime-ie)}}function T(ie,K){b=!1,y&&(y=!1,g(D),D=-1),h=!0;var ue=v;try{for(x(K),m=r(l);m!==null&&(!(m.expirationTime>K)||ie&&!I());){var Y=m.callback;if(typeof Y=="function"){m.callback=null,v=m.priorityLevel;var E=Y(m.expirationTime<=K);K=t.unstable_now(),typeof E=="function"?m.callback=E:m===r(l)&&n(l),x(K)}else n(l);m=r(l)}if(m!==null)var $=!0;else{var V=r(u);V!==null&&se(A,V.startTime-K),$=!1}return $}finally{m=null,v=ue,h=!1}}var q=!1,B=null,D=-1,P=5,G=-1;function I(){return!(t.unstable_now()-G<P)}function L(){if(B!==null){var ie=t.unstable_now();G=ie;var K=!0;try{K=B(!0,ie)}finally{K?M():(q=!1,B=null)}}else q=!1}var M;if(typeof _=="function")M=function(){_(L)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,Q=N.port2;N.port1.onmessage=L,M=function(){Q.postMessage(null)}}else M=function(){k(L,0)};function fe(ie){B=ie,q||(q=!0,M())}function se(ie,K){D=k(function(){ie(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ie){ie.callback=null},t.unstable_continueExecution=function(){b||h||(b=!0,fe(T))},t.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<ie?Math.floor(1e3/ie):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(ie){switch(v){case 1:case 2:case 3:var K=3;break;default:K=v}var ue=v;v=K;try{return ie()}finally{v=ue}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ie,K){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var ue=v;v=ie;try{return K()}finally{v=ue}},t.unstable_scheduleCallback=function(ie,K,ue){var Y=t.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?Y+ue:Y):ue=Y,ie){case 1:var E=-1;break;case 2:E=250;break;case 5:E=1073741823;break;case 4:E=1e4;break;default:E=5e3}return E=ue+E,ie={id:d++,callback:K,priorityLevel:ie,startTime:ue,expirationTime:E,sortIndex:-1},ue>Y?(ie.sortIndex=ue,e(u,ie),r(l)===null&&ie===r(u)&&(y?(g(D),D=-1):y=!0,se(A,ue-Y))):(ie.sortIndex=E,e(l,ie),b||h||(b=!0,fe(T))),ie},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(ie){var K=v;return function(){var ue=v;v=K;try{return ie.apply(this,arguments)}finally{v=ue}}}})(Av);Nv.exports=Av;var M_=Nv.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q_=Ge,Mn=M_;function De(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var jv=new Set,bu={};function ro(t,e){ll(t,e),ll(t+"Capture",e)}function ll(t,e){for(bu[t]=e,t=0;t<e.length;t++)jv.add(e[t])}var _s=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fp=Object.prototype.hasOwnProperty,$_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ym={},wm={};function W_(t){return fp.call(wm,t)?!0:fp.call(ym,t)?!1:$_.test(t)?wm[t]=!0:(ym[t]=!0,!1)}function H_(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function V_(t,e,r,n){if(e===null||typeof e>"u"||H_(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function mn(t,e,r,n,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var Yr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Yr[t]=new mn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Yr[e]=new mn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Yr[t]=new mn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Yr[t]=new mn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Yr[t]=new mn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Yr[t]=new mn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Yr[t]=new mn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Yr[t]=new mn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Yr[t]=new mn(t,5,!1,t.toLowerCase(),null,!1,!1)});var P0=/[\-:]([a-z])/g;function T0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(P0,T0);Yr[e]=new mn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(P0,T0);Yr[e]=new mn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(P0,T0);Yr[e]=new mn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Yr[t]=new mn(t,1,!1,t.toLowerCase(),null,!1,!1)});Yr.xlinkHref=new mn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Yr[t]=new mn(t,1,!1,t.toLowerCase(),null,!0,!0)});function O0(t,e,r,n){var i=Yr.hasOwnProperty(e)?Yr[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(V_(e,r,i,n)&&(r=null),n||i===null?W_(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Ss=q_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Dc=Symbol.for("react.element"),zo=Symbol.for("react.portal"),Fo=Symbol.for("react.fragment"),I0=Symbol.for("react.strict_mode"),pp=Symbol.for("react.profiler"),Ev=Symbol.for("react.provider"),Cv=Symbol.for("react.context"),R0=Symbol.for("react.forward_ref"),mp=Symbol.for("react.suspense"),gp=Symbol.for("react.suspense_list"),z0=Symbol.for("react.memo"),Hs=Symbol.for("react.lazy"),Lv=Symbol.for("react.offscreen"),_m=Symbol.iterator;function Gl(t){return t===null||typeof t!="object"?null:(t=_m&&t[_m]||t["@@iterator"],typeof t=="function"?t:null)}var ar=Object.assign,cf;function nu(t){if(cf===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);cf=e&&e[1]||""}return`
`+cf+t}var hf=!1;function df(t,e){if(!t||hf)return"";hf=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=n.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=o);break}}}finally{hf=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?nu(t):""}function G_(t){switch(t.tag){case 5:return nu(t.type);case 16:return nu("Lazy");case 13:return nu("Suspense");case 19:return nu("SuspenseList");case 0:case 2:case 15:return t=df(t.type,!1),t;case 11:return t=df(t.type.render,!1),t;case 1:return t=df(t.type,!0),t;default:return""}}function vp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Fo:return"Fragment";case zo:return"Portal";case pp:return"Profiler";case I0:return"StrictMode";case mp:return"Suspense";case gp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Cv:return(t.displayName||"Context")+".Consumer";case Ev:return(t._context.displayName||"Context")+".Provider";case R0:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case z0:return e=t.displayName||null,e!==null?e:vp(t.type)||"Memo";case Hs:e=t._payload,t=t._init;try{return vp(t(e))}catch{}}return null}function K_(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return vp(e);case 8:return e===I0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function la(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Pv(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function J_(t){var e=Pv(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Bc(t){t._valueTracker||(t._valueTracker=J_(t))}function Tv(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=Pv(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Th(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function yp(t,e){var r=e.checked;return ar({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function bm(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=la(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Ov(t,e){e=e.checked,e!=null&&O0(t,"checked",e,!1)}function wp(t,e){Ov(t,e);var r=la(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?_p(t,e.type,r):e.hasOwnProperty("defaultValue")&&_p(t,e.type,la(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function xm(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function _p(t,e,r){(e!=="number"||Th(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var iu=Array.isArray;function Zo(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+la(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function bp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(De(91));return ar({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function km(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(De(92));if(iu(r)){if(1<r.length)throw Error(De(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:la(r)}}function Iv(t,e){var r=la(e.value),n=la(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function Sm(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Rv(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function xp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Rv(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Uc,zv=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Uc=Uc||document.createElement("div"),Uc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Uc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function xu(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var lu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Y_=["Webkit","ms","Moz","O"];Object.keys(lu).forEach(function(t){Y_.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),lu[e]=lu[t]})});function Fv(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||lu.hasOwnProperty(t)&&lu[t]?(""+e).trim():e+"px"}function Dv(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=Fv(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var Z_=ar({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function kp(t,e){if(e){if(Z_[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(De(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(De(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(De(61))}if(e.style!=null&&typeof e.style!="object")throw Error(De(62))}}function Sp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Np=null;function F0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ap=null,Xo=null,Qo=null;function Nm(t){if(t=Yu(t)){if(typeof Ap!="function")throw Error(De(280));var e=t.stateNode;e&&(e=pd(e),Ap(t.stateNode,t.type,e))}}function Bv(t){Xo?Qo?Qo.push(t):Qo=[t]:Xo=t}function Uv(){if(Xo){var t=Xo,e=Qo;if(Qo=Xo=null,Nm(t),e)for(t=0;t<e.length;t++)Nm(e[t])}}function Mv(t,e){return t(e)}function qv(){}var ff=!1;function $v(t,e,r){if(ff)return t(e,r);ff=!0;try{return Mv(t,e,r)}finally{ff=!1,(Xo!==null||Qo!==null)&&(qv(),Uv())}}function ku(t,e){var r=t.stateNode;if(r===null)return null;var n=pd(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(De(231,e,typeof r));return r}var jp=!1;if(_s)try{var Kl={};Object.defineProperty(Kl,"passive",{get:function(){jp=!0}}),window.addEventListener("test",Kl,Kl),window.removeEventListener("test",Kl,Kl)}catch{jp=!1}function X_(t,e,r,n,i,s,a,o,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(d){this.onError(d)}}var uu=!1,Oh=null,Ih=!1,Ep=null,Q_={onError:function(t){uu=!0,Oh=t}};function eb(t,e,r,n,i,s,a,o,l){uu=!1,Oh=null,X_.apply(Q_,arguments)}function tb(t,e,r,n,i,s,a,o,l){if(eb.apply(this,arguments),uu){if(uu){var u=Oh;uu=!1,Oh=null}else throw Error(De(198));Ih||(Ih=!0,Ep=u)}}function no(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function Wv(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Am(t){if(no(t)!==t)throw Error(De(188))}function rb(t){var e=t.alternate;if(!e){if(e=no(t),e===null)throw Error(De(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return Am(i),t;if(s===n)return Am(i),e;s=s.sibling}throw Error(De(188))}if(r.return!==n.return)r=i,n=s;else{for(var a=!1,o=i.child;o;){if(o===r){a=!0,r=i,n=s;break}if(o===n){a=!0,n=i,r=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===r){a=!0,r=s,n=i;break}if(o===n){a=!0,n=s,r=i;break}o=o.sibling}if(!a)throw Error(De(189))}}if(r.alternate!==n)throw Error(De(190))}if(r.tag!==3)throw Error(De(188));return r.stateNode.current===r?t:e}function Hv(t){return t=rb(t),t!==null?Vv(t):null}function Vv(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Vv(t);if(e!==null)return e;t=t.sibling}return null}var Gv=Mn.unstable_scheduleCallback,jm=Mn.unstable_cancelCallback,nb=Mn.unstable_shouldYield,ib=Mn.unstable_requestPaint,vr=Mn.unstable_now,sb=Mn.unstable_getCurrentPriorityLevel,D0=Mn.unstable_ImmediatePriority,Kv=Mn.unstable_UserBlockingPriority,Rh=Mn.unstable_NormalPriority,ab=Mn.unstable_LowPriority,Jv=Mn.unstable_IdlePriority,cd=null,Wi=null;function ob(t){if(Wi&&typeof Wi.onCommitFiberRoot=="function")try{Wi.onCommitFiberRoot(cd,t,void 0,(t.current.flags&128)===128)}catch{}}var xi=Math.clz32?Math.clz32:cb,lb=Math.log,ub=Math.LN2;function cb(t){return t>>>=0,t===0?32:31-(lb(t)/ub|0)|0}var Mc=64,qc=4194304;function su(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function zh(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,a=r&268435455;if(a!==0){var o=a&~i;o!==0?n=su(o):(s&=a,s!==0&&(n=su(s)))}else a=r&~i,a!==0?n=su(a):s!==0&&(n=su(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-xi(e),i=1<<r,n|=t[r],e&=~i;return n}function hb(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function db(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-xi(s),o=1<<a,l=i[a];l===-1?(!(o&r)||o&n)&&(i[a]=hb(o,e)):l<=e&&(t.expiredLanes|=o),s&=~o}}function Cp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Yv(){var t=Mc;return Mc<<=1,!(Mc&4194240)&&(Mc=64),t}function pf(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Ku(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-xi(e),t[e]=r}function fb(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-xi(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function B0(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-xi(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var Bt=0;function Zv(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Xv,U0,Qv,e5,t5,Lp=!1,$c=[],ea=null,ta=null,ra=null,Su=new Map,Nu=new Map,Ks=[],pb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Em(t,e){switch(t){case"focusin":case"focusout":ea=null;break;case"dragenter":case"dragleave":ta=null;break;case"mouseover":case"mouseout":ra=null;break;case"pointerover":case"pointerout":Su.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nu.delete(e.pointerId)}}function Jl(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Yu(e),e!==null&&U0(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function mb(t,e,r,n,i){switch(e){case"focusin":return ea=Jl(ea,t,e,r,n,i),!0;case"dragenter":return ta=Jl(ta,t,e,r,n,i),!0;case"mouseover":return ra=Jl(ra,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return Su.set(s,Jl(Su.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,Nu.set(s,Jl(Nu.get(s)||null,t,e,r,n,i)),!0}return!1}function r5(t){var e=qa(t.target);if(e!==null){var r=no(e);if(r!==null){if(e=r.tag,e===13){if(e=Wv(r),e!==null){t.blockedOn=e,t5(t.priority,function(){Qv(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function gh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=Pp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Np=n,r.target.dispatchEvent(n),Np=null}else return e=Yu(r),e!==null&&U0(e),t.blockedOn=r,!1;e.shift()}return!0}function Cm(t,e,r){gh(t)&&r.delete(e)}function gb(){Lp=!1,ea!==null&&gh(ea)&&(ea=null),ta!==null&&gh(ta)&&(ta=null),ra!==null&&gh(ra)&&(ra=null),Su.forEach(Cm),Nu.forEach(Cm)}function Yl(t,e){t.blockedOn===e&&(t.blockedOn=null,Lp||(Lp=!0,Mn.unstable_scheduleCallback(Mn.unstable_NormalPriority,gb)))}function Au(t){function e(i){return Yl(i,t)}if(0<$c.length){Yl($c[0],t);for(var r=1;r<$c.length;r++){var n=$c[r];n.blockedOn===t&&(n.blockedOn=null)}}for(ea!==null&&Yl(ea,t),ta!==null&&Yl(ta,t),ra!==null&&Yl(ra,t),Su.forEach(e),Nu.forEach(e),r=0;r<Ks.length;r++)n=Ks[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Ks.length&&(r=Ks[0],r.blockedOn===null);)r5(r),r.blockedOn===null&&Ks.shift()}var el=Ss.ReactCurrentBatchConfig,Fh=!0;function vb(t,e,r,n){var i=Bt,s=el.transition;el.transition=null;try{Bt=1,M0(t,e,r,n)}finally{Bt=i,el.transition=s}}function yb(t,e,r,n){var i=Bt,s=el.transition;el.transition=null;try{Bt=4,M0(t,e,r,n)}finally{Bt=i,el.transition=s}}function M0(t,e,r,n){if(Fh){var i=Pp(t,e,r,n);if(i===null)Sf(t,e,n,Dh,r),Em(t,n);else if(mb(i,t,e,r,n))n.stopPropagation();else if(Em(t,n),e&4&&-1<pb.indexOf(t)){for(;i!==null;){var s=Yu(i);if(s!==null&&Xv(s),s=Pp(t,e,r,n),s===null&&Sf(t,e,n,Dh,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else Sf(t,e,n,null,r)}}var Dh=null;function Pp(t,e,r,n){if(Dh=null,t=F0(n),t=qa(t),t!==null)if(e=no(t),e===null)t=null;else if(r=e.tag,r===13){if(t=Wv(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Dh=t,null}function n5(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(sb()){case D0:return 1;case Kv:return 4;case Rh:case ab:return 16;case Jv:return 536870912;default:return 16}default:return 16}}var Zs=null,q0=null,vh=null;function i5(){if(vh)return vh;var t,e=q0,r=e.length,n,i="value"in Zs?Zs.value:Zs.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var a=r-t;for(n=1;n<=a&&e[r-n]===i[s-n];n++);return vh=i.slice(t,1<n?1-n:void 0)}function yh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Wc(){return!0}function Lm(){return!1}function $n(t){function e(r,n,i,s,a){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Wc:Lm,this.isPropagationStopped=Lm,this}return ar(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Wc)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Wc)},persist:function(){},isPersistent:Wc}),e}var gl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$0=$n(gl),Ju=ar({},gl,{view:0,detail:0}),wb=$n(Ju),mf,gf,Zl,hd=ar({},Ju,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:W0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Zl&&(Zl&&t.type==="mousemove"?(mf=t.screenX-Zl.screenX,gf=t.screenY-Zl.screenY):gf=mf=0,Zl=t),mf)},movementY:function(t){return"movementY"in t?t.movementY:gf}}),Pm=$n(hd),_b=ar({},hd,{dataTransfer:0}),bb=$n(_b),xb=ar({},Ju,{relatedTarget:0}),vf=$n(xb),kb=ar({},gl,{animationName:0,elapsedTime:0,pseudoElement:0}),Sb=$n(kb),Nb=ar({},gl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ab=$n(Nb),jb=ar({},gl,{data:0}),Tm=$n(jb),Eb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Lb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pb(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Lb[t])?!!e[t]:!1}function W0(){return Pb}var Tb=ar({},Ju,{key:function(t){if(t.key){var e=Eb[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=yh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Cb[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:W0,charCode:function(t){return t.type==="keypress"?yh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?yh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ob=$n(Tb),Ib=ar({},hd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Om=$n(Ib),Rb=ar({},Ju,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:W0}),zb=$n(Rb),Fb=ar({},gl,{propertyName:0,elapsedTime:0,pseudoElement:0}),Db=$n(Fb),Bb=ar({},hd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ub=$n(Bb),Mb=[9,13,27,32],H0=_s&&"CompositionEvent"in window,cu=null;_s&&"documentMode"in document&&(cu=document.documentMode);var qb=_s&&"TextEvent"in window&&!cu,s5=_s&&(!H0||cu&&8<cu&&11>=cu),Im=" ",Rm=!1;function a5(t,e){switch(t){case"keyup":return Mb.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function o5(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Do=!1;function $b(t,e){switch(t){case"compositionend":return o5(e);case"keypress":return e.which!==32?null:(Rm=!0,Im);case"textInput":return t=e.data,t===Im&&Rm?null:t;default:return null}}function Wb(t,e){if(Do)return t==="compositionend"||!H0&&a5(t,e)?(t=i5(),vh=q0=Zs=null,Do=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return s5&&e.locale!=="ko"?null:e.data;default:return null}}var Hb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Hb[t.type]:e==="textarea"}function l5(t,e,r,n){Bv(n),e=Bh(e,"onChange"),0<e.length&&(r=new $0("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var hu=null,ju=null;function Vb(t){w5(t,0)}function dd(t){var e=Mo(t);if(Tv(e))return t}function Gb(t,e){if(t==="change")return e}var u5=!1;if(_s){var yf;if(_s){var wf="oninput"in document;if(!wf){var Fm=document.createElement("div");Fm.setAttribute("oninput","return;"),wf=typeof Fm.oninput=="function"}yf=wf}else yf=!1;u5=yf&&(!document.documentMode||9<document.documentMode)}function Dm(){hu&&(hu.detachEvent("onpropertychange",c5),ju=hu=null)}function c5(t){if(t.propertyName==="value"&&dd(ju)){var e=[];l5(e,ju,t,F0(t)),$v(Vb,e)}}function Kb(t,e,r){t==="focusin"?(Dm(),hu=e,ju=r,hu.attachEvent("onpropertychange",c5)):t==="focusout"&&Dm()}function Jb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return dd(ju)}function Yb(t,e){if(t==="click")return dd(e)}function Zb(t,e){if(t==="input"||t==="change")return dd(e)}function Xb(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Si=typeof Object.is=="function"?Object.is:Xb;function Eu(t,e){if(Si(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!fp.call(e,i)||!Si(t[i],e[i]))return!1}return!0}function Bm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Um(t,e){var r=Bm(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Bm(r)}}function h5(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?h5(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function d5(){for(var t=window,e=Th();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Th(t.document)}return e}function V0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Qb(t){var e=d5(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&h5(r.ownerDocument.documentElement,r)){if(n!==null&&V0(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=Um(r,s);var a=Um(r,n);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var ex=_s&&"documentMode"in document&&11>=document.documentMode,Bo=null,Tp=null,du=null,Op=!1;function Mm(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Op||Bo==null||Bo!==Th(n)||(n=Bo,"selectionStart"in n&&V0(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),du&&Eu(du,n)||(du=n,n=Bh(Tp,"onSelect"),0<n.length&&(e=new $0("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Bo)))}function Hc(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Uo={animationend:Hc("Animation","AnimationEnd"),animationiteration:Hc("Animation","AnimationIteration"),animationstart:Hc("Animation","AnimationStart"),transitionend:Hc("Transition","TransitionEnd")},_f={},f5={};_s&&(f5=document.createElement("div").style,"AnimationEvent"in window||(delete Uo.animationend.animation,delete Uo.animationiteration.animation,delete Uo.animationstart.animation),"TransitionEvent"in window||delete Uo.transitionend.transition);function fd(t){if(_f[t])return _f[t];if(!Uo[t])return t;var e=Uo[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in f5)return _f[t]=e[r];return t}var p5=fd("animationend"),m5=fd("animationiteration"),g5=fd("animationstart"),v5=fd("transitionend"),y5=new Map,qm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ha(t,e){y5.set(t,e),ro(e,[t])}for(var bf=0;bf<qm.length;bf++){var xf=qm[bf],tx=xf.toLowerCase(),rx=xf[0].toUpperCase()+xf.slice(1);ha(tx,"on"+rx)}ha(p5,"onAnimationEnd");ha(m5,"onAnimationIteration");ha(g5,"onAnimationStart");ha("dblclick","onDoubleClick");ha("focusin","onFocus");ha("focusout","onBlur");ha(v5,"onTransitionEnd");ll("onMouseEnter",["mouseout","mouseover"]);ll("onMouseLeave",["mouseout","mouseover"]);ll("onPointerEnter",["pointerout","pointerover"]);ll("onPointerLeave",["pointerout","pointerover"]);ro("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ro("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ro("onBeforeInput",["compositionend","keypress","textInput","paste"]);ro("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ro("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ro("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var au="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nx=new Set("cancel close invalid load scroll toggle".split(" ").concat(au));function $m(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,tb(n,e,void 0,t),t.currentTarget=null}function w5(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var a=n.length-1;0<=a;a--){var o=n[a],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;$m(i,o,u),s=l}else for(a=0;a<n.length;a++){if(o=n[a],l=o.instance,u=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;$m(i,o,u),s=l}}}if(Ih)throw t=Ep,Ih=!1,Ep=null,t}function Zt(t,e){var r=e[Dp];r===void 0&&(r=e[Dp]=new Set);var n=t+"__bubble";r.has(n)||(_5(e,t,2,!1),r.add(n))}function kf(t,e,r){var n=0;e&&(n|=4),_5(r,t,n,e)}var Vc="_reactListening"+Math.random().toString(36).slice(2);function Cu(t){if(!t[Vc]){t[Vc]=!0,jv.forEach(function(r){r!=="selectionchange"&&(nx.has(r)||kf(r,!1,t),kf(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Vc]||(e[Vc]=!0,kf("selectionchange",!1,e))}}function _5(t,e,r,n){switch(n5(e)){case 1:var i=vb;break;case 4:i=yb;break;default:i=M0}r=i.bind(null,e,r,t),i=void 0,!jp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function Sf(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=n.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;o!==null;){if(a=qa(o),a===null)return;if(l=a.tag,l===5||l===6){n=s=a;continue e}o=o.parentNode}}n=n.return}$v(function(){var u=s,d=F0(r),m=[];e:{var v=y5.get(t);if(v!==void 0){var h=$0,b=t;switch(t){case"keypress":if(yh(r)===0)break e;case"keydown":case"keyup":h=Ob;break;case"focusin":b="focus",h=vf;break;case"focusout":b="blur",h=vf;break;case"beforeblur":case"afterblur":h=vf;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=Pm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=bb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=zb;break;case p5:case m5:case g5:h=Sb;break;case v5:h=Db;break;case"scroll":h=wb;break;case"wheel":h=Ub;break;case"copy":case"cut":case"paste":h=Ab;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=Om}var y=(e&4)!==0,k=!y&&t==="scroll",g=y?v!==null?v+"Capture":null:v;y=[];for(var _=u,x;_!==null;){x=_;var A=x.stateNode;if(x.tag===5&&A!==null&&(x=A,g!==null&&(A=ku(_,g),A!=null&&y.push(Lu(_,A,x)))),k)break;_=_.return}0<y.length&&(v=new h(v,b,null,r,d),m.push({event:v,listeners:y}))}}if(!(e&7)){e:{if(v=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",v&&r!==Np&&(b=r.relatedTarget||r.fromElement)&&(qa(b)||b[bs]))break e;if((h||v)&&(v=d.window===d?d:(v=d.ownerDocument)?v.defaultView||v.parentWindow:window,h?(b=r.relatedTarget||r.toElement,h=u,b=b?qa(b):null,b!==null&&(k=no(b),b!==k||b.tag!==5&&b.tag!==6)&&(b=null)):(h=null,b=u),h!==b)){if(y=Pm,A="onMouseLeave",g="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(y=Om,A="onPointerLeave",g="onPointerEnter",_="pointer"),k=h==null?v:Mo(h),x=b==null?v:Mo(b),v=new y(A,_+"leave",h,r,d),v.target=k,v.relatedTarget=x,A=null,qa(d)===u&&(y=new y(g,_+"enter",b,r,d),y.target=x,y.relatedTarget=k,A=y),k=A,h&&b)t:{for(y=h,g=b,_=0,x=y;x;x=_o(x))_++;for(x=0,A=g;A;A=_o(A))x++;for(;0<_-x;)y=_o(y),_--;for(;0<x-_;)g=_o(g),x--;for(;_--;){if(y===g||g!==null&&y===g.alternate)break t;y=_o(y),g=_o(g)}y=null}else y=null;h!==null&&Wm(m,v,h,y,!1),b!==null&&k!==null&&Wm(m,k,b,y,!0)}}e:{if(v=u?Mo(u):window,h=v.nodeName&&v.nodeName.toLowerCase(),h==="select"||h==="input"&&v.type==="file")var T=Gb;else if(zm(v))if(u5)T=Zb;else{T=Jb;var q=Kb}else(h=v.nodeName)&&h.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(T=Yb);if(T&&(T=T(t,u))){l5(m,T,r,d);break e}q&&q(t,v,u),t==="focusout"&&(q=v._wrapperState)&&q.controlled&&v.type==="number"&&_p(v,"number",v.value)}switch(q=u?Mo(u):window,t){case"focusin":(zm(q)||q.contentEditable==="true")&&(Bo=q,Tp=u,du=null);break;case"focusout":du=Tp=Bo=null;break;case"mousedown":Op=!0;break;case"contextmenu":case"mouseup":case"dragend":Op=!1,Mm(m,r,d);break;case"selectionchange":if(ex)break;case"keydown":case"keyup":Mm(m,r,d)}var B;if(H0)e:{switch(t){case"compositionstart":var D="onCompositionStart";break e;case"compositionend":D="onCompositionEnd";break e;case"compositionupdate":D="onCompositionUpdate";break e}D=void 0}else Do?a5(t,r)&&(D="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(D="onCompositionStart");D&&(s5&&r.locale!=="ko"&&(Do||D!=="onCompositionStart"?D==="onCompositionEnd"&&Do&&(B=i5()):(Zs=d,q0="value"in Zs?Zs.value:Zs.textContent,Do=!0)),q=Bh(u,D),0<q.length&&(D=new Tm(D,t,null,r,d),m.push({event:D,listeners:q}),B?D.data=B:(B=o5(r),B!==null&&(D.data=B)))),(B=qb?$b(t,r):Wb(t,r))&&(u=Bh(u,"onBeforeInput"),0<u.length&&(d=new Tm("onBeforeInput","beforeinput",null,r,d),m.push({event:d,listeners:u}),d.data=B))}w5(m,e)})}function Lu(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Bh(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=ku(t,r),s!=null&&n.unshift(Lu(t,s,i)),s=ku(t,e),s!=null&&n.push(Lu(t,s,i))),t=t.return}return n}function _o(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Wm(t,e,r,n,i){for(var s=e._reactName,a=[];r!==null&&r!==n;){var o=r,l=o.alternate,u=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&u!==null&&(o=u,i?(l=ku(r,s),l!=null&&a.unshift(Lu(r,l,o))):i||(l=ku(r,s),l!=null&&a.push(Lu(r,l,o)))),r=r.return}a.length!==0&&t.push({event:e,listeners:a})}var ix=/\r\n?/g,sx=/\u0000|\uFFFD/g;function Hm(t){return(typeof t=="string"?t:""+t).replace(ix,`
`).replace(sx,"")}function Gc(t,e,r){if(e=Hm(e),Hm(t)!==e&&r)throw Error(De(425))}function Uh(){}var Ip=null,Rp=null;function zp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Fp=typeof setTimeout=="function"?setTimeout:void 0,ax=typeof clearTimeout=="function"?clearTimeout:void 0,Vm=typeof Promise=="function"?Promise:void 0,ox=typeof queueMicrotask=="function"?queueMicrotask:typeof Vm<"u"?function(t){return Vm.resolve(null).then(t).catch(lx)}:Fp;function lx(t){setTimeout(function(){throw t})}function Nf(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),Au(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Au(e)}function na(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Gm(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var vl=Math.random().toString(36).slice(2),Mi="__reactFiber$"+vl,Pu="__reactProps$"+vl,bs="__reactContainer$"+vl,Dp="__reactEvents$"+vl,ux="__reactListeners$"+vl,cx="__reactHandles$"+vl;function qa(t){var e=t[Mi];if(e)return e;for(var r=t.parentNode;r;){if(e=r[bs]||r[Mi]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=Gm(t);t!==null;){if(r=t[Mi])return r;t=Gm(t)}return e}t=r,r=t.parentNode}return null}function Yu(t){return t=t[Mi]||t[bs],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Mo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(De(33))}function pd(t){return t[Pu]||null}var Bp=[],qo=-1;function da(t){return{current:t}}function Qt(t){0>qo||(t.current=Bp[qo],Bp[qo]=null,qo--)}function Jt(t,e){qo++,Bp[qo]=t.current,t.current=e}var ua={},on=da(ua),bn=da(!1),Ja=ua;function ul(t,e){var r=t.type.contextTypes;if(!r)return ua;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function xn(t){return t=t.childContextTypes,t!=null}function Mh(){Qt(bn),Qt(on)}function Km(t,e,r){if(on.current!==ua)throw Error(De(168));Jt(on,e),Jt(bn,r)}function b5(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(De(108,K_(t)||"Unknown",i));return ar({},r,n)}function qh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ua,Ja=on.current,Jt(on,t),Jt(bn,bn.current),!0}function Jm(t,e,r){var n=t.stateNode;if(!n)throw Error(De(169));r?(t=b5(t,e,Ja),n.__reactInternalMemoizedMergedChildContext=t,Qt(bn),Qt(on),Jt(on,t)):Qt(bn),Jt(bn,r)}var ms=null,md=!1,Af=!1;function x5(t){ms===null?ms=[t]:ms.push(t)}function hx(t){md=!0,x5(t)}function fa(){if(!Af&&ms!==null){Af=!0;var t=0,e=Bt;try{var r=ms;for(Bt=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}ms=null,md=!1}catch(i){throw ms!==null&&(ms=ms.slice(t+1)),Gv(D0,fa),i}finally{Bt=e,Af=!1}}return null}var $o=[],Wo=0,$h=null,Wh=0,Qn=[],ei=0,Ya=null,vs=1,ys="";function Ra(t,e){$o[Wo++]=Wh,$o[Wo++]=$h,$h=t,Wh=e}function k5(t,e,r){Qn[ei++]=vs,Qn[ei++]=ys,Qn[ei++]=Ya,Ya=t;var n=vs;t=ys;var i=32-xi(n)-1;n&=~(1<<i),r+=1;var s=32-xi(e)+i;if(30<s){var a=i-i%5;s=(n&(1<<a)-1).toString(32),n>>=a,i-=a,vs=1<<32-xi(e)+i|r<<i|n,ys=s+t}else vs=1<<s|r<<i|n,ys=t}function G0(t){t.return!==null&&(Ra(t,1),k5(t,1,0))}function K0(t){for(;t===$h;)$h=$o[--Wo],$o[Wo]=null,Wh=$o[--Wo],$o[Wo]=null;for(;t===Ya;)Ya=Qn[--ei],Qn[ei]=null,ys=Qn[--ei],Qn[ei]=null,vs=Qn[--ei],Qn[ei]=null}var Un=null,Dn=null,tr=!1,bi=null;function S5(t,e){var r=ti(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function Ym(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Un=t,Dn=na(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Un=t,Dn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Ya!==null?{id:vs,overflow:ys}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=ti(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Un=t,Dn=null,!0):!1;default:return!1}}function Up(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Mp(t){if(tr){var e=Dn;if(e){var r=e;if(!Ym(t,e)){if(Up(t))throw Error(De(418));e=na(r.nextSibling);var n=Un;e&&Ym(t,e)?S5(n,r):(t.flags=t.flags&-4097|2,tr=!1,Un=t)}}else{if(Up(t))throw Error(De(418));t.flags=t.flags&-4097|2,tr=!1,Un=t}}}function Zm(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Un=t}function Kc(t){if(t!==Un)return!1;if(!tr)return Zm(t),tr=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!zp(t.type,t.memoizedProps)),e&&(e=Dn)){if(Up(t))throw N5(),Error(De(418));for(;e;)S5(t,e),e=na(e.nextSibling)}if(Zm(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(De(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Dn=na(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Dn=null}}else Dn=Un?na(t.stateNode.nextSibling):null;return!0}function N5(){for(var t=Dn;t;)t=na(t.nextSibling)}function cl(){Dn=Un=null,tr=!1}function J0(t){bi===null?bi=[t]:bi.push(t)}var dx=Ss.ReactCurrentBatchConfig;function Xl(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(De(309));var n=r.stateNode}if(!n)throw Error(De(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var o=i.refs;a===null?delete o[s]:o[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(De(284));if(!r._owner)throw Error(De(290,t))}return t}function Jc(t,e){throw t=Object.prototype.toString.call(e),Error(De(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Xm(t){var e=t._init;return e(t._payload)}function A5(t){function e(g,_){if(t){var x=g.deletions;x===null?(g.deletions=[_],g.flags|=16):x.push(_)}}function r(g,_){if(!t)return null;for(;_!==null;)e(g,_),_=_.sibling;return null}function n(g,_){for(g=new Map;_!==null;)_.key!==null?g.set(_.key,_):g.set(_.index,_),_=_.sibling;return g}function i(g,_){return g=oa(g,_),g.index=0,g.sibling=null,g}function s(g,_,x){return g.index=x,t?(x=g.alternate,x!==null?(x=x.index,x<_?(g.flags|=2,_):x):(g.flags|=2,_)):(g.flags|=1048576,_)}function a(g){return t&&g.alternate===null&&(g.flags|=2),g}function o(g,_,x,A){return _===null||_.tag!==6?(_=Of(x,g.mode,A),_.return=g,_):(_=i(_,x),_.return=g,_)}function l(g,_,x,A){var T=x.type;return T===Fo?d(g,_,x.props.children,A,x.key):_!==null&&(_.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Hs&&Xm(T)===_.type)?(A=i(_,x.props),A.ref=Xl(g,_,x),A.return=g,A):(A=Nh(x.type,x.key,x.props,null,g.mode,A),A.ref=Xl(g,_,x),A.return=g,A)}function u(g,_,x,A){return _===null||_.tag!==4||_.stateNode.containerInfo!==x.containerInfo||_.stateNode.implementation!==x.implementation?(_=If(x,g.mode,A),_.return=g,_):(_=i(_,x.children||[]),_.return=g,_)}function d(g,_,x,A,T){return _===null||_.tag!==7?(_=Ga(x,g.mode,A,T),_.return=g,_):(_=i(_,x),_.return=g,_)}function m(g,_,x){if(typeof _=="string"&&_!==""||typeof _=="number")return _=Of(""+_,g.mode,x),_.return=g,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Dc:return x=Nh(_.type,_.key,_.props,null,g.mode,x),x.ref=Xl(g,null,_),x.return=g,x;case zo:return _=If(_,g.mode,x),_.return=g,_;case Hs:var A=_._init;return m(g,A(_._payload),x)}if(iu(_)||Gl(_))return _=Ga(_,g.mode,x,null),_.return=g,_;Jc(g,_)}return null}function v(g,_,x,A){var T=_!==null?_.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return T!==null?null:o(g,_,""+x,A);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Dc:return x.key===T?l(g,_,x,A):null;case zo:return x.key===T?u(g,_,x,A):null;case Hs:return T=x._init,v(g,_,T(x._payload),A)}if(iu(x)||Gl(x))return T!==null?null:d(g,_,x,A,null);Jc(g,x)}return null}function h(g,_,x,A,T){if(typeof A=="string"&&A!==""||typeof A=="number")return g=g.get(x)||null,o(_,g,""+A,T);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Dc:return g=g.get(A.key===null?x:A.key)||null,l(_,g,A,T);case zo:return g=g.get(A.key===null?x:A.key)||null,u(_,g,A,T);case Hs:var q=A._init;return h(g,_,x,q(A._payload),T)}if(iu(A)||Gl(A))return g=g.get(x)||null,d(_,g,A,T,null);Jc(_,A)}return null}function b(g,_,x,A){for(var T=null,q=null,B=_,D=_=0,P=null;B!==null&&D<x.length;D++){B.index>D?(P=B,B=null):P=B.sibling;var G=v(g,B,x[D],A);if(G===null){B===null&&(B=P);break}t&&B&&G.alternate===null&&e(g,B),_=s(G,_,D),q===null?T=G:q.sibling=G,q=G,B=P}if(D===x.length)return r(g,B),tr&&Ra(g,D),T;if(B===null){for(;D<x.length;D++)B=m(g,x[D],A),B!==null&&(_=s(B,_,D),q===null?T=B:q.sibling=B,q=B);return tr&&Ra(g,D),T}for(B=n(g,B);D<x.length;D++)P=h(B,g,D,x[D],A),P!==null&&(t&&P.alternate!==null&&B.delete(P.key===null?D:P.key),_=s(P,_,D),q===null?T=P:q.sibling=P,q=P);return t&&B.forEach(function(I){return e(g,I)}),tr&&Ra(g,D),T}function y(g,_,x,A){var T=Gl(x);if(typeof T!="function")throw Error(De(150));if(x=T.call(x),x==null)throw Error(De(151));for(var q=T=null,B=_,D=_=0,P=null,G=x.next();B!==null&&!G.done;D++,G=x.next()){B.index>D?(P=B,B=null):P=B.sibling;var I=v(g,B,G.value,A);if(I===null){B===null&&(B=P);break}t&&B&&I.alternate===null&&e(g,B),_=s(I,_,D),q===null?T=I:q.sibling=I,q=I,B=P}if(G.done)return r(g,B),tr&&Ra(g,D),T;if(B===null){for(;!G.done;D++,G=x.next())G=m(g,G.value,A),G!==null&&(_=s(G,_,D),q===null?T=G:q.sibling=G,q=G);return tr&&Ra(g,D),T}for(B=n(g,B);!G.done;D++,G=x.next())G=h(B,g,D,G.value,A),G!==null&&(t&&G.alternate!==null&&B.delete(G.key===null?D:G.key),_=s(G,_,D),q===null?T=G:q.sibling=G,q=G);return t&&B.forEach(function(L){return e(g,L)}),tr&&Ra(g,D),T}function k(g,_,x,A){if(typeof x=="object"&&x!==null&&x.type===Fo&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Dc:e:{for(var T=x.key,q=_;q!==null;){if(q.key===T){if(T=x.type,T===Fo){if(q.tag===7){r(g,q.sibling),_=i(q,x.props.children),_.return=g,g=_;break e}}else if(q.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Hs&&Xm(T)===q.type){r(g,q.sibling),_=i(q,x.props),_.ref=Xl(g,q,x),_.return=g,g=_;break e}r(g,q);break}else e(g,q);q=q.sibling}x.type===Fo?(_=Ga(x.props.children,g.mode,A,x.key),_.return=g,g=_):(A=Nh(x.type,x.key,x.props,null,g.mode,A),A.ref=Xl(g,_,x),A.return=g,g=A)}return a(g);case zo:e:{for(q=x.key;_!==null;){if(_.key===q)if(_.tag===4&&_.stateNode.containerInfo===x.containerInfo&&_.stateNode.implementation===x.implementation){r(g,_.sibling),_=i(_,x.children||[]),_.return=g,g=_;break e}else{r(g,_);break}else e(g,_);_=_.sibling}_=If(x,g.mode,A),_.return=g,g=_}return a(g);case Hs:return q=x._init,k(g,_,q(x._payload),A)}if(iu(x))return b(g,_,x,A);if(Gl(x))return y(g,_,x,A);Jc(g,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,_!==null&&_.tag===6?(r(g,_.sibling),_=i(_,x),_.return=g,g=_):(r(g,_),_=Of(x,g.mode,A),_.return=g,g=_),a(g)):r(g,_)}return k}var hl=A5(!0),j5=A5(!1),Hh=da(null),Vh=null,Ho=null,Y0=null;function Z0(){Y0=Ho=Vh=null}function X0(t){var e=Hh.current;Qt(Hh),t._currentValue=e}function qp(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function tl(t,e){Vh=t,Y0=Ho=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(_n=!0),t.firstContext=null)}function ni(t){var e=t._currentValue;if(Y0!==t)if(t={context:t,memoizedValue:e,next:null},Ho===null){if(Vh===null)throw Error(De(308));Ho=t,Vh.dependencies={lanes:0,firstContext:t}}else Ho=Ho.next=t;return e}var $a=null;function Q0(t){$a===null?$a=[t]:$a.push(t)}function E5(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,Q0(e)):(r.next=i.next,i.next=r),e.interleaved=r,xs(t,n)}function xs(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Vs=!1;function e1(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function C5(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ws(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ia(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Lt&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,xs(t,r)}return i=n.interleaved,i===null?(e.next=e,Q0(n)):(e.next=i.next,i.next=e),n.interleaved=e,xs(t,r)}function wh(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,B0(t,r)}}function Qm(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=a:s=s.next=a,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Gh(t,e,r,n){var i=t.updateQueue;Vs=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,u=l.next;l.next=null,a===null?s=u:a.next=u,a=l;var d=t.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==a&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=l))}if(s!==null){var m=i.baseState;a=0,d=u=l=null,o=s;do{var v=o.lane,h=o.eventTime;if((n&v)===v){d!==null&&(d=d.next={eventTime:h,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var b=t,y=o;switch(v=e,h=r,y.tag){case 1:if(b=y.payload,typeof b=="function"){m=b.call(h,m,v);break e}m=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=y.payload,v=typeof b=="function"?b.call(h,m,v):b,v==null)break e;m=ar({},m,v);break e;case 2:Vs=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,v=i.effects,v===null?i.effects=[o]:v.push(o))}else h={eventTime:h,lane:v,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=h,l=m):d=d.next=h,a|=v;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;v=o,o=v.next,v.next=null,i.lastBaseUpdate=v,i.shared.pending=null}}while(!0);if(d===null&&(l=m),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Xa|=a,t.lanes=a,t.memoizedState=m}}function e2(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(De(191,i));i.call(n)}}}var Zu={},Hi=da(Zu),Tu=da(Zu),Ou=da(Zu);function Wa(t){if(t===Zu)throw Error(De(174));return t}function t1(t,e){switch(Jt(Ou,e),Jt(Tu,t),Jt(Hi,Zu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:xp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=xp(e,t)}Qt(Hi),Jt(Hi,e)}function dl(){Qt(Hi),Qt(Tu),Qt(Ou)}function L5(t){Wa(Ou.current);var e=Wa(Hi.current),r=xp(e,t.type);e!==r&&(Jt(Tu,t),Jt(Hi,r))}function r1(t){Tu.current===t&&(Qt(Hi),Qt(Tu))}var ir=da(0);function Kh(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var jf=[];function n1(){for(var t=0;t<jf.length;t++)jf[t]._workInProgressVersionPrimary=null;jf.length=0}var _h=Ss.ReactCurrentDispatcher,Ef=Ss.ReactCurrentBatchConfig,Za=0,sr=null,Ir=null,Fr=null,Jh=!1,fu=!1,Iu=0,fx=0;function Qr(){throw Error(De(321))}function i1(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Si(t[r],e[r]))return!1;return!0}function s1(t,e,r,n,i,s){if(Za=s,sr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,_h.current=t===null||t.memoizedState===null?vx:yx,t=r(n,i),fu){s=0;do{if(fu=!1,Iu=0,25<=s)throw Error(De(301));s+=1,Fr=Ir=null,e.updateQueue=null,_h.current=wx,t=r(n,i)}while(fu)}if(_h.current=Yh,e=Ir!==null&&Ir.next!==null,Za=0,Fr=Ir=sr=null,Jh=!1,e)throw Error(De(300));return t}function a1(){var t=Iu!==0;return Iu=0,t}function Ui(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fr===null?sr.memoizedState=Fr=t:Fr=Fr.next=t,Fr}function ii(){if(Ir===null){var t=sr.alternate;t=t!==null?t.memoizedState:null}else t=Ir.next;var e=Fr===null?sr.memoizedState:Fr.next;if(e!==null)Fr=e,Ir=t;else{if(t===null)throw Error(De(310));Ir=t,t={memoizedState:Ir.memoizedState,baseState:Ir.baseState,baseQueue:Ir.baseQueue,queue:Ir.queue,next:null},Fr===null?sr.memoizedState=Fr=t:Fr=Fr.next=t}return Fr}function Ru(t,e){return typeof e=="function"?e(t):e}function Cf(t){var e=ii(),r=e.queue;if(r===null)throw Error(De(311));r.lastRenderedReducer=t;var n=Ir,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var o=a=null,l=null,u=s;do{var d=u.lane;if((Za&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var m={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=m,a=n):l=l.next=m,sr.lanes|=d,Xa|=d}u=u.next}while(u!==null&&u!==s);l===null?a=n:l.next=o,Si(n,e.memoizedState)||(_n=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,sr.lanes|=s,Xa|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Lf(t){var e=ii(),r=e.queue;if(r===null)throw Error(De(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);Si(s,e.memoizedState)||(_n=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function P5(){}function T5(t,e){var r=sr,n=ii(),i=e(),s=!Si(n.memoizedState,i);if(s&&(n.memoizedState=i,_n=!0),n=n.queue,o1(R5.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||Fr!==null&&Fr.memoizedState.tag&1){if(r.flags|=2048,zu(9,I5.bind(null,r,n,i,e),void 0,null),Br===null)throw Error(De(349));Za&30||O5(r,e,i)}return i}function O5(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=sr.updateQueue,e===null?(e={lastEffect:null,stores:null},sr.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function I5(t,e,r,n){e.value=r,e.getSnapshot=n,z5(e)&&F5(t)}function R5(t,e,r){return r(function(){z5(e)&&F5(t)})}function z5(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Si(t,r)}catch{return!0}}function F5(t){var e=xs(t,1);e!==null&&ki(e,t,1,-1)}function t2(t){var e=Ui();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ru,lastRenderedState:t},e.queue=t,t=t.dispatch=gx.bind(null,sr,t),[e.memoizedState,t]}function zu(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=sr.updateQueue,e===null?(e={lastEffect:null,stores:null},sr.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function D5(){return ii().memoizedState}function bh(t,e,r,n){var i=Ui();sr.flags|=t,i.memoizedState=zu(1|e,r,void 0,n===void 0?null:n)}function gd(t,e,r,n){var i=ii();n=n===void 0?null:n;var s=void 0;if(Ir!==null){var a=Ir.memoizedState;if(s=a.destroy,n!==null&&i1(n,a.deps)){i.memoizedState=zu(e,r,s,n);return}}sr.flags|=t,i.memoizedState=zu(1|e,r,s,n)}function r2(t,e){return bh(8390656,8,t,e)}function o1(t,e){return gd(2048,8,t,e)}function B5(t,e){return gd(4,2,t,e)}function U5(t,e){return gd(4,4,t,e)}function M5(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function q5(t,e,r){return r=r!=null?r.concat([t]):null,gd(4,4,M5.bind(null,e,t),r)}function l1(){}function $5(t,e){var r=ii();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&i1(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function W5(t,e){var r=ii();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&i1(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function H5(t,e,r){return Za&21?(Si(r,e)||(r=Yv(),sr.lanes|=r,Xa|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,_n=!0),t.memoizedState=r)}function px(t,e){var r=Bt;Bt=r!==0&&4>r?r:4,t(!0);var n=Ef.transition;Ef.transition={};try{t(!1),e()}finally{Bt=r,Ef.transition=n}}function V5(){return ii().memoizedState}function mx(t,e,r){var n=aa(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},G5(t))K5(e,r);else if(r=E5(t,e,r,n),r!==null){var i=fn();ki(r,t,n,i),J5(r,e,n)}}function gx(t,e,r){var n=aa(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(G5(t))K5(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,r);if(i.hasEagerState=!0,i.eagerState=o,Si(o,a)){var l=e.interleaved;l===null?(i.next=i,Q0(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=E5(t,e,i,n),r!==null&&(i=fn(),ki(r,t,n,i),J5(r,e,n))}}function G5(t){var e=t.alternate;return t===sr||e!==null&&e===sr}function K5(t,e){fu=Jh=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function J5(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,B0(t,r)}}var Yh={readContext:ni,useCallback:Qr,useContext:Qr,useEffect:Qr,useImperativeHandle:Qr,useInsertionEffect:Qr,useLayoutEffect:Qr,useMemo:Qr,useReducer:Qr,useRef:Qr,useState:Qr,useDebugValue:Qr,useDeferredValue:Qr,useTransition:Qr,useMutableSource:Qr,useSyncExternalStore:Qr,useId:Qr,unstable_isNewReconciler:!1},vx={readContext:ni,useCallback:function(t,e){return Ui().memoizedState=[t,e===void 0?null:e],t},useContext:ni,useEffect:r2,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,bh(4194308,4,M5.bind(null,e,t),r)},useLayoutEffect:function(t,e){return bh(4194308,4,t,e)},useInsertionEffect:function(t,e){return bh(4,2,t,e)},useMemo:function(t,e){var r=Ui();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Ui();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=mx.bind(null,sr,t),[n.memoizedState,t]},useRef:function(t){var e=Ui();return t={current:t},e.memoizedState=t},useState:t2,useDebugValue:l1,useDeferredValue:function(t){return Ui().memoizedState=t},useTransition:function(){var t=t2(!1),e=t[0];return t=px.bind(null,t[1]),Ui().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=sr,i=Ui();if(tr){if(r===void 0)throw Error(De(407));r=r()}else{if(r=e(),Br===null)throw Error(De(349));Za&30||O5(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,r2(R5.bind(null,n,s,t),[t]),n.flags|=2048,zu(9,I5.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=Ui(),e=Br.identifierPrefix;if(tr){var r=ys,n=vs;r=(n&~(1<<32-xi(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Iu++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=fx++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},yx={readContext:ni,useCallback:$5,useContext:ni,useEffect:o1,useImperativeHandle:q5,useInsertionEffect:B5,useLayoutEffect:U5,useMemo:W5,useReducer:Cf,useRef:D5,useState:function(){return Cf(Ru)},useDebugValue:l1,useDeferredValue:function(t){var e=ii();return H5(e,Ir.memoizedState,t)},useTransition:function(){var t=Cf(Ru)[0],e=ii().memoizedState;return[t,e]},useMutableSource:P5,useSyncExternalStore:T5,useId:V5,unstable_isNewReconciler:!1},wx={readContext:ni,useCallback:$5,useContext:ni,useEffect:o1,useImperativeHandle:q5,useInsertionEffect:B5,useLayoutEffect:U5,useMemo:W5,useReducer:Lf,useRef:D5,useState:function(){return Lf(Ru)},useDebugValue:l1,useDeferredValue:function(t){var e=ii();return Ir===null?e.memoizedState=t:H5(e,Ir.memoizedState,t)},useTransition:function(){var t=Lf(Ru)[0],e=ii().memoizedState;return[t,e]},useMutableSource:P5,useSyncExternalStore:T5,useId:V5,unstable_isNewReconciler:!1};function vi(t,e){if(t&&t.defaultProps){e=ar({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function $p(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:ar({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var vd={isMounted:function(t){return(t=t._reactInternals)?no(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=fn(),i=aa(t),s=ws(n,i);s.payload=e,r!=null&&(s.callback=r),e=ia(t,s,i),e!==null&&(ki(e,t,i,n),wh(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=fn(),i=aa(t),s=ws(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=ia(t,s,i),e!==null&&(ki(e,t,i,n),wh(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=fn(),n=aa(t),i=ws(r,n);i.tag=2,e!=null&&(i.callback=e),e=ia(t,i,n),e!==null&&(ki(e,t,n,r),wh(e,t,n))}};function n2(t,e,r,n,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,a):e.prototype&&e.prototype.isPureReactComponent?!Eu(r,n)||!Eu(i,s):!0}function Y5(t,e,r){var n=!1,i=ua,s=e.contextType;return typeof s=="object"&&s!==null?s=ni(s):(i=xn(e)?Ja:on.current,n=e.contextTypes,s=(n=n!=null)?ul(t,i):ua),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=vd,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function i2(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&vd.enqueueReplaceState(e,e.state,null)}function Wp(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},e1(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=ni(s):(s=xn(e)?Ja:on.current,i.context=ul(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&($p(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&vd.enqueueReplaceState(i,i.state,null),Gh(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function fl(t,e){try{var r="",n=e;do r+=G_(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Pf(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Hp(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var _x=typeof WeakMap=="function"?WeakMap:Map;function Z5(t,e,r){r=ws(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Xh||(Xh=!0,t0=n),Hp(t,e)},r}function X5(t,e,r){r=ws(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){Hp(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){Hp(t,e),typeof n!="function"&&(sa===null?sa=new Set([this]):sa.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),r}function s2(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new _x;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=Ix.bind(null,t,e,r),e.then(t,t))}function a2(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function o2(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=ws(-1,1),e.tag=2,ia(r,e,1))),r.lanes|=1),t)}var bx=Ss.ReactCurrentOwner,_n=!1;function dn(t,e,r,n){e.child=t===null?j5(e,null,r,n):hl(e,t.child,r,n)}function l2(t,e,r,n,i){r=r.render;var s=e.ref;return tl(e,i),n=s1(t,e,r,n,s,i),r=a1(),t!==null&&!_n?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ks(t,e,i)):(tr&&r&&G0(e),e.flags|=1,dn(t,e,n,i),e.child)}function u2(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!g1(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,Q5(t,e,s,n,i)):(t=Nh(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(r=r.compare,r=r!==null?r:Eu,r(a,n)&&t.ref===e.ref)return ks(t,e,i)}return e.flags|=1,t=oa(s,n),t.ref=e.ref,t.return=e,e.child=t}function Q5(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(Eu(s,n)&&t.ref===e.ref)if(_n=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(_n=!0);else return e.lanes=t.lanes,ks(t,e,i)}return Vp(t,e,r,n,i)}function ey(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Jt(Go,Rn),Rn|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Jt(Go,Rn),Rn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,Jt(Go,Rn),Rn|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,Jt(Go,Rn),Rn|=n;return dn(t,e,i,r),e.child}function ty(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Vp(t,e,r,n,i){var s=xn(r)?Ja:on.current;return s=ul(e,s),tl(e,i),r=s1(t,e,r,n,s,i),n=a1(),t!==null&&!_n?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ks(t,e,i)):(tr&&n&&G0(e),e.flags|=1,dn(t,e,r,i),e.child)}function c2(t,e,r,n,i){if(xn(r)){var s=!0;qh(e)}else s=!1;if(tl(e,i),e.stateNode===null)xh(t,e),Y5(e,r,n),Wp(e,r,n,i),n=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,u=r.contextType;typeof u=="object"&&u!==null?u=ni(u):(u=xn(r)?Ja:on.current,u=ul(e,u));var d=r.getDerivedStateFromProps,m=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";m||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==n||l!==u)&&i2(e,a,n,u),Vs=!1;var v=e.memoizedState;a.state=v,Gh(e,n,a,i),l=e.memoizedState,o!==n||v!==l||bn.current||Vs?(typeof d=="function"&&($p(e,r,d,n),l=e.memoizedState),(o=Vs||n2(e,r,o,n,v,l,u))?(m||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),a.props=n,a.state=l,a.context=u,n=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,C5(t,e),o=e.memoizedProps,u=e.type===e.elementType?o:vi(e.type,o),a.props=u,m=e.pendingProps,v=a.context,l=r.contextType,typeof l=="object"&&l!==null?l=ni(l):(l=xn(r)?Ja:on.current,l=ul(e,l));var h=r.getDerivedStateFromProps;(d=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==m||v!==l)&&i2(e,a,n,l),Vs=!1,v=e.memoizedState,a.state=v,Gh(e,n,a,i);var b=e.memoizedState;o!==m||v!==b||bn.current||Vs?(typeof h=="function"&&($p(e,r,h,n),b=e.memoizedState),(u=Vs||n2(e,r,u,n,v,b,l)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,b,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,b,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&v===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=b),a.props=n,a.state=b,a.context=l,n=u):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&v===t.memoizedState||(e.flags|=1024),n=!1)}return Gp(t,e,r,n,s,i)}function Gp(t,e,r,n,i,s){ty(t,e);var a=(e.flags&128)!==0;if(!n&&!a)return i&&Jm(e,r,!1),ks(t,e,s);n=e.stateNode,bx.current=e;var o=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&a?(e.child=hl(e,t.child,null,s),e.child=hl(e,null,o,s)):dn(t,e,o,s),e.memoizedState=n.state,i&&Jm(e,r,!0),e.child}function ry(t){var e=t.stateNode;e.pendingContext?Km(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Km(t,e.context,!1),t1(t,e.containerInfo)}function h2(t,e,r,n,i){return cl(),J0(i),e.flags|=256,dn(t,e,r,n),e.child}var Kp={dehydrated:null,treeContext:null,retryLane:0};function Jp(t){return{baseLanes:t,cachePool:null,transitions:null}}function ny(t,e,r){var n=e.pendingProps,i=ir.current,s=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Jt(ir,i&1),t===null)return Mp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=n.children,t=n.fallback,s?(n=e.mode,s=e.child,a={mode:"hidden",children:a},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=_d(a,n,0,null),t=Ga(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Jp(r),e.memoizedState=Kp,t):u1(e,a));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return xx(t,e,a,n,o,i,r);if(s){s=n.fallback,a=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:n.children};return!(a&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=oa(i,l),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=oa(o,s):(s=Ga(s,a,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,a=t.child.memoizedState,a=a===null?Jp(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~r,e.memoizedState=Kp,n}return s=t.child,t=s.sibling,n=oa(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function u1(t,e){return e=_d({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Yc(t,e,r,n){return n!==null&&J0(n),hl(e,t.child,null,r),t=u1(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function xx(t,e,r,n,i,s,a){if(r)return e.flags&256?(e.flags&=-257,n=Pf(Error(De(422))),Yc(t,e,a,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=_d({mode:"visible",children:n.children},i,0,null),s=Ga(s,i,a,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&hl(e,t.child,null,a),e.child.memoizedState=Jp(a),e.memoizedState=Kp,s);if(!(e.mode&1))return Yc(t,e,a,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,s=Error(De(419)),n=Pf(s,n,void 0),Yc(t,e,a,n)}if(o=(a&t.childLanes)!==0,_n||o){if(n=Br,n!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,xs(t,i),ki(n,t,i,-1))}return m1(),n=Pf(Error(De(421))),Yc(t,e,a,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=Rx.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Dn=na(i.nextSibling),Un=e,tr=!0,bi=null,t!==null&&(Qn[ei++]=vs,Qn[ei++]=ys,Qn[ei++]=Ya,vs=t.id,ys=t.overflow,Ya=e),e=u1(e,n.children),e.flags|=4096,e)}function d2(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),qp(t.return,e,r)}function Tf(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function iy(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(dn(t,e,n.children,r),n=ir.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&d2(t,r,e);else if(t.tag===19)d2(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Jt(ir,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&Kh(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),Tf(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Kh(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}Tf(e,!0,r,null,s);break;case"together":Tf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function xh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ks(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Xa|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(De(153));if(e.child!==null){for(t=e.child,r=oa(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=oa(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function kx(t,e,r){switch(e.tag){case 3:ry(e),cl();break;case 5:L5(e);break;case 1:xn(e.type)&&qh(e);break;case 4:t1(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;Jt(Hh,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Jt(ir,ir.current&1),e.flags|=128,null):r&e.child.childLanes?ny(t,e,r):(Jt(ir,ir.current&1),t=ks(t,e,r),t!==null?t.sibling:null);Jt(ir,ir.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return iy(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Jt(ir,ir.current),n)break;return null;case 22:case 23:return e.lanes=0,ey(t,e,r)}return ks(t,e,r)}var sy,Yp,ay,oy;sy=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Yp=function(){};ay=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,Wa(Hi.current);var s=null;switch(r){case"input":i=yp(t,i),n=yp(t,n),s=[];break;case"select":i=ar({},i,{value:void 0}),n=ar({},n,{value:void 0}),s=[];break;case"textarea":i=bp(t,i),n=bp(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Uh)}kp(r,n);var a;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var o=i[u];for(a in o)o.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(bu.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var l=n[u];if(o=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(r||(r={}),r[a]=l[a])}else r||(s||(s=[]),s.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(bu.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Zt("scroll",t),s||o===l||(s=[])):(s=s||[]).push(u,l))}r&&(s=s||[]).push("style",r);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};oy=function(t,e,r,n){r!==n&&(e.flags|=4)};function Ql(t,e){if(!tr)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function en(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function Sx(t,e,r){var n=e.pendingProps;switch(K0(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return en(e),null;case 1:return xn(e.type)&&Mh(),en(e),null;case 3:return n=e.stateNode,dl(),Qt(bn),Qt(on),n1(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Kc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,bi!==null&&(i0(bi),bi=null))),Yp(t,e),en(e),null;case 5:r1(e);var i=Wa(Ou.current);if(r=e.type,t!==null&&e.stateNode!=null)ay(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(De(166));return en(e),null}if(t=Wa(Hi.current),Kc(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[Mi]=e,n[Pu]=s,t=(e.mode&1)!==0,r){case"dialog":Zt("cancel",n),Zt("close",n);break;case"iframe":case"object":case"embed":Zt("load",n);break;case"video":case"audio":for(i=0;i<au.length;i++)Zt(au[i],n);break;case"source":Zt("error",n);break;case"img":case"image":case"link":Zt("error",n),Zt("load",n);break;case"details":Zt("toggle",n);break;case"input":bm(n,s),Zt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Zt("invalid",n);break;case"textarea":km(n,s),Zt("invalid",n)}kp(r,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?n.textContent!==o&&(s.suppressHydrationWarning!==!0&&Gc(n.textContent,o,t),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&Gc(n.textContent,o,t),i=["children",""+o]):bu.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&Zt("scroll",n)}switch(r){case"input":Bc(n),xm(n,s,!0);break;case"textarea":Bc(n),Sm(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=Uh)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Rv(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=a.createElement(r,{is:n.is}):(t=a.createElement(r),r==="select"&&(a=t,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):t=a.createElementNS(t,r),t[Mi]=e,t[Pu]=n,sy(t,e,!1,!1),e.stateNode=t;e:{switch(a=Sp(r,n),r){case"dialog":Zt("cancel",t),Zt("close",t),i=n;break;case"iframe":case"object":case"embed":Zt("load",t),i=n;break;case"video":case"audio":for(i=0;i<au.length;i++)Zt(au[i],t);i=n;break;case"source":Zt("error",t),i=n;break;case"img":case"image":case"link":Zt("error",t),Zt("load",t),i=n;break;case"details":Zt("toggle",t),i=n;break;case"input":bm(t,n),i=yp(t,n),Zt("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=ar({},n,{value:void 0}),Zt("invalid",t);break;case"textarea":km(t,n),i=bp(t,n),Zt("invalid",t);break;default:i=n}kp(r,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?Dv(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&zv(t,l)):s==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&xu(t,l):typeof l=="number"&&xu(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(bu.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Zt("scroll",t):l!=null&&O0(t,s,l,a))}switch(r){case"input":Bc(t),xm(t,n,!1);break;case"textarea":Bc(t),Sm(t);break;case"option":n.value!=null&&t.setAttribute("value",""+la(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?Zo(t,!!n.multiple,s,!1):n.defaultValue!=null&&Zo(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Uh)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return en(e),null;case 6:if(t&&e.stateNode!=null)oy(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(De(166));if(r=Wa(Ou.current),Wa(Hi.current),Kc(e)){if(n=e.stateNode,r=e.memoizedProps,n[Mi]=e,(s=n.nodeValue!==r)&&(t=Un,t!==null))switch(t.tag){case 3:Gc(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Gc(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Mi]=e,e.stateNode=n}return en(e),null;case 13:if(Qt(ir),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(tr&&Dn!==null&&e.mode&1&&!(e.flags&128))N5(),cl(),e.flags|=98560,s=!1;else if(s=Kc(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(De(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(De(317));s[Mi]=e}else cl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;en(e),s=!1}else bi!==null&&(i0(bi),bi=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||ir.current&1?Rr===0&&(Rr=3):m1())),e.updateQueue!==null&&(e.flags|=4),en(e),null);case 4:return dl(),Yp(t,e),t===null&&Cu(e.stateNode.containerInfo),en(e),null;case 10:return X0(e.type._context),en(e),null;case 17:return xn(e.type)&&Mh(),en(e),null;case 19:if(Qt(ir),s=e.memoizedState,s===null)return en(e),null;if(n=(e.flags&128)!==0,a=s.rendering,a===null)if(n)Ql(s,!1);else{if(Rr!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Kh(t),a!==null){for(e.flags|=128,Ql(s,!1),n=a.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Jt(ir,ir.current&1|2),e.child}t=t.sibling}s.tail!==null&&vr()>pl&&(e.flags|=128,n=!0,Ql(s,!1),e.lanes=4194304)}else{if(!n)if(t=Kh(a),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Ql(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!tr)return en(e),null}else 2*vr()-s.renderingStartTime>pl&&r!==1073741824&&(e.flags|=128,n=!0,Ql(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(r=s.last,r!==null?r.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=vr(),e.sibling=null,r=ir.current,Jt(ir,n?r&1|2:r&1),e):(en(e),null);case 22:case 23:return p1(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Rn&1073741824&&(en(e),e.subtreeFlags&6&&(e.flags|=8192)):en(e),null;case 24:return null;case 25:return null}throw Error(De(156,e.tag))}function Nx(t,e){switch(K0(e),e.tag){case 1:return xn(e.type)&&Mh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return dl(),Qt(bn),Qt(on),n1(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return r1(e),null;case 13:if(Qt(ir),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(De(340));cl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Qt(ir),null;case 4:return dl(),null;case 10:return X0(e.type._context),null;case 22:case 23:return p1(),null;case 24:return null;default:return null}}var Zc=!1,an=!1,Ax=typeof WeakSet=="function"?WeakSet:Set,We=null;function Vo(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){dr(t,e,n)}else r.current=null}function Zp(t,e,r){try{r()}catch(n){dr(t,e,n)}}var f2=!1;function jx(t,e){if(Ip=Fh,t=d5(),V0(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var a=0,o=-1,l=-1,u=0,d=0,m=t,v=null;t:for(;;){for(var h;m!==r||i!==0&&m.nodeType!==3||(o=a+i),m!==s||n!==0&&m.nodeType!==3||(l=a+n),m.nodeType===3&&(a+=m.nodeValue.length),(h=m.firstChild)!==null;)v=m,m=h;for(;;){if(m===t)break t;if(v===r&&++u===i&&(o=a),v===s&&++d===n&&(l=a),(h=m.nextSibling)!==null)break;m=v,v=m.parentNode}m=h}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(Rp={focusedElem:t,selectionRange:r},Fh=!1,We=e;We!==null;)if(e=We,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,We=t;else for(;We!==null;){e=We;try{var b=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var y=b.memoizedProps,k=b.memoizedState,g=e.stateNode,_=g.getSnapshotBeforeUpdate(e.elementType===e.type?y:vi(e.type,y),k);g.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(De(163))}}catch(A){dr(e,e.return,A)}if(t=e.sibling,t!==null){t.return=e.return,We=t;break}We=e.return}return b=f2,f2=!1,b}function pu(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Zp(e,r,s)}i=i.next}while(i!==n)}}function yd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Xp(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function ly(t){var e=t.alternate;e!==null&&(t.alternate=null,ly(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Mi],delete e[Pu],delete e[Dp],delete e[ux],delete e[cx])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function uy(t){return t.tag===5||t.tag===3||t.tag===4}function p2(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||uy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Qp(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Uh));else if(n!==4&&(t=t.child,t!==null))for(Qp(t,e,r),t=t.sibling;t!==null;)Qp(t,e,r),t=t.sibling}function e0(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(e0(t,e,r),t=t.sibling;t!==null;)e0(t,e,r),t=t.sibling}var Kr=null,wi=!1;function qs(t,e,r){for(r=r.child;r!==null;)cy(t,e,r),r=r.sibling}function cy(t,e,r){if(Wi&&typeof Wi.onCommitFiberUnmount=="function")try{Wi.onCommitFiberUnmount(cd,r)}catch{}switch(r.tag){case 5:an||Vo(r,e);case 6:var n=Kr,i=wi;Kr=null,qs(t,e,r),Kr=n,wi=i,Kr!==null&&(wi?(t=Kr,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Kr.removeChild(r.stateNode));break;case 18:Kr!==null&&(wi?(t=Kr,r=r.stateNode,t.nodeType===8?Nf(t.parentNode,r):t.nodeType===1&&Nf(t,r),Au(t)):Nf(Kr,r.stateNode));break;case 4:n=Kr,i=wi,Kr=r.stateNode.containerInfo,wi=!0,qs(t,e,r),Kr=n,wi=i;break;case 0:case 11:case 14:case 15:if(!an&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&Zp(r,e,a),i=i.next}while(i!==n)}qs(t,e,r);break;case 1:if(!an&&(Vo(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){dr(r,e,o)}qs(t,e,r);break;case 21:qs(t,e,r);break;case 22:r.mode&1?(an=(n=an)||r.memoizedState!==null,qs(t,e,r),an=n):qs(t,e,r);break;default:qs(t,e,r)}}function m2(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new Ax),e.forEach(function(n){var i=zx.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function pi(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:Kr=o.stateNode,wi=!1;break e;case 3:Kr=o.stateNode.containerInfo,wi=!0;break e;case 4:Kr=o.stateNode.containerInfo,wi=!0;break e}o=o.return}if(Kr===null)throw Error(De(160));cy(s,a,i),Kr=null,wi=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){dr(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)hy(e,t),e=e.sibling}function hy(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(pi(e,t),Fi(t),n&4){try{pu(3,t,t.return),yd(3,t)}catch(y){dr(t,t.return,y)}try{pu(5,t,t.return)}catch(y){dr(t,t.return,y)}}break;case 1:pi(e,t),Fi(t),n&512&&r!==null&&Vo(r,r.return);break;case 5:if(pi(e,t),Fi(t),n&512&&r!==null&&Vo(r,r.return),t.flags&32){var i=t.stateNode;try{xu(i,"")}catch(y){dr(t,t.return,y)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=r!==null?r.memoizedProps:s,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&Ov(i,s),Sp(o,a);var u=Sp(o,s);for(a=0;a<l.length;a+=2){var d=l[a],m=l[a+1];d==="style"?Dv(i,m):d==="dangerouslySetInnerHTML"?zv(i,m):d==="children"?xu(i,m):O0(i,d,m,u)}switch(o){case"input":wp(i,s);break;case"textarea":Iv(i,s);break;case"select":var v=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var h=s.value;h!=null?Zo(i,!!s.multiple,h,!1):v!==!!s.multiple&&(s.defaultValue!=null?Zo(i,!!s.multiple,s.defaultValue,!0):Zo(i,!!s.multiple,s.multiple?[]:"",!1))}i[Pu]=s}catch(y){dr(t,t.return,y)}}break;case 6:if(pi(e,t),Fi(t),n&4){if(t.stateNode===null)throw Error(De(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(y){dr(t,t.return,y)}}break;case 3:if(pi(e,t),Fi(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Au(e.containerInfo)}catch(y){dr(t,t.return,y)}break;case 4:pi(e,t),Fi(t);break;case 13:pi(e,t),Fi(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(d1=vr())),n&4&&m2(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(an=(u=an)||d,pi(e,t),an=u):pi(e,t),Fi(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(We=t,d=t.child;d!==null;){for(m=We=d;We!==null;){switch(v=We,h=v.child,v.tag){case 0:case 11:case 14:case 15:pu(4,v,v.return);break;case 1:Vo(v,v.return);var b=v.stateNode;if(typeof b.componentWillUnmount=="function"){n=v,r=v.return;try{e=n,b.props=e.memoizedProps,b.state=e.memoizedState,b.componentWillUnmount()}catch(y){dr(n,r,y)}}break;case 5:Vo(v,v.return);break;case 22:if(v.memoizedState!==null){v2(m);continue}}h!==null?(h.return=v,We=h):v2(m)}d=d.sibling}e:for(d=null,m=t;;){if(m.tag===5){if(d===null){d=m;try{i=m.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=m.stateNode,l=m.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=Fv("display",a))}catch(y){dr(t,t.return,y)}}}else if(m.tag===6){if(d===null)try{m.stateNode.nodeValue=u?"":m.memoizedProps}catch(y){dr(t,t.return,y)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;d===m&&(d=null),m=m.return}d===m&&(d=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:pi(e,t),Fi(t),n&4&&m2(t);break;case 21:break;default:pi(e,t),Fi(t)}}function Fi(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(uy(r)){var n=r;break e}r=r.return}throw Error(De(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(xu(i,""),n.flags&=-33);var s=p2(t);e0(t,s,i);break;case 3:case 4:var a=n.stateNode.containerInfo,o=p2(t);Qp(t,o,a);break;default:throw Error(De(161))}}catch(l){dr(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Ex(t,e,r){We=t,dy(t)}function dy(t,e,r){for(var n=(t.mode&1)!==0;We!==null;){var i=We,s=i.child;if(i.tag===22&&n){var a=i.memoizedState!==null||Zc;if(!a){var o=i.alternate,l=o!==null&&o.memoizedState!==null||an;o=Zc;var u=an;if(Zc=a,(an=l)&&!u)for(We=i;We!==null;)a=We,l=a.child,a.tag===22&&a.memoizedState!==null?y2(i):l!==null?(l.return=a,We=l):y2(i);for(;s!==null;)We=s,dy(s),s=s.sibling;We=i,Zc=o,an=u}g2(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,We=s):g2(t)}}function g2(t){for(;We!==null;){var e=We;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:an||yd(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!an)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:vi(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&e2(e,s,n);break;case 3:var a=e.updateQueue;if(a!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}e2(e,a,r)}break;case 5:var o=e.stateNode;if(r===null&&e.flags&4){r=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var m=d.dehydrated;m!==null&&Au(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(De(163))}an||e.flags&512&&Xp(e)}catch(v){dr(e,e.return,v)}}if(e===t){We=null;break}if(r=e.sibling,r!==null){r.return=e.return,We=r;break}We=e.return}}function v2(t){for(;We!==null;){var e=We;if(e===t){We=null;break}var r=e.sibling;if(r!==null){r.return=e.return,We=r;break}We=e.return}}function y2(t){for(;We!==null;){var e=We;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{yd(4,e)}catch(l){dr(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){dr(e,i,l)}}var s=e.return;try{Xp(e)}catch(l){dr(e,s,l)}break;case 5:var a=e.return;try{Xp(e)}catch(l){dr(e,a,l)}}}catch(l){dr(e,e.return,l)}if(e===t){We=null;break}var o=e.sibling;if(o!==null){o.return=e.return,We=o;break}We=e.return}}var Cx=Math.ceil,Zh=Ss.ReactCurrentDispatcher,c1=Ss.ReactCurrentOwner,ri=Ss.ReactCurrentBatchConfig,Lt=0,Br=null,Ar=null,Jr=0,Rn=0,Go=da(0),Rr=0,Fu=null,Xa=0,wd=0,h1=0,mu=null,wn=null,d1=0,pl=1/0,fs=null,Xh=!1,t0=null,sa=null,Xc=!1,Xs=null,Qh=0,gu=0,r0=null,kh=-1,Sh=0;function fn(){return Lt&6?vr():kh!==-1?kh:kh=vr()}function aa(t){return t.mode&1?Lt&2&&Jr!==0?Jr&-Jr:dx.transition!==null?(Sh===0&&(Sh=Yv()),Sh):(t=Bt,t!==0||(t=window.event,t=t===void 0?16:n5(t.type)),t):1}function ki(t,e,r,n){if(50<gu)throw gu=0,r0=null,Error(De(185));Ku(t,r,n),(!(Lt&2)||t!==Br)&&(t===Br&&(!(Lt&2)&&(wd|=r),Rr===4&&Js(t,Jr)),kn(t,n),r===1&&Lt===0&&!(e.mode&1)&&(pl=vr()+500,md&&fa()))}function kn(t,e){var r=t.callbackNode;db(t,e);var n=zh(t,t===Br?Jr:0);if(n===0)r!==null&&jm(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&jm(r),e===1)t.tag===0?hx(w2.bind(null,t)):x5(w2.bind(null,t)),ox(function(){!(Lt&6)&&fa()}),r=null;else{switch(Zv(n)){case 1:r=D0;break;case 4:r=Kv;break;case 16:r=Rh;break;case 536870912:r=Jv;break;default:r=Rh}r=_y(r,fy.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function fy(t,e){if(kh=-1,Sh=0,Lt&6)throw Error(De(327));var r=t.callbackNode;if(rl()&&t.callbackNode!==r)return null;var n=zh(t,t===Br?Jr:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=ed(t,n);else{e=n;var i=Lt;Lt|=2;var s=my();(Br!==t||Jr!==e)&&(fs=null,pl=vr()+500,Va(t,e));do try{Tx();break}catch(o){py(t,o)}while(!0);Z0(),Zh.current=s,Lt=i,Ar!==null?e=0:(Br=null,Jr=0,e=Rr)}if(e!==0){if(e===2&&(i=Cp(t),i!==0&&(n=i,e=n0(t,i))),e===1)throw r=Fu,Va(t,0),Js(t,n),kn(t,vr()),r;if(e===6)Js(t,n);else{if(i=t.current.alternate,!(n&30)&&!Lx(i)&&(e=ed(t,n),e===2&&(s=Cp(t),s!==0&&(n=s,e=n0(t,s))),e===1))throw r=Fu,Va(t,0),Js(t,n),kn(t,vr()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(De(345));case 2:za(t,wn,fs);break;case 3:if(Js(t,n),(n&130023424)===n&&(e=d1+500-vr(),10<e)){if(zh(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){fn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Fp(za.bind(null,t,wn,fs),e);break}za(t,wn,fs);break;case 4:if(Js(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var a=31-xi(n);s=1<<a,a=e[a],a>i&&(i=a),n&=~s}if(n=i,n=vr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Cx(n/1960))-n,10<n){t.timeoutHandle=Fp(za.bind(null,t,wn,fs),n);break}za(t,wn,fs);break;case 5:za(t,wn,fs);break;default:throw Error(De(329))}}}return kn(t,vr()),t.callbackNode===r?fy.bind(null,t):null}function n0(t,e){var r=mu;return t.current.memoizedState.isDehydrated&&(Va(t,e).flags|=256),t=ed(t,e),t!==2&&(e=wn,wn=r,e!==null&&i0(e)),t}function i0(t){wn===null?wn=t:wn.push.apply(wn,t)}function Lx(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!Si(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Js(t,e){for(e&=~h1,e&=~wd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-xi(e),n=1<<r;t[r]=-1,e&=~n}}function w2(t){if(Lt&6)throw Error(De(327));rl();var e=zh(t,0);if(!(e&1))return kn(t,vr()),null;var r=ed(t,e);if(t.tag!==0&&r===2){var n=Cp(t);n!==0&&(e=n,r=n0(t,n))}if(r===1)throw r=Fu,Va(t,0),Js(t,e),kn(t,vr()),r;if(r===6)throw Error(De(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,za(t,wn,fs),kn(t,vr()),null}function f1(t,e){var r=Lt;Lt|=1;try{return t(e)}finally{Lt=r,Lt===0&&(pl=vr()+500,md&&fa())}}function Qa(t){Xs!==null&&Xs.tag===0&&!(Lt&6)&&rl();var e=Lt;Lt|=1;var r=ri.transition,n=Bt;try{if(ri.transition=null,Bt=1,t)return t()}finally{Bt=n,ri.transition=r,Lt=e,!(Lt&6)&&fa()}}function p1(){Rn=Go.current,Qt(Go)}function Va(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,ax(r)),Ar!==null)for(r=Ar.return;r!==null;){var n=r;switch(K0(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Mh();break;case 3:dl(),Qt(bn),Qt(on),n1();break;case 5:r1(n);break;case 4:dl();break;case 13:Qt(ir);break;case 19:Qt(ir);break;case 10:X0(n.type._context);break;case 22:case 23:p1()}r=r.return}if(Br=t,Ar=t=oa(t.current,null),Jr=Rn=e,Rr=0,Fu=null,h1=wd=Xa=0,wn=mu=null,$a!==null){for(e=0;e<$a.length;e++)if(r=$a[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var a=s.next;s.next=i,n.next=a}r.pending=n}$a=null}return t}function py(t,e){do{var r=Ar;try{if(Z0(),_h.current=Yh,Jh){for(var n=sr.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Jh=!1}if(Za=0,Fr=Ir=sr=null,fu=!1,Iu=0,c1.current=null,r===null||r.return===null){Rr=1,Fu=e,Ar=null;break}e:{var s=t,a=r.return,o=r,l=e;if(e=Jr,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=o,m=d.tag;if(!(d.mode&1)&&(m===0||m===11||m===15)){var v=d.alternate;v?(d.updateQueue=v.updateQueue,d.memoizedState=v.memoizedState,d.lanes=v.lanes):(d.updateQueue=null,d.memoizedState=null)}var h=a2(a);if(h!==null){h.flags&=-257,o2(h,a,o,s,e),h.mode&1&&s2(s,u,e),e=h,l=u;var b=e.updateQueue;if(b===null){var y=new Set;y.add(l),e.updateQueue=y}else b.add(l);break e}else{if(!(e&1)){s2(s,u,e),m1();break e}l=Error(De(426))}}else if(tr&&o.mode&1){var k=a2(a);if(k!==null){!(k.flags&65536)&&(k.flags|=256),o2(k,a,o,s,e),J0(fl(l,o));break e}}s=l=fl(l,o),Rr!==4&&(Rr=2),mu===null?mu=[s]:mu.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=Z5(s,l,e);Qm(s,g);break e;case 1:o=l;var _=s.type,x=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(sa===null||!sa.has(x)))){s.flags|=65536,e&=-e,s.lanes|=e;var A=X5(s,o,e);Qm(s,A);break e}}s=s.return}while(s!==null)}vy(r)}catch(T){e=T,Ar===r&&r!==null&&(Ar=r=r.return);continue}break}while(!0)}function my(){var t=Zh.current;return Zh.current=Yh,t===null?Yh:t}function m1(){(Rr===0||Rr===3||Rr===2)&&(Rr=4),Br===null||!(Xa&268435455)&&!(wd&268435455)||Js(Br,Jr)}function ed(t,e){var r=Lt;Lt|=2;var n=my();(Br!==t||Jr!==e)&&(fs=null,Va(t,e));do try{Px();break}catch(i){py(t,i)}while(!0);if(Z0(),Lt=r,Zh.current=n,Ar!==null)throw Error(De(261));return Br=null,Jr=0,Rr}function Px(){for(;Ar!==null;)gy(Ar)}function Tx(){for(;Ar!==null&&!nb();)gy(Ar)}function gy(t){var e=wy(t.alternate,t,Rn);t.memoizedProps=t.pendingProps,e===null?vy(t):Ar=e,c1.current=null}function vy(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=Nx(r,e),r!==null){r.flags&=32767,Ar=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Rr=6,Ar=null;return}}else if(r=Sx(r,e,Rn),r!==null){Ar=r;return}if(e=e.sibling,e!==null){Ar=e;return}Ar=e=t}while(e!==null);Rr===0&&(Rr=5)}function za(t,e,r){var n=Bt,i=ri.transition;try{ri.transition=null,Bt=1,Ox(t,e,r,n)}finally{ri.transition=i,Bt=n}return null}function Ox(t,e,r,n){do rl();while(Xs!==null);if(Lt&6)throw Error(De(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(De(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(fb(t,s),t===Br&&(Ar=Br=null,Jr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Xc||(Xc=!0,_y(Rh,function(){return rl(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=ri.transition,ri.transition=null;var a=Bt;Bt=1;var o=Lt;Lt|=4,c1.current=null,jx(t,r),hy(r,t),Qb(Rp),Fh=!!Ip,Rp=Ip=null,t.current=r,Ex(r),ib(),Lt=o,Bt=a,ri.transition=s}else t.current=r;if(Xc&&(Xc=!1,Xs=t,Qh=i),s=t.pendingLanes,s===0&&(sa=null),ob(r.stateNode),kn(t,vr()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Xh)throw Xh=!1,t=t0,t0=null,t;return Qh&1&&t.tag!==0&&rl(),s=t.pendingLanes,s&1?t===r0?gu++:(gu=0,r0=t):gu=0,fa(),null}function rl(){if(Xs!==null){var t=Zv(Qh),e=ri.transition,r=Bt;try{if(ri.transition=null,Bt=16>t?16:t,Xs===null)var n=!1;else{if(t=Xs,Xs=null,Qh=0,Lt&6)throw Error(De(331));var i=Lt;for(Lt|=4,We=t.current;We!==null;){var s=We,a=s.child;if(We.flags&16){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(We=u;We!==null;){var d=We;switch(d.tag){case 0:case 11:case 15:pu(8,d,s)}var m=d.child;if(m!==null)m.return=d,We=m;else for(;We!==null;){d=We;var v=d.sibling,h=d.return;if(ly(d),d===u){We=null;break}if(v!==null){v.return=h,We=v;break}We=h}}}var b=s.alternate;if(b!==null){var y=b.child;if(y!==null){b.child=null;do{var k=y.sibling;y.sibling=null,y=k}while(y!==null)}}We=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,We=a;else e:for(;We!==null;){if(s=We,s.flags&2048)switch(s.tag){case 0:case 11:case 15:pu(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,We=g;break e}We=s.return}}var _=t.current;for(We=_;We!==null;){a=We;var x=a.child;if(a.subtreeFlags&2064&&x!==null)x.return=a,We=x;else e:for(a=_;We!==null;){if(o=We,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:yd(9,o)}}catch(T){dr(o,o.return,T)}if(o===a){We=null;break e}var A=o.sibling;if(A!==null){A.return=o.return,We=A;break e}We=o.return}}if(Lt=i,fa(),Wi&&typeof Wi.onPostCommitFiberRoot=="function")try{Wi.onPostCommitFiberRoot(cd,t)}catch{}n=!0}return n}finally{Bt=r,ri.transition=e}}return!1}function _2(t,e,r){e=fl(r,e),e=Z5(t,e,1),t=ia(t,e,1),e=fn(),t!==null&&(Ku(t,1,e),kn(t,e))}function dr(t,e,r){if(t.tag===3)_2(t,t,r);else for(;e!==null;){if(e.tag===3){_2(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(sa===null||!sa.has(n))){t=fl(r,t),t=X5(e,t,1),e=ia(e,t,1),t=fn(),e!==null&&(Ku(e,1,t),kn(e,t));break}}e=e.return}}function Ix(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=fn(),t.pingedLanes|=t.suspendedLanes&r,Br===t&&(Jr&r)===r&&(Rr===4||Rr===3&&(Jr&130023424)===Jr&&500>vr()-d1?Va(t,0):h1|=r),kn(t,e)}function yy(t,e){e===0&&(t.mode&1?(e=qc,qc<<=1,!(qc&130023424)&&(qc=4194304)):e=1);var r=fn();t=xs(t,e),t!==null&&(Ku(t,e,r),kn(t,r))}function Rx(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),yy(t,r)}function zx(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(De(314))}n!==null&&n.delete(e),yy(t,r)}var wy;wy=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||bn.current)_n=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return _n=!1,kx(t,e,r);_n=!!(t.flags&131072)}else _n=!1,tr&&e.flags&1048576&&k5(e,Wh,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;xh(t,e),t=e.pendingProps;var i=ul(e,on.current);tl(e,r),i=s1(null,e,n,t,i,r);var s=a1();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,xn(n)?(s=!0,qh(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,e1(e),i.updater=vd,e.stateNode=i,i._reactInternals=e,Wp(e,n,t,r),e=Gp(null,e,n,!0,s,r)):(e.tag=0,tr&&s&&G0(e),dn(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(xh(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=Dx(n),t=vi(n,t),i){case 0:e=Vp(null,e,n,t,r);break e;case 1:e=c2(null,e,n,t,r);break e;case 11:e=l2(null,e,n,t,r);break e;case 14:e=u2(null,e,n,vi(n.type,t),r);break e}throw Error(De(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:vi(n,i),Vp(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:vi(n,i),c2(t,e,n,i,r);case 3:e:{if(ry(e),t===null)throw Error(De(387));n=e.pendingProps,s=e.memoizedState,i=s.element,C5(t,e),Gh(e,n,null,r);var a=e.memoizedState;if(n=a.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=fl(Error(De(423)),e),e=h2(t,e,n,r,i);break e}else if(n!==i){i=fl(Error(De(424)),e),e=h2(t,e,n,r,i);break e}else for(Dn=na(e.stateNode.containerInfo.firstChild),Un=e,tr=!0,bi=null,r=j5(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(cl(),n===i){e=ks(t,e,r);break e}dn(t,e,n,r)}e=e.child}return e;case 5:return L5(e),t===null&&Mp(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,zp(n,i)?a=null:s!==null&&zp(n,s)&&(e.flags|=32),ty(t,e),dn(t,e,a,r),e.child;case 6:return t===null&&Mp(e),null;case 13:return ny(t,e,r);case 4:return t1(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=hl(e,null,n,r):dn(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:vi(n,i),l2(t,e,n,i,r);case 7:return dn(t,e,e.pendingProps,r),e.child;case 8:return dn(t,e,e.pendingProps.children,r),e.child;case 12:return dn(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,Jt(Hh,n._currentValue),n._currentValue=a,s!==null)if(Si(s.value,a)){if(s.children===i.children&&!bn.current){e=ks(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(s.tag===1){l=ws(-1,r&-r),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),qp(s.return,r,e),o.lanes|=r;break}l=l.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(De(341));a.lanes|=r,o=a.alternate,o!==null&&(o.lanes|=r),qp(a,r,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}dn(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,tl(e,r),i=ni(i),n=n(i),e.flags|=1,dn(t,e,n,r),e.child;case 14:return n=e.type,i=vi(n,e.pendingProps),i=vi(n.type,i),u2(t,e,n,i,r);case 15:return Q5(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:vi(n,i),xh(t,e),e.tag=1,xn(n)?(t=!0,qh(e)):t=!1,tl(e,r),Y5(e,n,i),Wp(e,n,i,r),Gp(null,e,n,!0,t,r);case 19:return iy(t,e,r);case 22:return ey(t,e,r)}throw Error(De(156,e.tag))};function _y(t,e){return Gv(t,e)}function Fx(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ti(t,e,r,n){return new Fx(t,e,r,n)}function g1(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Dx(t){if(typeof t=="function")return g1(t)?1:0;if(t!=null){if(t=t.$$typeof,t===R0)return 11;if(t===z0)return 14}return 2}function oa(t,e){var r=t.alternate;return r===null?(r=ti(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Nh(t,e,r,n,i,s){var a=2;if(n=t,typeof t=="function")g1(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Fo:return Ga(r.children,i,s,e);case I0:a=8,i|=8;break;case pp:return t=ti(12,r,e,i|2),t.elementType=pp,t.lanes=s,t;case mp:return t=ti(13,r,e,i),t.elementType=mp,t.lanes=s,t;case gp:return t=ti(19,r,e,i),t.elementType=gp,t.lanes=s,t;case Lv:return _d(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Ev:a=10;break e;case Cv:a=9;break e;case R0:a=11;break e;case z0:a=14;break e;case Hs:a=16,n=null;break e}throw Error(De(130,t==null?t:typeof t,""))}return e=ti(a,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function Ga(t,e,r,n){return t=ti(7,t,n,e),t.lanes=r,t}function _d(t,e,r,n){return t=ti(22,t,n,e),t.elementType=Lv,t.lanes=r,t.stateNode={isHidden:!1},t}function Of(t,e,r){return t=ti(6,t,null,e),t.lanes=r,t}function If(t,e,r){return e=ti(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Bx(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=pf(0),this.expirationTimes=pf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pf(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function v1(t,e,r,n,i,s,a,o,l){return t=new Bx(t,e,r,o,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=ti(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},e1(s),t}function Ux(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:zo,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function by(t){if(!t)return ua;t=t._reactInternals;e:{if(no(t)!==t||t.tag!==1)throw Error(De(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(xn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(De(171))}if(t.tag===1){var r=t.type;if(xn(r))return b5(t,r,e)}return e}function xy(t,e,r,n,i,s,a,o,l){return t=v1(r,n,!0,t,i,s,a,o,l),t.context=by(null),r=t.current,n=fn(),i=aa(r),s=ws(n,i),s.callback=e??null,ia(r,s,i),t.current.lanes=i,Ku(t,i,n),kn(t,n),t}function bd(t,e,r,n){var i=e.current,s=fn(),a=aa(i);return r=by(r),e.context===null?e.context=r:e.pendingContext=r,e=ws(s,a),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=ia(i,e,a),t!==null&&(ki(t,i,a,s),wh(t,i,a)),a}function td(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function b2(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function y1(t,e){b2(t,e),(t=t.alternate)&&b2(t,e)}function Mx(){return null}var ky=typeof reportError=="function"?reportError:function(t){console.error(t)};function w1(t){this._internalRoot=t}xd.prototype.render=w1.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(De(409));bd(t,e,null,null)};xd.prototype.unmount=w1.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Qa(function(){bd(null,t,null,null)}),e[bs]=null}};function xd(t){this._internalRoot=t}xd.prototype.unstable_scheduleHydration=function(t){if(t){var e=e5();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Ks.length&&e!==0&&e<Ks[r].priority;r++);Ks.splice(r,0,t),r===0&&r5(t)}};function _1(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function kd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function x2(){}function qx(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var u=td(a);s.call(u)}}var a=xy(e,n,t,0,null,!1,!1,"",x2);return t._reactRootContainer=a,t[bs]=a.current,Cu(t.nodeType===8?t.parentNode:t),Qa(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var u=td(l);o.call(u)}}var l=v1(t,0,!1,null,null,!1,!1,"",x2);return t._reactRootContainer=l,t[bs]=l.current,Cu(t.nodeType===8?t.parentNode:t),Qa(function(){bd(e,l,r,n)}),l}function Sd(t,e,r,n,i){var s=r._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var l=td(a);o.call(l)}}bd(e,a,t,i)}else a=qx(r,e,t,i,n);return td(a)}Xv=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=su(e.pendingLanes);r!==0&&(B0(e,r|1),kn(e,vr()),!(Lt&6)&&(pl=vr()+500,fa()))}break;case 13:Qa(function(){var n=xs(t,1);if(n!==null){var i=fn();ki(n,t,1,i)}}),y1(t,1)}};U0=function(t){if(t.tag===13){var e=xs(t,134217728);if(e!==null){var r=fn();ki(e,t,134217728,r)}y1(t,134217728)}};Qv=function(t){if(t.tag===13){var e=aa(t),r=xs(t,e);if(r!==null){var n=fn();ki(r,t,e,n)}y1(t,e)}};e5=function(){return Bt};t5=function(t,e){var r=Bt;try{return Bt=t,e()}finally{Bt=r}};Ap=function(t,e,r){switch(e){case"input":if(wp(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=pd(n);if(!i)throw Error(De(90));Tv(n),wp(n,i)}}}break;case"textarea":Iv(t,r);break;case"select":e=r.value,e!=null&&Zo(t,!!r.multiple,e,!1)}};Mv=f1;qv=Qa;var $x={usingClientEntryPoint:!1,Events:[Yu,Mo,pd,Bv,Uv,f1]},eu={findFiberByHostInstance:qa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Wx={bundleType:eu.bundleType,version:eu.version,rendererPackageName:eu.rendererPackageName,rendererConfig:eu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ss.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Hv(t),t===null?null:t.stateNode},findFiberByHostInstance:eu.findFiberByHostInstance||Mx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qc.isDisabled&&Qc.supportsFiber)try{cd=Qc.inject(Wx),Wi=Qc}catch{}}qn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$x;qn.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_1(e))throw Error(De(200));return Ux(t,e,null,r)};qn.createRoot=function(t,e){if(!_1(t))throw Error(De(299));var r=!1,n="",i=ky;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=v1(t,1,!1,null,null,r,!1,n,i),t[bs]=e.current,Cu(t.nodeType===8?t.parentNode:t),new w1(e)};qn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(De(188)):(t=Object.keys(t).join(","),Error(De(268,t)));return t=Hv(e),t=t===null?null:t.stateNode,t};qn.flushSync=function(t){return Qa(t)};qn.hydrate=function(t,e,r){if(!kd(e))throw Error(De(200));return Sd(null,t,e,!0,r)};qn.hydrateRoot=function(t,e,r){if(!_1(t))throw Error(De(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",a=ky;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),e=xy(e,null,t,1,r??null,i,!1,s,a),t[bs]=e.current,Cu(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new xd(e)};qn.render=function(t,e,r){if(!kd(e))throw Error(De(200));return Sd(null,t,e,!1,r)};qn.unmountComponentAtNode=function(t){if(!kd(t))throw Error(De(40));return t._reactRootContainer?(Qa(function(){Sd(null,null,t,!1,function(){t._reactRootContainer=null,t[bs]=null})}),!0):!1};qn.unstable_batchedUpdates=f1;qn.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!kd(r))throw Error(De(200));if(t==null||t._reactInternals===void 0)throw Error(De(38));return Sd(t,e,r,!1,n)};qn.version="18.3.1-next-f1338f8080-20240426";function Sy(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Sy)}catch(t){console.error(t)}}Sy(),Sv.exports=qn;var Hx=Sv.exports,k2=Hx;dp.createRoot=k2.createRoot,dp.hydrateRoot=k2.hydrateRoot;function Nd(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function Vx(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(d){try{u(n.next(d))}catch(m){a(m)}}function l(d){try{u(n.throw(d))}catch(m){a(m)}}function u(d){d.done?s(d.value):i(d.value).then(o,l)}u((n=n.apply(t,e||[])).next())})}const Gx=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class b1 extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class Kx extends b1{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class S2 extends b1{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class N2 extends b1{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var s0;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(s0||(s0={}));class Jx{constructor(e,{headers:r={},customFetch:n,region:i=s0.Any}={}){this.url=e,this.headers=r,this.region=i,this.fetch=Gx(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return Vx(this,arguments,void 0,function*(r,n={}){var i;let s,a;try{const{headers:o,method:l,body:u,signal:d,timeout:m}=n;let v={},{region:h}=n;h||(h=this.region);const b=new URL(`${this.url}/${r}`);h&&h!=="any"&&(v["x-region"]=h,b.searchParams.set("forceFunctionRegion",h));let y;u&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(v["Content-Type"]="application/octet-stream",y=u):typeof u=="string"?(v["Content-Type"]="text/plain",y=u):typeof FormData<"u"&&u instanceof FormData?y=u:(v["Content-Type"]="application/json",y=JSON.stringify(u)):u&&typeof u!="string"&&!(typeof Blob<"u"&&u instanceof Blob)&&!(u instanceof ArrayBuffer)&&!(typeof FormData<"u"&&u instanceof FormData)?y=JSON.stringify(u):y=u;let k=d;m&&(a=new AbortController,s=setTimeout(()=>a.abort(),m),d?(k=a.signal,d.addEventListener("abort",()=>a.abort())):k=a.signal);const g=yield this.fetch(b.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},v),this.headers),o),body:y,signal:k}).catch(T=>{throw new Kx(T)}),_=g.headers.get("x-relay-error");if(_&&_==="true")throw new S2(g);if(!g.ok)throw new N2(g);let x=((i=g.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),A;return x==="application/json"?A=yield g.json():x==="application/octet-stream"||x==="application/pdf"?A=yield g.blob():x==="text/event-stream"?A=g:x==="multipart/form-data"?A=yield g.formData():A=yield g.text(),{data:A,error:null,response:g}}catch(o){return{data:null,error:o,response:o instanceof N2||o instanceof S2?o.context:void 0}}finally{s&&clearTimeout(s)}})}}var Yx=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},Zx=class{constructor(t){var e,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{let a=null,o=null,l=null,u=s.status,d=s.statusText;if(s.ok){var m,v;if(r.method!=="HEAD"){var h;const g=await s.text();g===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((h=r.headers.get("Accept"))===null||h===void 0)&&h.includes("application/vnd.pgrst.plan+text"))?o=g:o=JSON.parse(g))}const y=(m=r.headers.get("Prefer"))===null||m===void 0?void 0:m.match(/count=(exact|planned|estimated)/),k=(v=s.headers.get("content-range"))===null||v===void 0?void 0:v.split("/");y&&k&&k.length>1&&(l=parseInt(k[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(o)&&(o.length>1?(a={code:"PGRST116",details:`Results contain ${o.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},o=null,l=null,u=406,d="Not Acceptable"):o.length===1?o=o[0]:o=null)}else{var b;const y=await s.text();try{a=JSON.parse(y),Array.isArray(a)&&s.status===404&&(o=[],a=null,u=200,d="OK")}catch{s.status===404&&y===""?(u=204,d="No Content"):a={message:y}}if(a&&r.isMaybeSingle&&(!(a==null||(b=a.details)===null||b===void 0)&&b.includes("0 rows"))&&(a=null,u=200,d="OK"),a&&r.shouldThrowOnError)throw new Yx(a)}return{error:a,data:o,count:l,status:u,statusText:d}});return this.shouldThrowOnError||(i=i.catch(s=>{var a;let o="";const l=s==null?void 0:s.cause;if(l){var u,d,m,v;const b=(u=l==null?void 0:l.message)!==null&&u!==void 0?u:"",y=(d=l==null?void 0:l.code)!==null&&d!==void 0?d:"";o=`${(m=s==null?void 0:s.name)!==null&&m!==void 0?m:"FetchError"}: ${s==null?void 0:s.message}`,o+=`

Caused by: ${(v=l==null?void 0:l.name)!==null&&v!==void 0?v:"Error"}: ${b}`,y&&(o+=` (${y})`),l!=null&&l.stack&&(o+=`
${l.stack}`)}else{var h;o=(h=s==null?void 0:s.stack)!==null&&h!==void 0?h:""}return{error:{message:`${(a=s==null?void 0:s.name)!==null&&a!==void 0?a:"FetchError"}: ${s==null?void 0:s.message}`,details:o,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),i.then(t,e)}returns(){return this}overrideTypes(){return this}},Xx=class extends Zx{select(t){let e=!1;const r=(t??"*").split("").map(n=>/\s/.test(n)&&!e?"":(n==='"'&&(e=!e),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:r,foreignTable:n,referencedTable:i=n}={}){const s=i?`${i}.order`:"order",a=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${a?`${a},`:""}${t}.${e?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:r=e}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${t}`),this}range(t,e,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"offset":`${n}.offset`,s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(s,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:r=!1,buffers:n=!1,wal:i=!1,format:s="text"}={}){var a;const o=[t?"analyze":null,e?"verbose":null,r?"settings":null,n?"buffers":null,i?"wal":null].filter(Boolean).join("|"),l=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${s}; for="${l}"; options=${o};`),s==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const A2=new RegExp("[,()]");var Po=class extends Xx{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const r=Array.from(new Set(e)).map(n=>typeof n=="string"&&A2.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}notIn(t,e){const r=Array.from(new Set(e)).map(n=>typeof n=="string"&&A2.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`not.in.(${r})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:r,type:n}={}){let i="";n==="plain"?i="pl":n==="phrase"?i="ph":n==="websearch"&&(i="w");const s=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${i}fts${s}.${e}`),this}match(t){return Object.entries(t).forEach(([e,r])=>{this.url.searchParams.append(e,`eq.${r}`)}),this}not(t,e,r){return this.url.searchParams.append(t,`not.${e}.${r}`),this}or(t,{foreignTable:e,referencedTable:r=e}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${t})`),this}filter(t,e,r){return this.url.searchParams.append(t,`${e}.${r}`),this}},Qx=class{constructor(t,{headers:e={},schema:r,fetch:n}){this.url=t,this.headers=new Headers(e),this.schema=r,this.fetch=n}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(t,e){const{head:r=!1,count:n}=e??{},i=r?"HEAD":"GET";let s=!1;const a=(t??"*").split("").map(u=>/\s/.test(u)&&!s?"":(u==='"'&&(s=!s),u)).join(""),{url:o,headers:l}=this.cloneRequestState();return o.searchParams.set("select",a),n&&l.append("Prefer",`count=${n}`),new Po({method:i,url:o,headers:l,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:r=!0}={}){var n;const i="POST",{url:s,headers:a}=this.cloneRequestState();if(e&&a.append("Prefer",`count=${e}`),r||a.append("Prefer","missing=default"),Array.isArray(t)){const o=t.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(o.length>0){const l=[...new Set(o)].map(u=>`"${u}"`);s.searchParams.set("columns",l.join(","))}}return new Po({method:i,url:s,headers:a,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:r=!1,count:n,defaultToNull:i=!0}={}){var s;const a="POST",{url:o,headers:l}=this.cloneRequestState();if(l.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),e!==void 0&&o.searchParams.set("on_conflict",e),n&&l.append("Prefer",`count=${n}`),i||l.append("Prefer","missing=default"),Array.isArray(t)){const u=t.reduce((d,m)=>d.concat(Object.keys(m)),[]);if(u.length>0){const d=[...new Set(u)].map(m=>`"${m}"`);o.searchParams.set("columns",d.join(","))}}return new Po({method:a,url:o,headers:l,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}update(t,{count:e}={}){var r;const n="PATCH",{url:i,headers:s}=this.cloneRequestState();return e&&s.append("Prefer",`count=${e}`),new Po({method:n,url:i,headers:s,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:t}={}){var e;const r="DELETE",{url:n,headers:i}=this.cloneRequestState();return t&&i.append("Prefer",`count=${t}`),new Po({method:r,url:n,headers:i,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},e4=class Ny{constructor(e,{headers:r={},schema:n,fetch:i}={}){this.url=e,this.headers=new Headers(r),this.schemaName=n,this.fetch=i}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new Qx(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Ny(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:i=!1,count:s}={}){var a;let o;const l=new URL(`${this.url}/rpc/${e}`);let u;const d=h=>h!==null&&typeof h=="object"&&(!Array.isArray(h)||h.some(d)),m=n&&Object.values(r).some(d);m?(o="POST",u=r):n||i?(o=n?"HEAD":"GET",Object.entries(r).filter(([h,b])=>b!==void 0).map(([h,b])=>[h,Array.isArray(b)?`{${b.join(",")}}`:`${b}`]).forEach(([h,b])=>{l.searchParams.append(h,b)})):(o="POST",u=r);const v=new Headers(this.headers);return m?v.set("Prefer",s?`count=${s},return=minimal`:"return=minimal"):s&&v.set("Prefer",`count=${s}`),new Po({method:o,url:l,headers:v,schema:this.schemaName,body:u,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};class t4{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const i=n.node,s=parseInt(i.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const r4="2.91.0",n4=`realtime-js/${r4}`,i4="1.0.0",Ay="2.0.0",j2=Ay,a0=1e4,s4=1e3,a4=100;var Gs;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Gs||(Gs={}));var Or;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Or||(Or={}));var _i;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(_i||(_i={}));var o0;(function(t){t.websocket="websocket"})(o0||(o0={}));var Ba;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Ba||(Ba={}));class o4{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,n;const i=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(e){var r,n;const i=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},a=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,a)}_encodeUserBroadcastPush(e,r,n){var i,s;const a=e.topic,o=(i=e.ref)!==null&&i!==void 0?i:"",l=(s=e.join_ref)!==null&&s!==void 0?s:"",u=e.payload.event,d=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},m=Object.keys(d).length===0?"":JSON.stringify(d);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`ref length ${o.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`topic length ${a.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`metadata length ${m.length} exceeds maximum of 255`);const v=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+o.length+a.length+u.length+m.length,h=new ArrayBuffer(this.HEADER_LENGTH+v);let b=new DataView(h),y=0;b.setUint8(y++,this.KINDS.userBroadcastPush),b.setUint8(y++,l.length),b.setUint8(y++,o.length),b.setUint8(y++,a.length),b.setUint8(y++,u.length),b.setUint8(y++,m.length),b.setUint8(y++,r),Array.from(l,g=>b.setUint8(y++,g.charCodeAt(0))),Array.from(o,g=>b.setUint8(y++,g.charCodeAt(0))),Array.from(a,g=>b.setUint8(y++,g.charCodeAt(0))),Array.from(u,g=>b.setUint8(y++,g.charCodeAt(0))),Array.from(m,g=>b.setUint8(y++,g.charCodeAt(0)));var k=new Uint8Array(h.byteLength+n.byteLength);return k.set(new Uint8Array(h),0),k.set(new Uint8Array(n),h.byteLength),k.buffer}decode(e,r){if(this._isArrayBuffer(e)){let n=this._binaryDecode(e);return r(n)}if(typeof e=="string"){const n=JSON.parse(e),[i,s,a,o,l]=n;return r({join_ref:i,ref:s,topic:a,event:o,payload:l})}return r({})}_binaryDecode(e){const r=new DataView(e),n=r.getUint8(0),i=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,i)}}_decodeUserBroadcast(e,r,n){const i=r.getUint8(1),s=r.getUint8(2),a=r.getUint8(3),o=r.getUint8(4);let l=this.HEADER_LENGTH+4;const u=n.decode(e.slice(l,l+i));l=l+i;const d=n.decode(e.slice(l,l+s));l=l+s;const m=n.decode(e.slice(l,l+a));l=l+a;const v=e.slice(l,e.byteLength),h=o===this.JSON_ENCODING?JSON.parse(n.decode(v)):v,b={type:this.BROADCAST_EVENT,event:d,payload:h};return a>0&&(b.meta=JSON.parse(m)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:b}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e==null?void 0:e.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([n])=>r.includes(n)))}}class jy{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Kt;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Kt||(Kt={}));const E2=(t,e,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((s,a)=>(s[a]=l4(a,t,e,i),s),{}):{}},l4=(t,e,r,n)=>{const i=e.find(o=>o.name===t),s=i==null?void 0:i.type,a=r[t];return s&&!n.includes(s)?Ey(s,a):l0(a)},Ey=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return d4(e,r)}switch(t){case Kt.bool:return u4(e);case Kt.float4:case Kt.float8:case Kt.int2:case Kt.int4:case Kt.int8:case Kt.numeric:case Kt.oid:return c4(e);case Kt.json:case Kt.jsonb:return h4(e);case Kt.timestamp:return f4(e);case Kt.abstime:case Kt.date:case Kt.daterange:case Kt.int4range:case Kt.int8range:case Kt.money:case Kt.reltime:case Kt.text:case Kt.time:case Kt.timestamptz:case Kt.timetz:case Kt.tsrange:case Kt.tstzrange:return l0(e);default:return l0(e)}},l0=t=>t,u4=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},c4=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},h4=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},d4=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let s;const a=t.slice(1,r);try{s=JSON.parse("["+a+"]")}catch{s=a?a.split(","):[]}return s.map(o=>Ey(e,o))}return t},f4=t=>typeof t=="string"?t.replace(" ","T"):t,Cy=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Rf{constructor(e,r,n={},i=a0){this.channel=e,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var C2;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(C2||(C2={}));class vu{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:s,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=vu.syncState(this.state,i,s,a),this.pendingDiffs.forEach(l=>{this.state=vu.syncDiff(this.state,l,s,a)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},i=>{const{onJoin:s,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=vu.syncDiff(this.state,i,s,a),o())}),this.onJoin((i,s,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:a})}),this.onLeave((i,s,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,i){const s=this.cloneDeep(e),a=this.transformState(r),o={},l={};return this.map(s,(u,d)=>{a[u]||(l[u]=d)}),this.map(a,(u,d)=>{const m=s[u];if(m){const v=d.map(k=>k.presence_ref),h=m.map(k=>k.presence_ref),b=d.filter(k=>h.indexOf(k.presence_ref)<0),y=m.filter(k=>v.indexOf(k.presence_ref)<0);b.length>0&&(o[u]=b),y.length>0&&(l[u]=y)}else o[u]=d}),this.syncDiff(s,{joins:o,leaves:l},n,i)}static syncDiff(e,r,n,i){const{joins:s,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(s,(o,l)=>{var u;const d=(u=e[o])!==null&&u!==void 0?u:[];if(e[o]=this.cloneDeep(l),d.length>0){const m=e[o].map(h=>h.presence_ref),v=d.filter(h=>m.indexOf(h.presence_ref)<0);e[o].unshift(...v)}n(o,d,l)}),this.map(a,(o,l)=>{let u=e[o];if(!u)return;const d=l.map(m=>m.presence_ref);u=u.filter(m=>d.indexOf(m.presence_ref)<0),e[o]=u,i(o,u,l),u.length===0&&delete e[o]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const i=e[n];return"metas"in i?r[n]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=i,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var L2;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(L2||(L2={}));var yu;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(yu||(yu={}));var ps;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(ps||(ps={}));class Ko{constructor(e,r={config:{}},n){var i,s;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=Or.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Rf(this,_i.join,this.params,this.timeout),this.rejoinTimer=new jy(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Or.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Or.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Or.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Or.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Or.errored,this.rejoinTimer.scheduleTimeout())}),this._on(_i.reply,{},(a,o)=>{this._trigger(this._replyEventName(o),a)}),this.presence=new vu(this),this.broadcastEndpointURL=Cy(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,i,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Or.closed){const{config:{broadcast:a,presence:o,private:l}}=this.params,u=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(h=>h.filter))!==null&&i!==void 0?i:[],d=!!this.bindings[yu.PRESENCE]&&this.bindings[yu.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,m={},v={broadcast:a,presence:Object.assign(Object.assign({},o),{enabled:d}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(m.access_token=this.socket.accessTokenValue),this._onError(h=>e==null?void 0:e(ps.CHANNEL_ERROR,h)),this._onClose(()=>e==null?void 0:e(ps.CLOSED)),this.updateJoinPayload(Object.assign({config:v},m)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:h})=>{var b;if(this.socket._isManualToken()||this.socket.setAuth(),h===void 0){e==null||e(ps.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,k=(b=y==null?void 0:y.length)!==null&&b!==void 0?b:0,g=[];for(let _=0;_<k;_++){const x=y[_],{filter:{event:A,schema:T,table:q,filter:B}}=x,D=h&&h[_];if(D&&D.event===A&&Ko.isFilterValueEqual(D.schema,T)&&Ko.isFilterValueEqual(D.table,q)&&Ko.isFilterValueEqual(D.filter,B))g.push(Object.assign(Object.assign({},x),{id:D.id}));else{this.unsubscribe(),this.state=Or.errored,e==null||e(ps.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,e&&e(ps.SUBSCRIBED);return}}).receive("error",h=>{this.state=Or.errored,e==null||e(ps.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(ps.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===Or.joined&&e===yu.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var i;if(r==null)return Promise.reject("Payload is required for httpSend()");const s={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(s.Authorization=`Bearer ${this.socket.accessTokenValue}`);const a={method:"POST",headers:s,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},o=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);if(o.status===202)return{success:!0};let l=o.statusText;try{const u=await o.json();l=u.error||u.message||l}catch{}return Promise.reject(new Error(l))}async send(e,r={}){var n,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:a}=e,o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,o,l;const u=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(o=(a=this.params)===null||a===void 0?void 0:a.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Or.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(_i.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new Rf(this,_i.leave,{},e),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Or.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const i=new AbortController,s=setTimeout(()=>i.abort(),n),a=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(s),a}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Rf(this,e,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>a4){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var i,s;const a=e.toLocaleLowerCase(),{close:o,error:l,leave:u,join:d}=_i;if(n&&[o,l,u,d].indexOf(a)>=0&&n!==this._joinRef())return;let v=this._onMessage(a,r,n);if(r&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(h=>{var b,y,k;return((b=h.filter)===null||b===void 0?void 0:b.event)==="*"||((k=(y=h.filter)===null||y===void 0?void 0:y.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===a}).map(h=>h.callback(v,n)):(s=this.bindings[a])===null||s===void 0||s.filter(h=>{var b,y,k,g,_,x,A,T;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in h){const q=h.id,B=(b=h.filter)===null||b===void 0?void 0:b.event;return q&&((y=r.ids)===null||y===void 0?void 0:y.includes(q))&&(B==="*"||(B==null?void 0:B.toLocaleLowerCase())===((k=r.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))&&(!(!((g=h.filter)===null||g===void 0)&&g.table)||h.filter.table===((_=r.data)===null||_===void 0?void 0:_.table))}else{const q=(A=(x=h==null?void 0:h.filter)===null||x===void 0?void 0:x.event)===null||A===void 0?void 0:A.toLocaleLowerCase();return q==="*"||q===((T=r==null?void 0:r.event)===null||T===void 0?void 0:T.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===a}).map(h=>{if(typeof v=="object"&&"ids"in v){const b=v.data,{schema:y,table:k,commit_timestamp:g,type:_,errors:x}=b;v=Object.assign(Object.assign({},{schema:y,table:k,commit_timestamp:g,eventType:_,new:{},old:{},errors:x}),this._getPayloadRecords(b))}h.callback(v,n)})}_isClosed(){return this.state===Or.closed}_isJoined(){return this.state===Or.joined}_isJoining(){return this.state===Or.joining}_isLeaving(){return this.state===Or.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const i=e.toLocaleLowerCase(),s={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&Ko.isEqual(i.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}static isFilterValueEqual(e,r){return(e??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(_i.close,{},e)}_onError(e){this._on(_i.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Or.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=E2(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=E2(e.columns,e.old_record)),r}}const zf=()=>{},eh={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},p4=[1e3,2e3,5e3,1e4],m4=1e4,g4=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class v4{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=a0,this.transport=null,this.heartbeatIntervalMs=eh.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=zf,this.ref=0,this.reconnectTimer=null,this.vsn=j2,this.logger=zf,this.conn=null,this.sendBuffer=[],this.serializer=new o4,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=i=>i?(...s)=>i(...s):(...s)=>fetch(...s),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${o0.websocket}`,this.httpEndpoint=Cy(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=t4.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Gs.connecting:return Ba.Connecting;case Gs.open:return Ba.Open;case Gs.closing:return Ba.Closing;default:return Ba.Closed}}isConnected(){return this.connectionState()===Ba.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,i=this.getChannels().find(s=>s.topic===n);if(i)return i;{const s=new Ko(`realtime:${e}`,r,this);return this.channels.push(s),s}}push(e){const{topic:r,event:n,payload:i,ref:s}=e,a=()=>{this.encode(e,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${r} ${n} (${s})`,i),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(s4,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},eh.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const u=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",u)}catch(d){this.log("error","error in heartbeat callback",d)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:i,payload:s,ref:a}=r,o=a?`(${a})`:"",l=s.status||"";this.log("receive",`${l} ${n} ${i} ${o}`.trim(),s),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(i,s,a)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===Gs.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Gs.open||this.conn.readyState===Gs.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(_i.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${e}${n}${i}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([g4],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r,n=!1;if(e)r=e,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(i=>{const s={access_token:r,version:n4};r&&i.updateJoinPayload(s),i.joinedOnce&&i._isJoined()&&i._push(_i.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new jy(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},eh.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,i,s,a,o,l,u,d,m,v,h;switch(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:a0,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:eh.HEARTBEAT_INTERVAL,this.worker=(s=e==null?void 0:e.worker)!==null&&s!==void 0?s:!1,this.accessToken=(a=e==null?void 0:e.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(o=e==null?void 0:e.heartbeatCallback)!==null&&o!==void 0?o:zf,this.vsn=(l=e==null?void 0:e.vsn)!==null&&l!==void 0?l:j2,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=e==null?void 0:e.reconnectAfterMs)!==null&&u!==void 0?u:b=>p4[b-1]||m4,this.vsn){case i4:this.encode=(d=e==null?void 0:e.encode)!==null&&d!==void 0?d:(b,y)=>y(JSON.stringify(b)),this.decode=(m=e==null?void 0:e.decode)!==null&&m!==void 0?m:(b,y)=>y(JSON.parse(b));break;case Ay:this.encode=(v=e==null?void 0:e.encode)!==null&&v!==void 0?v:this.serializer.encode.bind(this.serializer),this.decode=(h=e==null?void 0:e.decode)!==null&&h!==void 0?h:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var Du=class extends Error{constructor(t,e){var r;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((r=e.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function y4(t,e,r){const n=new URL(e,t);if(r)for(const[i,s]of Object.entries(r))s!==void 0&&n.searchParams.set(i,s);return n.toString()}async function w4(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function _4(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:i,body:s,headers:a}){const o=y4(t.baseUrl,n,i),l=await w4(t.auth),u=await e(o,{method:r,headers:{...s?{"Content-Type":"application/json"}:{},...l,...a},body:s?JSON.stringify(s):void 0}),d=await u.text(),m=(u.headers.get("content-type")||"").includes("application/json"),v=m&&d?JSON.parse(d):d;if(!u.ok){const h=m?v:void 0,b=h==null?void 0:h.error;throw new Du((b==null?void 0:b.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:b==null?void 0:b.type,icebergCode:b==null?void 0:b.code,details:h})}return{status:u.status,headers:u.headers,data:v}}}}function th(t){return t.join("")}var b4=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:th(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(t,e){const r={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${th(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${th(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${th(t.namespace)}`}),!0}catch(e){if(e instanceof Du&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(r){if(r instanceof Du&&r.status===409)return;throw r}}};function bo(t){return t.join("")}var x4=class{constructor(t,e="",r){this.client=t,this.prefix=e,this.accessDelegation=r}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${bo(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${bo(t.namespace)}/tables`,body:e,headers:r})).data.metadata}async updateTable(t,e){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${bo(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${bo(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${bo(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${bo(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(r){if(r instanceof Du&&r.status===404)return!1;throw r}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(r){if(r instanceof Du&&r.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw r}}},k4=class{constructor(t){var n;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const r=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=_4({baseUrl:r,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(n=t.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new b4(this.client,e),this.tableOps=new x4(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},Ad=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function nr(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var S4=class extends Ad{constructor(t,e,r){super(t),this.name="StorageApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},u0=class extends Ad{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};const x1=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),N4=()=>Response,c0=t=>{if(Array.isArray(t))return t.map(r=>c0(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[i]=c0(n)}),e},A4=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},j4=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function Bu(t){"@babel/helpers - typeof";return Bu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bu(t)}function E4(t,e){if(Bu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Bu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function C4(t){var e=E4(t,"string");return Bu(e)=="symbol"?e:e+""}function L4(t,e,r){return(e=C4(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function P2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function lt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?P2(Object(r),!0).forEach(function(n){L4(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):P2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const Ff=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},P4=async(t,e,r)=>{t instanceof await N4()&&!(r!=null&&r.noResolveJson)?t.json().then(n=>{const i=t.status||500,s=(n==null?void 0:n.statusCode)||i+"";e(new S4(Ff(n),i,s))}).catch(n=>{e(new u0(Ff(n),n))}):e(new u0(Ff(t),t))},T4=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?i:(A4(n)?(i.headers=lt({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(n)):i.body=n,e!=null&&e.duplex&&(i.duplex=e.duplex),lt(lt({},i),r))};async function Xu(t,e,r,n,i,s){return new Promise((a,o)=>{t(r,T4(e,n,i,s)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>a(l)).catch(l=>P4(l,o,n))})}async function Uu(t,e,r,n){return Xu(t,"GET",e,r,n)}async function yi(t,e,r,n,i){return Xu(t,"POST",e,n,i,r)}async function h0(t,e,r,n,i){return Xu(t,"PUT",e,n,i,r)}async function O4(t,e,r,n){return Xu(t,"HEAD",e,lt(lt({},r),{},{noResolveJson:!0}),n)}async function k1(t,e,r,n,i){return Xu(t,"DELETE",e,n,i,r)}var I4=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(nr(e))return{data:null,error:e};throw e}}};let Ly;Ly=Symbol.toStringTag;var R4=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[Ly]="BlobDownloadBuilder",this.promise=null}asStream(){return new I4(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(nr(e))return{data:null,error:e};throw e}}};const z4={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},T2={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var F4=class{constructor(t,e={},r,n){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.bucketId=r,this.fetch=x1(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(t,e,r,n){var i=this;try{let s;const a=lt(lt({},T2),n);let o=lt(lt({},i.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const l=a.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",a.cacheControl),l&&s.append("metadata",i.encodeMetadata(l)),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.has("cacheControl")||s.append("cacheControl",a.cacheControl),l&&!s.has("metadata")&&s.append("metadata",i.encodeMetadata(l))):(s=r,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,l&&(o["x-metadata"]=i.toBase64(i.encodeMetadata(l))),(typeof ReadableStream<"u"&&s instanceof ReadableStream||s&&typeof s=="object"&&"pipe"in s&&typeof s.pipe=="function")&&!a.duplex&&(a.duplex="half")),n!=null&&n.headers&&(o=lt(lt({},o),n.headers));const u=i._removeEmptyFolders(e),d=i._getFinalPath(u),m=await(t=="PUT"?h0:yi)(i.fetch,`${i.url}/object/${d}`,s,lt({headers:o},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:u,id:m.Id,fullPath:m.Key},error:null}}catch(s){if(i.shouldThrowOnError)throw s;if(nr(s))return{data:null,error:s};throw s}}async upload(t,e,r){return this.uploadOrUpdate("POST",t,e,r)}async uploadToSignedUrl(t,e,r,n){var i=this;const s=i._removeEmptyFolders(t),a=i._getFinalPath(s),o=new URL(i.url+`/object/upload/sign/${a}`);o.searchParams.set("token",e);try{let l;const u=lt({upsert:T2.upsert},n),d=lt(lt({},i.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType),{data:{path:s,fullPath:(await h0(i.fetch,o.toString(),l,{headers:d})).Key},error:null}}catch(l){if(i.shouldThrowOnError)throw l;if(nr(l))return{data:null,error:l};throw l}}async createSignedUploadUrl(t,e){var r=this;try{let n=r._getFinalPath(t);const i=lt({},r.headers);e!=null&&e.upsert&&(i["x-upsert"]="true");const s=await yi(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:i}),a=new URL(r.url+s.url),o=a.searchParams.get("token");if(!o)throw new Ad("No token returned by API");return{data:{signedUrl:a.toString(),path:t,token:o},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(nr(n))return{data:null,error:n};throw n}}async update(t,e,r){return this.uploadOrUpdate("PUT",t,e,r)}async move(t,e,r){var n=this;try{return{data:await yi(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(nr(i))return{data:null,error:i};throw i}}async copy(t,e,r){var n=this;try{return{data:{path:(await yi(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key},error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(nr(i))return{data:null,error:i};throw i}}async createSignedUrl(t,e,r){var n=this;try{let i=n._getFinalPath(t),s=await yi(n.fetch,`${n.url}/object/sign/${i}`,lt({expiresIn:e},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s={signedUrl:encodeURI(`${n.url}${s.signedURL}${a}`)},{data:s,error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(nr(i))return{data:null,error:i};throw i}}async createSignedUrls(t,e,r){var n=this;try{const i=await yi(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:e,paths:t},{headers:n.headers}),s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(a=>lt(lt({},a),{},{signedUrl:a.signedURL?encodeURI(`${n.url}${a.signedURL}${s}`):null})),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(nr(i))return{data:null,error:i};throw i}}download(t,e){const r=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),i=n?`?${n}`:"",s=this._getFinalPath(t),a=()=>Uu(this.fetch,`${this.url}/${r}/${s}${i}`,{headers:this.headers,noResolveJson:!0});return new R4(a,this.shouldThrowOnError)}async info(t){var e=this;const r=e._getFinalPath(t);try{return{data:c0(await Uu(e.fetch,`${e.url}/object/info/${r}`,{headers:e.headers})),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(nr(n))return{data:null,error:n};throw n}}async exists(t){var e=this;const r=e._getFinalPath(t);try{return await O4(e.fetch,`${e.url}/object/${r}`,{headers:e.headers}),{data:!0,error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(nr(n)&&n instanceof u0){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}}getPublicUrl(t,e){const r=this._getFinalPath(t),n=[],i=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";i!==""&&n.push(i);const s=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});a!==""&&n.push(a);let o=n.join("&");return o!==""&&(o=`?${o}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${r}${o}`)}}}async remove(t){var e=this;try{return{data:await k1(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(nr(r))return{data:null,error:r};throw r}}async list(t,e,r){var n=this;try{const i=lt(lt(lt({},z4),e),{},{prefix:t||""});return{data:await yi(n.fetch,`${n.url}/object/list/${n.bucketId}`,i,{headers:n.headers},r),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(nr(i))return{data:null,error:i};throw i}}async listV2(t,e){var r=this;try{const n=lt({},t);return{data:await yi(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},e),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(nr(n))return{data:null,error:n};throw n}}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const Py="2.91.0",Ty={"X-Client-Info":`storage-js/${Py}`};var D4=class{constructor(t,e={},r,n){this.shouldThrowOnError=!1;const i=new URL(t);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=lt(lt({},Ty),e),this.fetch=x1(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(t){var e=this;try{const r=e.listBucketOptionsToQueryString(t);return{data:await Uu(e.fetch,`${e.url}/bucket${r}`,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(nr(r))return{data:null,error:r};throw r}}async getBucket(t){var e=this;try{return{data:await Uu(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(nr(r))return{data:null,error:r};throw r}}async createBucket(t,e={public:!1}){var r=this;try{return{data:await yi(r.fetch,`${r.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(nr(n))return{data:null,error:n};throw n}}async updateBucket(t,e){var r=this;try{return{data:await h0(r.fetch,`${r.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(nr(n))return{data:null,error:n};throw n}}async emptyBucket(t){var e=this;try{return{data:await yi(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(nr(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await k1(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(nr(r))return{data:null,error:r};throw r}}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},B4=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=lt(lt({},Ty),e),this.fetch=x1(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await yi(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(nr(r))return{data:null,error:r};throw r}}async listBuckets(t){var e=this;try{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),i=n?`${e.url}/bucket?${n}`:`${e.url}/bucket`;return{data:await Uu(e.fetch,i,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(nr(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await k1(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(nr(r))return{data:null,error:r};throw r}}from(t){var e=this;if(!j4(t))throw new Ad("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new k4({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(i,s){const a=i[s];return typeof a!="function"?a:async(...o)=>{try{return{data:await a.apply(i,o),error:null}}catch(l){if(n)throw l;return{data:null,error:l}}}}})}};const S1={"X-Client-Info":`storage-js/${Py}`,"Content-Type":"application/json"};var Oy=class extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function zn(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}var Df=class extends Oy{constructor(t,e,r){super(t),this.name="StorageVectorsApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},U4=class extends Oy{constructor(t,e){super(t),this.name="StorageVectorsUnknownError",this.originalError=e}};const N1=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),M4=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},O2=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),q4=async(t,e,r)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(r!=null&&r.noResolveJson)){const n=t.status||500,i=t;if(typeof i.json=="function")i.json().then(s=>{const a=(s==null?void 0:s.statusCode)||(s==null?void 0:s.code)||n+"";e(new Df(O2(s),n,a))}).catch(()=>{const s=n+"";e(new Df(i.statusText||`HTTP ${n} error`,n,s))});else{const s=n+"";e(new Df(i.statusText||`HTTP ${n} error`,n,s))}}else e(new U4(O2(t),t))},$4=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return n?(M4(n)?(i.headers=lt({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(n)):i.body=n,lt(lt({},i),r)):i};async function W4(t,e,r,n,i,s){return new Promise((a,o)=>{t(r,$4(e,n,i,s)).then(l=>{if(!l.ok)throw l;if(n!=null&&n.noResolveJson)return l;const u=l.headers.get("content-type");return!u||!u.includes("application/json")?{}:l.json()}).then(l=>a(l)).catch(l=>q4(l,o,n))})}async function Fn(t,e,r,n,i){return W4(t,"POST",e,n,i,r)}var H4=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=lt(lt({},S1),e),this.fetch=N1(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(t){var e=this;try{return{data:await Fn(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(zn(r))return{data:null,error:r};throw r}}async getIndex(t,e){var r=this;try{return{data:await Fn(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(zn(n))return{data:null,error:n};throw n}}async listIndexes(t){var e=this;try{return{data:await Fn(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(zn(r))return{data:null,error:r};throw r}}async deleteIndex(t,e){var r=this;try{return{data:await Fn(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(zn(n))return{data:null,error:n};throw n}}},V4=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=lt(lt({},S1),e),this.fetch=N1(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(t){var e=this;try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Fn(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(zn(r))return{data:null,error:r};throw r}}async getVectors(t){var e=this;try{return{data:await Fn(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(zn(r))return{data:null,error:r};throw r}}async listVectors(t){var e=this;try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:await Fn(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(zn(r))return{data:null,error:r};throw r}}async queryVectors(t){var e=this;try{return{data:await Fn(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(zn(r))return{data:null,error:r};throw r}}async deleteVectors(t){var e=this;try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Fn(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(zn(r))return{data:null,error:r};throw r}}},G4=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=lt(lt({},S1),e),this.fetch=N1(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await Fn(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(zn(r))return{data:null,error:r};throw r}}async getBucket(t){var e=this;try{return{data:await Fn(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(zn(r))return{data:null,error:r};throw r}}async listBuckets(t={}){var e=this;try{return{data:await Fn(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(zn(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await Fn(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(zn(r))return{data:null,error:r};throw r}}},K4=class extends G4{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new J4(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,r=this;return e().call(r,t)}async getBucket(t){var e=()=>super.getBucket,r=this;return e().call(r,t)}async listBuckets(t={}){var e=()=>super.listBuckets,r=this;return e().call(r,t)}async deleteBucket(t){var e=()=>super.deleteBucket,r=this;return e().call(r,t)}},J4=class extends H4{constructor(t,e,r,n){super(t,e,n),this.vectorBucketName=r}async createIndex(t){var e=()=>super.createIndex,r=this;return e().call(r,lt(lt({},t),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,r=this;return e().call(r,lt(lt({},t),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,r=this;return e().call(r,r.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,r=this;return e().call(r,r.vectorBucketName,t)}index(t){return new Y4(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},Y4=class extends V4{constructor(t,e,r,n,i){super(t,e,i),this.vectorBucketName=r,this.indexName=n}async putVectors(t){var e=()=>super.putVectors,r=this;return e().call(r,lt(lt({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(t){var e=()=>super.getVectors,r=this;return e().call(r,lt(lt({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,r=this;return e().call(r,lt(lt({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,r=this;return e().call(r,lt(lt({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,r=this;return e().call(r,lt(lt({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},Z4=class extends D4{constructor(t,e={},r,n){super(t,e,r,n)}from(t){return new F4(this.url,this.headers,t,this.fetch)}get vectors(){return new K4(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new B4(this.url+"/iceberg",this.headers,this.fetch)}};const Iy="2.91.0",To=30*1e3,d0=3,Bf=d0*To,X4="http://localhost:9999",Q4="supabase.auth.token",e3={"X-Client-Info":`gotrue-js/${Iy}`},f0="X-Supabase-Api-Version",Ry={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},t3=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,r3=10*60*1e3;class Mu extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function et(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class n3 extends Mu{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function i3(t){return et(t)&&t.name==="AuthApiError"}class Ua extends Mu{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Ns extends Mu{constructor(e,r,n,i){super(e,n,i),this.name=r,this.status=n}}class In extends Ns{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function s3(t){return et(t)&&t.name==="AuthSessionMissingError"}class xo extends Ns{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class rh extends Ns{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class nh extends Ns{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function a3(t){return et(t)&&t.name==="AuthImplicitGrantRedirectError"}class I2 extends Ns{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class o3 extends Ns{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class p0 extends Ns{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Uf(t){return et(t)&&t.name==="AuthRetryableFetchError"}class R2 extends Ns{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class m0 extends Ns{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const rd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),z2=` 	
\r=`.split(""),l3=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<z2.length;e+=1)t[z2[e].charCodeAt(0)]=-2;for(let e=0;e<rd.length;e+=1)t[rd[e].charCodeAt(0)]=e;return t})();function F2(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(rd[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(rd[n]),e.queuedBits-=6}}function zy(t,e,r){const n=l3[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function D2(t){const e=[],r=a=>{e.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=a=>{h3(a,n,r)};for(let a=0;a<t.length;a+=1)zy(t.charCodeAt(a),i,s);return e.join("")}function u3(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function c3(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}u3(n,e)}}function h3(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function nl(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)zy(t.charCodeAt(i),r,n);return new Uint8Array(e)}function d3(t){const e=[];return c3(t,r=>e.push(r)),new Uint8Array(e)}function Ha(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};return t.forEach(i=>F2(i,r,n)),F2(null,r,n),e.join("")}function f3(t){return Math.round(Date.now()/1e3)+t}function p3(){return Symbol("auth-callback")}const Gr=()=>typeof window<"u"&&typeof document<"u",Ta={tested:!1,writable:!1},Fy=()=>{if(!Gr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ta.tested)return Ta.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Ta.tested=!0,Ta.writable=!0}catch{Ta.tested=!0,Ta.writable=!1}return Ta.writable};function m3(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,s)=>{e[s]=i})}catch{}return r.searchParams.forEach((n,i)=>{e[i]=n}),e}const Dy=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),g3=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Oo=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Oa=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Vr=async(t,e)=>{await t.removeItem(e)};class jd{constructor(){this.promise=new jd.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}jd.promiseConstructor=Promise;function Mf(t){const e=t.split(".");if(e.length!==3)throw new m0("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!t3.test(e[n]))throw new m0("JWT not in base64url format");return{header:JSON.parse(D2(e[0])),payload:JSON.parse(D2(e[1])),signature:nl(e[2]),raw:{header:e[0],payload:e[1]}}}async function v3(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function y3(t,e){return new Promise((n,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const a=await t(s);if(!e(s,null,a)){n(a);return}}catch(a){if(!e(s,a)){i(a);return}}})()})}function w3(t){return("0"+t.toString(16)).substr(-2)}function _3(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let s=0;s<56;s++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(e),Array.from(e,w3).join("")}async function b3(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function x3(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await b3(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ko(t,e,r=!1){const n=_3();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await Oo(t,`${e}-code-verifier`,i);const s=await x3(n);return[s,n===s?"plain":"s256"]}const k3=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function S3(t){const e=t.headers.get(f0);if(!e||!e.match(k3))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function N3(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function A3(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const j3=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function So(t){if(!j3.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function qf(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function E3(t,e){return new Proxy(t,{get:(r,n,i)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)"||s==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,i)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,n,i)}})}function B2(t){return JSON.parse(JSON.stringify(t))}const Fa=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),C3=[502,503,504];async function U2(t){var e;if(!g3(t))throw new p0(Fa(t),0);if(C3.includes(t.status))throw new p0(Fa(t),t.status);let r;try{r=await t.json()}catch(s){throw new Ua(Fa(s),s)}let n;const i=S3(t);if(i&&i.getTime()>=Ry["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new R2(Fa(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new In}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,a)=>s&&typeof a=="string",!0))throw new R2(Fa(r),t.status,r.weak_password.reasons);throw new n3(Fa(r),t.status||500,n)}const L3=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function ot(t,e,r,n){var i;const s=Object.assign({},n==null?void 0:n.headers);s[f0]||(s[f0]=Ry["2024-01-01"].name),n!=null&&n.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const a=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await P3(t,e,r+o,{headers:s,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function P3(t,e,r,n,i,s){const a=L3(e,n,i,s);let o;try{o=await t(r,Object.assign({},a))}catch(l){throw console.error(l),new p0(Fa(l),0)}if(o.ok||await U2(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(l){await U2(l)}}function gi(t){var e;let r=null;I3(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=f3(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function M2(t){const e=gi(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Ys(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function T3(t){return{data:t,error:null}}function O3(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s}=t,a=Nd(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s},l=Object.assign({},a);return{data:{properties:o,user:l},error:null}}function q2(t){return t}function I3(t){return t.access_token&&t.refresh_token&&t.expires_in}const $f=["global","local","others"];class R3{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=Dy(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=$f[0]){if($f.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${$f.join(", ")}`);try{return await ot(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(et(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await ot(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Ys})}catch(n){if(et(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=Nd(e,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await ot(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:O3,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(et(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await ot(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ys})}catch(r){if(et(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,i,s,a,o,l;try{const u={nextPage:null,lastPage:0,total:0},d=await ot(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:q2});if(d.error)throw d.error;const m=await d.json(),v=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,h=(l=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return h.length>0&&(h.forEach(b=>{const y=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(b.split(";")[1].split("=")[1]);u[`${k}Page`]=y}),u.total=parseInt(v)),{data:Object.assign(Object.assign({},m),u),error:null}}catch(u){if(et(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){So(e);try{return await ot(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ys})}catch(r){if(et(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){So(e);try{return await ot(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Ys})}catch(n){if(et(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){So(e);try{return await ot(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Ys})}catch(n){if(et(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){So(e.userId);try{const{data:r,error:n}=await ot(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(et(r))return{data:null,error:r};throw r}}async _deleteFactor(e){So(e.userId),So(e.id);try{return{data:await ot(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(et(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,i,s,a,o,l;try{const u={nextPage:null,lastPage:0,total:0},d=await ot(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:q2});if(d.error)throw d.error;const m=await d.json(),v=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,h=(l=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return h.length>0&&(h.forEach(b=>{const y=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(b.split(";")[1].split("=")[1]);u[`${k}Page`]=y}),u.total=parseInt(v)),{data:Object.assign(Object.assign({},m),u),error:null}}catch(u){if(et(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(e){try{return await ot(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(et(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await ot(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(et(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await ot(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(et(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await ot(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(et(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await ot(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(et(r))return{data:null,error:r};throw r}}}function $2(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const No={debug:!!(globalThis&&Fy()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class By extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class z3 extends By{}async function F3(t,e,r){No.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),No.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){No.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await r()}finally{No.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw No.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new z3(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(No.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function D3(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Uy(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function B3(t){return parseInt(t,16)}function U3(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function M3(t){var e;const{chainId:r,domain:n,expirationTime:i,issuedAt:s=new Date,nonce:a,notBefore:o,requestId:l,resources:u,scheme:d,uri:m,version:v}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!m)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(v!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${v}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const h=Uy(t.address),b=d?`${d}://${n}`:n,y=t.statement?`${t.statement}
`:"",k=`${b} wants you to sign in with your Ethereum account:
${h}

${y}`;let g=`URI: ${m}
Version: ${v}
Chain ID: ${r}${a?`
Nonce: ${a}`:""}
Issued At: ${s.toISOString()}`;if(i&&(g+=`
Expiration Time: ${i.toISOString()}`),o&&(g+=`
Not Before: ${o.toISOString()}`),l&&(g+=`
Request ID: ${l}`),u){let _=`
Resources:`;for(const x of u){if(!x||typeof x!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${x}`);_+=`
- ${x}`}g+=_}return`${k}
${g}`}class Nr extends Error{constructor({message:e,code:r,cause:n,name:i}){var s;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(s=i??(n instanceof Error?n.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=r}}class nd extends Nr{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function q3({error:t,options:e}){var r,n,i;const{publicKey:s}=e;if(!s)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Nr({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=s.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Nr({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=s.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Nr({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=s.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Nr({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Nr({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Nr({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return s.pubKeyCredParams.filter(o=>o.type==="public-key").length===0?new Nr({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Nr({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const a=window.location.hostname;if(My(a)){if(s.rp.id!==a)return new Nr({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Nr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new Nr({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Nr({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Nr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function $3({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Nr({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Nr({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(My(n)){if(r.rpId!==n)return new Nr({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Nr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Nr({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Nr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class W3{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const H3=new W3;function V3(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,i=Nd(t,["challenge","user","excludeCredentials"]),s=nl(e).buffer,a=Object.assign(Object.assign({},r),{id:nl(r.id).buffer}),o=Object.assign(Object.assign({},i),{challenge:s,user:a});if(n&&n.length>0){o.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const u=n[l];o.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:nl(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return o}function G3(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=Nd(t,["challenge","allowCredentials"]),i=nl(e).buffer,s=Object.assign(Object.assign({},n),{challenge:i});if(r&&r.length>0){s.allowCredentials=new Array(r.length);for(let a=0;a<r.length;a++){const o=r[a];s.allowCredentials[a]=Object.assign(Object.assign({},o),{id:nl(o.id).buffer,type:o.type||"public-key",transports:o.transports})}}return s}function K3(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:Ha(new Uint8Array(t.response.attestationObject)),clientDataJSON:Ha(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function J3(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Ha(new Uint8Array(i.authenticatorData)),clientDataJSON:Ha(new Uint8Array(i.clientDataJSON)),signature:Ha(new Uint8Array(i.signature)),userHandle:i.userHandle?Ha(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function My(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function W2(){var t,e;return!!(Gr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function Y3(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new nd("Browser returned unexpected credential type",e)}:{data:null,error:new nd("Empty credential response",e)}}catch(e){return{data:null,error:q3({error:e,options:t})}}}async function Z3(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new nd("Browser returned unexpected credential type",e)}:{data:null,error:new nd("Empty credential response",e)}}catch(e){return{data:null,error:$3({error:e,options:t})}}}const X3={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Q3={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function id(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of t)if(i)for(const s in i){const a=i[s];if(a!==void 0)if(Array.isArray(a))n[s]=a;else if(r(a))n[s]=a;else if(e(a)){const o=n[s];e(o)?n[s]=id(o,a):n[s]=id(a)}else n[s]=a}return n}function ek(t,e){return id(X3,t,e||{})}function tk(t,e){return id(Q3,t,e||{})}class rk{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:i},s){try{const{data:a,error:o}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!a)return{data:null,error:o};const l=i??H3.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:u}=a.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(a.webauthn.type){case"create":{const u=ek(a.webauthn.credential_options.publicKey,s==null?void 0:s.create),{data:d,error:m}=await Y3({publicKey:u,signal:l});return d?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:m}}case"request":{const u=tk(a.webauthn.credential_options.publicKey,s==null?void 0:s.request),{data:d,error:m}=await Z3(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:u,signal:l}));return d?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:m}}}}catch(a){return et(a)?{data:null,error:a}:{data:null,error:new Ua("Unexpected error in challenge",a)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!r)return{data:null,error:new Mu("rpId is required for WebAuthn authentication")};try{if(!W2())return{data:null,error:new Ua("Browser does not support WebAuthn",null)};const{data:a,error:o}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:i},{request:s});if(!a)return{data:null,error:o};const{webauthn:l}=a;return this._verify({factorId:e,challengeId:a.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:n,credential_response:l.credential_response}})}catch(a){return et(a)?{data:null,error:a}:{data:null,error:new Ua("Unexpected error in authenticate",a)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!r)return{data:null,error:new Mu("rpId is required for WebAuthn registration")};try{if(!W2())return{data:null,error:new Ua("Browser does not support WebAuthn",null)};const{data:a,error:o}=await this._enroll({friendlyName:e});if(!a)return await this.client.mfa.listFactors().then(d=>{var m;return(m=d.data)===null||m===void 0?void 0:m.all.find(v=>v.factor_type==="webauthn"&&v.friendly_name===e&&v.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:o};const{data:l,error:u}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:i},{create:s});return l?this._verify({factorId:a.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(a){return et(a)?{data:null,error:a}:{data:null,error:new Ua("Unexpected error in register",a)}}}}D3();const nk={url:X4,storageKey:Q4,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:e3,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function H2(t,e,r){return await r()}const Ao={};class qu{get jwks(){var e,r;return(r=(e=Ao[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Ao[this.storageKey]=Object.assign(Object.assign({},Ao[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Ao[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Ao[this.storageKey]=Object.assign(Object.assign({},Ao[this.storageKey]),{cachedAt:e})}constructor(e){var r,n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const s=Object.assign(Object.assign({},nk),e);if(this.storageKey=s.storageKey,this.instanceID=(r=qu.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,qu.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&Gr()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new R3({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Dy(s.fetch),this.lock=s.lock||H2,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,this.lockAcquireTimeout=s.lockAcquireTimeout,s.lock?this.lock=s.lock:this.persistSession&&Gr()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=F3:this.lock=H2,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new rk(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:Fy()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=$2(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=$2(this.memoryStorage)),Gr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Iy}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},n="none";if(Gr()&&(r=m3(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Gr()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),a3(s)){const l=(e=s.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return{error:s}}const{session:a,redirectType:o}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),await this._saveSession(a),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return et(r)?this._returnResult({error:r}):this._returnResult({error:new Ua("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,i;try{const s=await ot(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:gi}),{data:a,error:o}=s;if(o||!a)return this._returnResult({data:{user:null,session:null},error:o});const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(s){if(et(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signUp(e){var r,n,i;try{let s;if("email"in e){const{email:d,password:m,options:v}=e;let h=null,b=null;this.flowType==="pkce"&&([h,b]=await ko(this.storage,this.storageKey)),s=await ot(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v==null?void 0:v.emailRedirectTo,body:{email:d,password:m,data:(r=v==null?void 0:v.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken},code_challenge:h,code_challenge_method:b},xform:gi})}else if("phone"in e){const{phone:d,password:m,options:v}=e;s=await ot(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:m,data:(n=v==null?void 0:v.data)!==null&&n!==void 0?n:{},channel:(i=v==null?void 0:v.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken}},xform:gi})}else throw new rh("You must provide either an email or phone number and a password");const{data:a,error:o}=s;if(o||!a)return await Vr(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:o});const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(s){if(await Vr(this.storage,`${this.storageKey}-code-verifier`),et(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithPassword(e){try{let r;if("email"in e){const{email:s,password:a,options:o}=e;r=await ot(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:M2})}else if("phone"in e){const{phone:s,password:a,options:o}=e;r=await ot(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:M2})}else throw new rh("You must provide either an email or phone number and a password");const{data:n,error:i}=r;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!n||!n.session||!n.user){const s=new xo;return this._returnResult({data:{user:null,session:null},error:s})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(et(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,n,i,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,i,s,a,o,l,u,d,m,v;let h,b;if("message"in e)h=e.message,b=e.signature;else{const{chain:y,wallet:k,statement:g,options:_}=e;let x;if(Gr())if(typeof k=="object")x=k;else{const P=window;if("ethereum"in P&&typeof P.ethereum=="object"&&"request"in P.ethereum&&typeof P.ethereum.request=="function")x=P.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!(_!=null&&_.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=k}const A=new URL((r=_==null?void 0:_.url)!==null&&r!==void 0?r:window.location.href),T=await x.request({method:"eth_requestAccounts"}).then(P=>P).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!T||T.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const q=Uy(T[0]);let B=(n=_==null?void 0:_.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!B){const P=await x.request({method:"eth_chainId"});B=B3(P)}const D={domain:A.host,address:q,statement:g,uri:A.href,version:"1",chainId:B,nonce:(i=_==null?void 0:_.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(a=(s=_==null?void 0:_.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(o=_==null?void 0:_.signInWithEthereum)===null||o===void 0?void 0:o.expirationTime,notBefore:(l=_==null?void 0:_.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=_==null?void 0:_.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=_==null?void 0:_.signInWithEthereum)===null||d===void 0?void 0:d.resources};h=M3(D),b=await x.request({method:"personal_sign",params:[U3(h),q]})}try{const{data:y,error:k}=await ot(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:h,signature:b},!((m=e.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:gi});if(k)throw k;if(!y||!y.session||!y.user){const g=new xo;return this._returnResult({data:{user:null,session:null},error:g})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:k})}catch(y){if(et(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async signInWithSolana(e){var r,n,i,s,a,o,l,u,d,m,v,h;let b,y;if("message"in e)b=e.message,y=e.signature;else{const{chain:k,wallet:g,statement:_,options:x}=e;let A;if(Gr())if(typeof g=="object")A=g;else{const q=window;if("solana"in q&&typeof q.solana=="object"&&("signIn"in q.solana&&typeof q.solana.signIn=="function"||"signMessage"in q.solana&&typeof q.solana.signMessage=="function"))A=q.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");A=g}const T=new URL((r=x==null?void 0:x.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in A&&A.signIn){const q=await A.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},x==null?void 0:x.signInWithSolana),{version:"1",domain:T.host,uri:T.href}),_?{statement:_}:null));let B;if(Array.isArray(q)&&q[0]&&typeof q[0]=="object")B=q[0];else if(q&&typeof q=="object"&&"signedMessage"in q&&"signature"in q)B=q;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in B&&"signature"in B&&(typeof B.signedMessage=="string"||B.signedMessage instanceof Uint8Array)&&B.signature instanceof Uint8Array)b=typeof B.signedMessage=="string"?B.signedMessage:new TextDecoder().decode(B.signedMessage),y=B.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in A)||typeof A.signMessage!="function"||!("publicKey"in A)||typeof A!="object"||!A.publicKey||!("toBase58"in A.publicKey)||typeof A.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${T.host} wants you to sign in with your Solana account:`,A.publicKey.toBase58(),..._?["",_,""]:[""],"Version: 1",`URI: ${T.href}`,`Issued At: ${(i=(n=x==null?void 0:x.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=x==null?void 0:x.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${x.signInWithSolana.notBefore}`]:[],...!((a=x==null?void 0:x.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${x.signInWithSolana.expirationTime}`]:[],...!((o=x==null?void 0:x.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${x.signInWithSolana.chainId}`]:[],...!((l=x==null?void 0:x.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${x.signInWithSolana.nonce}`]:[],...!((u=x==null?void 0:x.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${x.signInWithSolana.requestId}`]:[],...!((m=(d=x==null?void 0:x.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||m===void 0)&&m.length?["Resources",...x.signInWithSolana.resources.map(B=>`- ${B}`)]:[]].join(`
`);const q=await A.signMessage(new TextEncoder().encode(b),"utf8");if(!q||!(q instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=q}}try{const{data:k,error:g}=await ot(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:Ha(y)},!((v=e.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(h=e.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:gi});if(g)throw g;if(!k||!k.session||!k.user){const _=new xo;return this._returnResult({data:{user:null,session:null},error:_})}return k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),this._returnResult({data:Object.assign({},k),error:g})}catch(k){if(et(k))return this._returnResult({data:{user:null,session:null},error:k});throw k}}async _exchangeCodeForSession(e){const r=await Oa(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new o3;const{data:s,error:a}=await ot(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:gi});if(await Vr(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!s||!s.session||!s.user){const o=new xo;return this._returnResult({data:{user:null,session:null,redirectType:null},error:o})}return s.session&&(await this._saveSession(s.session),setTimeout(async()=>{await this._notifyAllSubscribers("SIGNED_IN",s.session)},0)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:a})}catch(s){if(await Vr(this.storage,`${this.storageKey}-code-verifier`),et(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}}async signInWithIdToken(e){try{const{options:r,provider:n,token:i,access_token:s,nonce:a}=e,o=await ot(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:gi}),{data:l,error:u}=o;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const d=new xo;return this._returnResult({data:{user:null,session:null},error:d})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:u})}catch(r){if(et(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,n,i,s,a;try{if("email"in e){const{email:o,options:l}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await ko(this.storage,this.storageKey));const{error:m}=await ot(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:m})}if("phone"in e){const{phone:o,options:l}=e,{data:u,error:d}=await ot(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(a=l==null?void 0:l.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new rh("You must provide either an email or phone number.")}catch(o){if(await Vr(this.storage,`${this.storageKey}-code-verifier`),et(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async verifyOtp(e){var r,n;try{let i,s;"options"in e&&(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo,s=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:o}=await ot(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:gi});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const l=a.session,u=a.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(et(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var r,n,i,s,a;try{let o=null,l=null;this.flowType==="pkce"&&([o,l]=await ko(this.storage,this.storageKey));const u=await ot(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:l}),headers:this.headers,xform:T3});return!((s=u.data)===null||s===void 0)&&s.url&&Gr()&&!(!((a=e.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(o){if(await Vr(this.storage,`${this.storageKey}-code-verifier`),et(o))return this._returnResult({data:null,error:o});throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new In;const{error:i}=await ot(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(et(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:i,options:s}=e,{error:a}=await ot(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in e){const{phone:n,type:i,options:s}=e,{data:a,error:o}=await ot(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:o})}throw new rh("You must provide either an email or phone number and a type")}catch(r){if(et(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Oa(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<Bf:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const a=await Oa(this.userStorage,this.storageKey+"-user");a!=null&&a.user?e.user=a.user:e.user=qf()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};e.user=E3(e.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(e){try{return e?await ot(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Ys}):await this._useSession(async r=>{var n,i,s;const{data:a,error:o}=r;if(o)throw o;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new In}:await ot(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:Ys})})}catch(r){if(et(r))return s3(r)&&(await this._removeSession(),await Vr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:i,error:s}=n;if(s)throw s;if(!i.session)throw new In;const a=i.session;let o=null,l=null;this.flowType==="pkce"&&e.email!=null&&([o,l]=await ko(this.storage,this.storageKey));const{data:u,error:d}=await ot(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:l}),jwt:a.access_token,xform:Ys});if(d)throw d;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(n){if(await Vr(this.storage,`${this.storageKey}-code-verifier`),et(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new In;const r=Date.now()/1e3;let n=r,i=!0,s=null;const{payload:a}=Mf(e.access_token);if(a.exp&&(n=a.exp,i=n<=r),i){const{data:o,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!o)return{data:{user:null,session:null},error:null};s=o}else{const{data:o,error:l}=await this._getUser(e.access_token);if(l)throw l;s={access_token:e.access_token,refresh_token:e.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(r){if(et(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:a,error:o}=r;if(o)throw o;e=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new In;const{data:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(et(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!Gr())throw new nh("No browser detected.");if(e.error||e.error_description||e.error_code)throw new nh(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new I2("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new nh("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new I2("No code detected.");const{data:_,error:x}=await this._exchangeCodeForSession(e.code);if(x)throw x;const A=new URL(window.location.href);return A.searchParams.delete("code"),window.history.replaceState(window.history.state,"",A.toString()),{data:{session:_.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:s,refresh_token:a,expires_in:o,expires_at:l,token_type:u}=e;if(!s||!o||!a||!u)throw new nh("No session defined in URL");const d=Math.round(Date.now()/1e3),m=parseInt(o);let v=d+m;l&&(v=parseInt(l));const h=v-d;h*1e3<=To&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${m}s`);const b=v-m;d-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,v,d):d-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,v,d);const{data:y,error:k}=await this._getUser(s);if(k)throw k;const g={provider_token:n,provider_refresh_token:i,access_token:s,expires_in:m,expires_at:v,refresh_token:a,token_type:u,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:g,redirectType:e.type},error:null})}catch(n){if(et(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Oa(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return this._returnResult({error:s});const a=(n=i.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:o}=await this.admin.signOut(a,e);if(o&&!(i3(o)&&(o.status===404||o.status===401||o.status===403)))return this._returnResult({error:o})}return e!=="others"&&(await this._removeSession(),await Vr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=p3(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,i;try{const{data:{session:s},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await ko(this.storage,this.storageKey,!0));try{return await ot(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(await Vr(this.storage,`${this.storageKey}-code-verifier`),et(s))return this._returnResult({data:null,error:s});throw s}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(et(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:i}=await this._useSession(async s=>{var a,o,l,u,d;const{data:m,error:v}=s;if(v)throw v;const h=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await ot(this.fetch,"GET",h,{headers:this.headers,jwt:(d=(u=m.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return Gr()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:e.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(et(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:i,data:{session:s}}=r;if(i)throw i;const{options:a,provider:o,token:l,access_token:u,nonce:d}=e,m=await ot(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=s==null?void 0:s.access_token)!==null&&n!==void 0?n:void 0,body:{provider:o,id_token:l,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:gi}),{data:v,error:h}=m;return h?this._returnResult({data:{user:null,session:null},error:h}):!v||!v.session||!v.user?this._returnResult({data:{user:null,session:null},error:new xo}):(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("USER_UPDATED",v.session)),this._returnResult({data:v,error:h}))}catch(i){if(await Vr(this.storage,`${this.storageKey}-code-verifier`),et(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,i;const{data:s,error:a}=r;if(a)throw a;return await ot(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(et(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await y3(async i=>(i>0&&await v3(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await ot(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:gi})),(i,s)=>{const a=200*Math.pow(2,i);return s&&Uf(s)&&Date.now()+a-n<To})}catch(n){if(this._debug(r,"error",n),et(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),Gr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await Oa(this.storage,this.storageKey);if(i&&this.userStorage){let a=await Oa(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:i.user},await Oo(this.userStorage,this.storageKey+"-user",a)),i.user=(e=a==null?void 0:a.user)!==null&&e!==void 0?e:qf()}else if(i&&!i.user&&!i.user){const a=await Oa(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(i.user=a.user,await Vr(this.storage,this.storageKey+"-user"),await Oo(this.storage,this.storageKey,i)):i.user=qf()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const s=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Bf;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${Bf}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),Uf(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:o}=await this._getUser(i.access_token);!o&&(a!=null&&a.user)?(i.user=a.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(n,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new In;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new jd;const{data:s,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!s.session)throw new In;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const o={data:s.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(s){if(this._debug(i,"error",s),et(s)){const a={data:null,error:s};return Uf(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,r,n=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const s=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(e,r)}catch(l){s.push(l)}});if(await Promise.all(a),s.length>0){for(let o=0;o<s.length;o+=1)console.error(s[o]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Vr(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Oo(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const s=B2(i);await Oo(this.storage,this.storageKey,s)}else{const i=B2(r);await Oo(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Vr(this.storage,this.storageKey),await Vr(this.storage,this.storageKey+"-code-verifier"),await Vr(this.storage,this.storageKey+"-user"),this.userStorage&&await Vr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Gr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),To);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-e)/To);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${To}ms, refresh threshold is ${d0} ticks`),i<=d0&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof By)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Gr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,a]=await ko(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(o.toString())}if(n!=null&&n.queryParams){const s=new URLSearchParams(n.queryParams);i.push(s.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;return s?this._returnResult({data:null,error:s}):await ot(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(et(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,i;const{data:s,error:a}=r;if(a)return this._returnResult({data:null,error:a});const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:u}=await ot(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(e.factorType==="totp"&&l.type==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(r){if(et(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return this._returnResult({data:null,error:s});const a=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?K3(e.webauthn.credential_response):J3(e.webauthn.credential_response)})}:{code:e.code}),{data:o,error:l}=await ot(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:a,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),this._returnResult({data:o,error:l}))})}catch(r){if(et(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return this._returnResult({data:null,error:s});const a=await ot(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});if(a.error)return a;const{data:o}=a;if(o.type!=="webauthn")return{data:o,error:null};switch(o.webauthn.type){case"create":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:V3(o.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:G3(o.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(et(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const s of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])i.all.push(s),s.status==="verified"&&i[s.factor_type].push(s);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:n},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=Mf(n.access_token);let a=null;s.aal&&(a=s.aal);let o=a;((r=(e=n.user.factors)===null||e===void 0?void 0:e.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(o="aal2");const u=s.amr||[];return{data:{currentLevel:a,nextLevel:o,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?await ot(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new In})})}catch(r){if(et(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new In});const a=await ot(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:o=>({data:o,error:null})});return a.data&&a.data.redirect_url&&Gr()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(et(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new In});const a=await ot(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:o=>({data:o,error:null})});return a.data&&a.data.redirect_url&&Gr()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(et(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;return n?this._returnResult({data:null,error:n}):r?await ot(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new In})})}catch(e){if(et(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?(await ot(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new In})})}catch(r){if(et(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(o=>o.kid===e);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(o=>o.kid===e),n&&this.jwks_cached_at+r3>i)return n;const{data:s,error:a}=await ot(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,n=s.keys.find(o=>o.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:h,error:b}=await this.getSession();if(b||!h.session)return this._returnResult({data:null,error:b});n=h.session.access_token}const{header:i,payload:s,signature:a,raw:{header:o,payload:l}}=Mf(n);r!=null&&r.allowExpired||N3(s.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:h}=await this.getUser(n);if(h)throw h;return{data:{claims:s,header:i,signature:a},error:null}}const d=A3(i.alg),m=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,m,a,d3(`${o}.${l}`)))throw new m0("Invalid JWT signature");return{data:{claims:s,header:i,signature:a},error:null}}catch(n){if(et(n))return this._returnResult({data:null,error:n});throw n}}}qu.nextInstanceID={};const ik=qu,sk="2.91.0";let ou="";typeof Deno<"u"?ou="deno":typeof document<"u"?ou="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ou="react-native":ou="node";const ak={"X-Client-Info":`supabase-js-${ou}/${sk}`},ok={headers:ak},lk={schema:"public"},uk={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},ck={};function $u(t){"@babel/helpers - typeof";return $u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$u(t)}function hk(t,e){if($u(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($u(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dk(t){var e=hk(t,"string");return $u(e)=="symbol"?e:e+""}function fk(t,e,r){return(e=dk(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function V2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function hr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?V2(Object(r),!0).forEach(function(n){fk(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):V2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const pk=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),mk=()=>Headers,gk=(t,e,r)=>{const n=pk(r),i=mk();return async(s,a)=>{var o;const l=(o=await e())!==null&&o!==void 0?o:t;let u=new i(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),n(s,hr(hr({},a),{},{headers:u}))}};function vk(t){return t.endsWith("/")?t:t+"/"}function yk(t,e){var r,n;const{db:i,auth:s,realtime:a,global:o}=t,{db:l,auth:u,realtime:d,global:m}=e,v={db:hr(hr({},l),i),auth:hr(hr({},u),s),realtime:hr(hr({},d),a),storage:{},global:hr(hr(hr({},m),o),{},{headers:hr(hr({},(r=m==null?void 0:m.headers)!==null&&r!==void 0?r:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?v.accessToken=t.accessToken:delete v.accessToken,v}function wk(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(vk(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var _k=class extends ik{constructor(t){super(t)}},bk=class{constructor(t,e,r){var n,i;this.supabaseUrl=t,this.supabaseKey=e;const s=wk(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",s),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",s),this.storageUrl=new URL("storage/v1",s),this.functionsUrl=new URL("functions/v1",s);const a=`sb-${s.hostname.split(".")[0]}-auth-token`,o={db:lk,realtime:ck,auth:hr(hr({},uk),{},{storageKey:a}),global:ok},l=yk(r??{},o);if(this.storageKey=(n=l.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=l.global.headers)!==null&&i!==void 0?i:{},l.accessToken)this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(d,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=l.auth)!==null&&u!==void 0?u:{},this.headers,l.global.fetch)}this.fetch=gk(e,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(hr({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new e4(new URL("rest/v1",s).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),this.storage=new Z4(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new Jx(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,r)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,r;if(t.accessToken)return await t.accessToken();const{data:n}=await t.auth.getSession();return(e=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:n,userStorage:i,storageKey:s,flowType:a,lock:o,debug:l,throwOnError:u},d,m){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new _k({url:this.authUrl.href,headers:hr(hr({},v),d),storageKey:s,autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:n,userStorage:i,flowType:a,lock:o,debug:l,throwOnError:u,fetch:m,hasCustomAuthorizationHeader:Object.keys(this.headers).some(h=>h.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new v4(this.realtimeUrl.href,hr(hr({},t),{},{params:hr(hr({},{apikey:this.supabaseKey}),t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(t,e,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const xk=(t,e,r)=>new bk(t,e,r);function kk(){if(typeof window<"u")return!1;const t=globalThis.process;if(!t)return!1;const e=t.version;if(e==null)return!1;const r=e.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}kk()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");console.error("Missing Supabase environment variables.");const Pt=xk("",""),Sk="modulepreload",Nk=function(t){return"/"+t},G2={},Wf=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(r.map(l=>{if(l=Nk(l),l in G2)return;G2[l]=!0;const u=l.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const m=document.createElement("link");if(m.rel=u?"stylesheet":Sk,u||(m.as="script"),m.crossOrigin="",m.href=l,o&&m.setAttribute("nonce",o),document.head.appendChild(m),u)return new Promise((v,h)=>{m.addEventListener("load",v),m.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return i.then(a=>{for(const o of a||[])o.status==="rejected"&&s(o.reason);return e().catch(s)})};function Dt(t){"@babel/helpers - typeof";return Dt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dt(t)}var Ni=Uint8Array,Bn=Uint16Array,A1=Int32Array,j1=new Ni([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),E1=new Ni([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),K2=new Ni([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),qy=function(t,e){for(var r=new Bn(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var i=new A1(r[30]),n=1;n<30;++n)for(var s=r[n];s<r[n+1];++s)i[s]=s-r[n]<<5|n;return{b:r,r:i}},$y=qy(j1,2),Ak=$y.b,g0=$y.r;Ak[28]=258,g0[258]=28;var jk=qy(E1,0),J2=jk.r,v0=new Bn(32768);for(var Xt=0;Xt<32768;++Xt){var $s=(Xt&43690)>>1|(Xt&21845)<<1;$s=($s&52428)>>2|($s&13107)<<2,$s=($s&61680)>>4|($s&3855)<<4,v0[Xt]=(($s&65280)>>8|($s&255)<<8)>>1}var wu=function(t,e,r){for(var n=t.length,i=0,s=new Bn(e);i<n;++i)t[i]&&++s[t[i]-1];var a=new Bn(e);for(i=1;i<e;++i)a[i]=a[i-1]+s[i-1]<<1;var o;if(r){o=new Bn(1<<e);var l=15-e;for(i=0;i<n;++i)if(t[i])for(var u=i<<4|t[i],d=e-t[i],m=a[t[i]-1]++<<d,v=m|(1<<d)-1;m<=v;++m)o[v0[m]>>l]=u}else for(o=new Bn(n),i=0;i<n;++i)t[i]&&(o[i]=v0[a[t[i]-1]++]>>15-t[i]);return o},eo=new Ni(288);for(var Xt=0;Xt<144;++Xt)eo[Xt]=8;for(var Xt=144;Xt<256;++Xt)eo[Xt]=9;for(var Xt=256;Xt<280;++Xt)eo[Xt]=7;for(var Xt=280;Xt<288;++Xt)eo[Xt]=8;var sd=new Ni(32);for(var Xt=0;Xt<32;++Xt)sd[Xt]=5;var Ek=wu(eo,9,0),Ck=wu(sd,5,0),Wy=function(t){return(t+7)/8|0},Lk=function(t,e,r){return(r==null||r>t.length)&&(r=t.length),new Ni(t.subarray(e,r))},hs=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8},tu=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8,t[n+2]|=r>>16},Hf=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var i=r.length,s=r.slice();if(!i)return{t:Vy,l:0};if(i==1){var a=new Ni(r[0].s+1);return a[r[0].s]=1,{t:a,l:1}}r.sort(function(T,q){return T.f-q.f}),r.push({s:-1,f:25001});var o=r[0],l=r[1],u=0,d=1,m=2;for(r[0]={s:-1,f:o.f+l.f,l:o,r:l};d!=i-1;)o=r[r[u].f<r[m].f?u++:m++],l=r[u!=d&&r[u].f<r[m].f?u++:m++],r[d++]={s:-1,f:o.f+l.f,l:o,r:l};for(var v=s[0].s,n=1;n<i;++n)s[n].s>v&&(v=s[n].s);var h=new Bn(v+1),b=y0(r[d-1],h,0);if(b>e){var n=0,y=0,k=b-e,g=1<<k;for(s.sort(function(q,B){return h[B.s]-h[q.s]||q.f-B.f});n<i;++n){var _=s[n].s;if(h[_]>e)y+=g-(1<<b-h[_]),h[_]=e;else break}for(y>>=k;y>0;){var x=s[n].s;h[x]<e?y-=1<<e-h[x]++-1:++n}for(;n>=0&&y;--n){var A=s[n].s;h[A]==e&&(--h[A],++y)}b=e}return{t:new Ni(h),l:b}},y0=function(t,e,r){return t.s==-1?Math.max(y0(t.l,e,r+1),y0(t.r,e,r+1)):e[t.s]=r},Y2=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new Bn(++e),n=0,i=t[0],s=1,a=function(l){r[n++]=l},o=1;o<=e;++o)if(t[o]==i&&o!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)a(32754);s>2&&(a(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(a(i),--s;s>6;s-=6)a(8304);s>2&&(a(s-3<<5|8208),s=0)}for(;s--;)a(i);s=1,i=t[o]}return{c:r.subarray(0,n),n:e}},ru=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},Hy=function(t,e,r){var n=r.length,i=Wy(e+2);t[i]=n&255,t[i+1]=n>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var s=0;s<n;++s)t[i+s+4]=r[s];return(i+4+n)*8},Z2=function(t,e,r,n,i,s,a,o,l,u,d){hs(e,d++,r),++i[256];for(var m=Hf(i,15),v=m.t,h=m.l,b=Hf(s,15),y=b.t,k=b.l,g=Y2(v),_=g.c,x=g.n,A=Y2(y),T=A.c,q=A.n,B=new Bn(19),D=0;D<_.length;++D)++B[_[D]&31];for(var D=0;D<T.length;++D)++B[T[D]&31];for(var P=Hf(B,7),G=P.t,I=P.l,L=19;L>4&&!G[K2[L-1]];--L);var M=u+5<<3,N=ru(i,eo)+ru(s,sd)+a,Q=ru(i,v)+ru(s,y)+a+14+3*L+ru(B,G)+2*B[16]+3*B[17]+7*B[18];if(l>=0&&M<=N&&M<=Q)return Hy(e,d,t.subarray(l,l+u));var fe,se,ie,K;if(hs(e,d,1+(Q<N)),d+=2,Q<N){fe=wu(v,h,0),se=v,ie=wu(y,k,0),K=y;var ue=wu(G,I,0);hs(e,d,x-257),hs(e,d+5,q-1),hs(e,d+10,L-4),d+=14;for(var D=0;D<L;++D)hs(e,d+3*D,G[K2[D]]);d+=3*L;for(var Y=[_,T],E=0;E<2;++E)for(var $=Y[E],D=0;D<$.length;++D){var V=$[D]&31;hs(e,d,ue[V]),d+=G[V],V>15&&(hs(e,d,$[D]>>5&127),d+=$[D]>>12)}}else fe=Ek,se=eo,ie=Ck,K=sd;for(var D=0;D<o;++D){var Z=n[D];if(Z>255){var V=Z>>18&31;tu(e,d,fe[V+257]),d+=se[V+257],V>7&&(hs(e,d,Z>>23&31),d+=j1[V]);var oe=Z&31;tu(e,d,ie[oe]),d+=K[oe],oe>3&&(tu(e,d,Z>>5&8191),d+=E1[oe])}else tu(e,d,fe[Z]),d+=se[Z]}return tu(e,d,fe[256]),d+se[256]},Pk=new A1([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Vy=new Ni(0),Tk=function(t,e,r,n,i,s){var a=s.z||t.length,o=new Ni(n+a+5*(1+Math.ceil(a/7e3))+i),l=o.subarray(n,o.length-i),u=s.l,d=(s.r||0)&7;if(e){d&&(l[0]=s.r>>3);for(var m=Pk[e-1],v=m>>13,h=m&8191,b=(1<<r)-1,y=s.p||new Bn(32768),k=s.h||new Bn(b+1),g=Math.ceil(r/3),_=2*g,x=function(C){return(t[C]^t[C+1]<<g^t[C+2]<<_)&b},A=new A1(25e3),T=new Bn(288),q=new Bn(32),B=0,D=0,P=s.i||0,G=0,I=s.w||0,L=0;P+2<a;++P){var M=x(P),N=P&32767,Q=k[M];if(y[N]=Q,k[M]=N,I<=P){var fe=a-P;if((B>7e3||G>24576)&&(fe>423||!u)){d=Z2(t,l,0,A,T,q,D,G,L,P-L,d),G=B=D=0,L=P;for(var se=0;se<286;++se)T[se]=0;for(var se=0;se<30;++se)q[se]=0}var ie=2,K=0,ue=h,Y=N-Q&32767;if(fe>2&&M==x(P-Y))for(var E=Math.min(v,fe)-1,$=Math.min(32767,P),V=Math.min(258,fe);Y<=$&&--ue&&N!=Q;){if(t[P+ie]==t[P+ie-Y]){for(var Z=0;Z<V&&t[P+Z]==t[P+Z-Y];++Z);if(Z>ie){if(ie=Z,K=Y,Z>E)break;for(var oe=Math.min(Y,Z-2),me=0,se=0;se<oe;++se){var ve=P-Y+se&32767,we=y[ve],Ae=ve-we&32767;Ae>me&&(me=Ae,Q=ve)}}}N=Q,Q=y[N],Y+=N-Q&32767}if(K){A[G++]=268435456|g0[ie]<<18|J2[K];var Te=g0[ie]&31,ce=J2[K]&31;D+=j1[Te]+E1[ce],++T[257+Te],++q[ce],I=P+ie,++B}else A[G++]=t[P],++T[t[P]]}}for(P=Math.max(P,I);P<a;++P)A[G++]=t[P],++T[t[P]];d=Z2(t,l,u,A,T,q,D,G,L,P-L,d),u||(s.r=d&7|l[d/8|0]<<3,d-=7,s.h=k,s.p=y,s.i=P,s.w=I)}else{for(var P=s.w||0;P<a+u;P+=65535){var Se=P+65535;Se>=a&&(l[d/8|0]=u,Se=a),d=Hy(l,d+1,t.subarray(P,Se))}s.i=a}return Lk(o,0,n+Wy(d)+i)},Gy=function(){var t=1,e=0;return{p:function(r){for(var n=t,i=e,s=r.length|0,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)i+=n+=r[a];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}t=n,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},Ok=function(t,e,r,n,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),a=new Ni(s.length+t.length);a.set(s),a.set(t,s.length),t=a,i.w=s.length}return Tk(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,n,i)},Ky=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},Ik=function(t,e){var r=e.level,n=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=n<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=Gy();i.p(e.dictionary),Ky(t,2,i.d())}};function w0(t,e){e||(e={});var r=Gy();r.p(t);var n=Ok(t,e,e.dictionary?6:2,4);return Ik(n,e),Ky(n,n.length-4,r.d()),n}var Rk=typeof TextDecoder<"u"&&new TextDecoder,zk=0;try{Rk.decode(Vy,{stream:!0}),zk=1}catch{}function Fk(t){if(Array.isArray(t))return t}function Dk(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,a,o=[],l=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(l=(n=s.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function X2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Bk(t,e){if(t){if(typeof t=="string")return X2(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?X2(t,e):void 0}}function Uk(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Q2(t,e){return Fk(t)||Dk(t,e)||Bk(t,e)||Uk()}function eg(t,e="utf8"){return new TextDecoder(e).decode(t)}const Mk=new TextEncoder;function qk(t){return Mk.encode(t)}const $k=1024*8,Wk=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),Vf={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class C1{constructor(e=$k,r={}){Ft(this,"buffer");Ft(this,"byteLength");Ft(this,"byteOffset");Ft(this,"length");Ft(this,"offset");Ft(this,"lastWrittenByte");Ft(this,"littleEndian");Ft(this,"_data");Ft(this,"_mark");Ft(this,"_marks");let n=!1;typeof e=="number"?e=new ArrayBuffer(e):(n=!0,this.lastWrittenByte=e.byteLength);const i=r.offset?r.offset>>>0:0,s=e.byteLength-i;let a=i;(ArrayBuffer.isView(e)||e instanceof C1)&&(e.byteLength!==e.buffer.byteLength&&(a=e.byteOffset+i),e=e.buffer),n?this.lastWrittenByte=s:this.lastWrittenByte=0,this.buffer=e,this.length=s,this.byteLength=s,this.byteOffset=a,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,a,s),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const n=(this.offset+e)*2,i=new Uint8Array(n);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,r){const n=Vf[r].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,s=this.buffer.slice(i,i+n);if(this.littleEndian===Wk&&r!=="uint8"&&r!=="int8"){const o=new Uint8Array(this.buffer.slice(i,i+n));o.reverse();const l=new Vf[r](o.buffer);return this.offset+=n,l.reverse(),l}const a=new Vf[r](s);return this.offset+=n,a}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let r="";for(let n=0;n<e;n++)r+=this.readChar();return r}readUtf8(e=1){return eg(this.readBytes(e))}decodeText(e=1,r="utf8"){return eg(this.readBytes(e),r)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let r=0;r<e.length;r++)this._data.setUint8(this.offset++,e[r]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let r=0;r<e.length;r++)this.writeUint8(e.charCodeAt(r));return this}writeUtf8(e){return this.writeBytes(qk(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function yl(t){let e=t.length;for(;--e>=0;)t[e]=0}const Hk=3,Vk=258,Jy=29,Gk=256,Kk=Gk+1+Jy,Yy=30,Jk=512,Yk=new Array((Kk+2)*2);yl(Yk);const Zk=new Array(Yy*2);yl(Zk);const Xk=new Array(Jk);yl(Xk);const Qk=new Array(Vk-Hk+1);yl(Qk);const e6=new Array(Jy);yl(e6);const t6=new Array(Yy);yl(t6);const r6=(t,e,r,n)=>{let i=t&65535|0,s=t>>>16&65535|0,a=0;for(;r!==0;){a=r>2e3?2e3:r,r-=a;do i=i+e[n++]|0,s=s+i|0;while(--a);i%=65521,s%=65521}return i|s<<16|0};var _0=r6;const n6=()=>{let t,e=[];for(var r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=t&1?3988292384^t>>>1:t>>>1;e[r]=t}return e},i6=new Uint32Array(n6()),s6=(t,e,r,n)=>{const i=i6,s=n+r;t^=-1;for(let a=n;a<s;a++)t=t>>>8^i[(t^e[a])&255];return t^-1};var Di=s6,b0={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Zy={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const a6=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var o6=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const r=e.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)a6(r,n)&&(t[n]=r[n])}}return t},l6=t=>{let e=0;for(let n=0,i=t.length;n<i;n++)e+=t[n].length;const r=new Uint8Array(e);for(let n=0,i=0,s=t.length;n<s;n++){let a=t[n];r.set(a,i),i+=a.length}return r},Xy={assign:o6,flattenChunks:l6};let Qy=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Qy=!1}const Wu=new Uint8Array(256);for(let t=0;t<256;t++)Wu[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;Wu[254]=Wu[254]=1;var u6=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,r,n,i,s,a=t.length,o=0;for(i=0;i<a;i++)r=t.charCodeAt(i),(r&64512)===55296&&i+1<a&&(n=t.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),o+=r<128?1:r<2048?2:r<65536?3:4;for(e=new Uint8Array(o),s=0,i=0;s<o;i++)r=t.charCodeAt(i),(r&64512)===55296&&i+1<a&&(n=t.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),r<128?e[s++]=r:r<2048?(e[s++]=192|r>>>6,e[s++]=128|r&63):r<65536?(e[s++]=224|r>>>12,e[s++]=128|r>>>6&63,e[s++]=128|r&63):(e[s++]=240|r>>>18,e[s++]=128|r>>>12&63,e[s++]=128|r>>>6&63,e[s++]=128|r&63);return e};const c6=(t,e)=>{if(e<65534&&t.subarray&&Qy)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let r="";for(let n=0;n<e;n++)r+=String.fromCharCode(t[n]);return r};var h6=(t,e)=>{const r=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let n,i;const s=new Array(r*2);for(i=0,n=0;n<r;){let a=t[n++];if(a<128){s[i++]=a;continue}let o=Wu[a];if(o>4){s[i++]=65533,n+=o-1;continue}for(a&=o===2?31:o===3?15:7;o>1&&n<r;)a=a<<6|t[n++]&63,o--;if(o>1){s[i++]=65533;continue}a<65536?s[i++]=a:(a-=65536,s[i++]=55296|a>>10&1023,s[i++]=56320|a&1023)}return c6(s,i)},d6=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let r=e-1;for(;r>=0&&(t[r]&192)===128;)r--;return r<0||r===0?e:r+Wu[t[r]]>e?r:e},x0={string2buf:u6,buf2string:h6,utf8border:d6};function f6(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var p6=f6;const ih=16209,m6=16191;var g6=function(e,r){let n,i,s,a,o,l,u,d,m,v,h,b,y,k,g,_,x,A,T,q,B,D,P,G;const I=e.state;n=e.next_in,P=e.input,i=n+(e.avail_in-5),s=e.next_out,G=e.output,a=s-(r-e.avail_out),o=s+(e.avail_out-257),l=I.dmax,u=I.wsize,d=I.whave,m=I.wnext,v=I.window,h=I.hold,b=I.bits,y=I.lencode,k=I.distcode,g=(1<<I.lenbits)-1,_=(1<<I.distbits)-1;e:do{b<15&&(h+=P[n++]<<b,b+=8,h+=P[n++]<<b,b+=8),x=y[h&g];t:for(;;){if(A=x>>>24,h>>>=A,b-=A,A=x>>>16&255,A===0)G[s++]=x&65535;else if(A&16){T=x&65535,A&=15,A&&(b<A&&(h+=P[n++]<<b,b+=8),T+=h&(1<<A)-1,h>>>=A,b-=A),b<15&&(h+=P[n++]<<b,b+=8,h+=P[n++]<<b,b+=8),x=k[h&_];r:for(;;){if(A=x>>>24,h>>>=A,b-=A,A=x>>>16&255,A&16){if(q=x&65535,A&=15,b<A&&(h+=P[n++]<<b,b+=8,b<A&&(h+=P[n++]<<b,b+=8)),q+=h&(1<<A)-1,q>l){e.msg="invalid distance too far back",I.mode=ih;break e}if(h>>>=A,b-=A,A=s-a,q>A){if(A=q-A,A>d&&I.sane){e.msg="invalid distance too far back",I.mode=ih;break e}if(B=0,D=v,m===0){if(B+=u-A,A<T){T-=A;do G[s++]=v[B++];while(--A);B=s-q,D=G}}else if(m<A){if(B+=u+m-A,A-=m,A<T){T-=A;do G[s++]=v[B++];while(--A);if(B=0,m<T){A=m,T-=A;do G[s++]=v[B++];while(--A);B=s-q,D=G}}}else if(B+=m-A,A<T){T-=A;do G[s++]=v[B++];while(--A);B=s-q,D=G}for(;T>2;)G[s++]=D[B++],G[s++]=D[B++],G[s++]=D[B++],T-=3;T&&(G[s++]=D[B++],T>1&&(G[s++]=D[B++]))}else{B=s-q;do G[s++]=G[B++],G[s++]=G[B++],G[s++]=G[B++],T-=3;while(T>2);T&&(G[s++]=G[B++],T>1&&(G[s++]=G[B++]))}}else if(A&64){e.msg="invalid distance code",I.mode=ih;break e}else{x=k[(x&65535)+(h&(1<<A)-1)];continue r}break}}else if(A&64)if(A&32){I.mode=m6;break e}else{e.msg="invalid literal/length code",I.mode=ih;break e}else{x=y[(x&65535)+(h&(1<<A)-1)];continue t}break}}while(n<i&&s<o);T=b>>3,n-=T,b-=T<<3,h&=(1<<b)-1,e.next_in=n,e.next_out=s,e.avail_in=n<i?5+(i-n):5-(n-i),e.avail_out=s<o?257+(o-s):257-(s-o),I.hold=h,I.bits=b};const jo=15,tg=852,rg=592,ng=0,Gf=1,ig=2,v6=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),y6=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),w6=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),_6=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),b6=(t,e,r,n,i,s,a,o)=>{const l=o.bits;let u=0,d=0,m=0,v=0,h=0,b=0,y=0,k=0,g=0,_=0,x,A,T,q,B,D=null,P;const G=new Uint16Array(jo+1),I=new Uint16Array(jo+1);let L=null,M,N,Q;for(u=0;u<=jo;u++)G[u]=0;for(d=0;d<n;d++)G[e[r+d]]++;for(h=l,v=jo;v>=1&&G[v]===0;v--);if(h>v&&(h=v),v===0)return i[s++]=1<<24|64<<16|0,i[s++]=1<<24|64<<16|0,o.bits=1,0;for(m=1;m<v&&G[m]===0;m++);for(h<m&&(h=m),k=1,u=1;u<=jo;u++)if(k<<=1,k-=G[u],k<0)return-1;if(k>0&&(t===ng||v!==1))return-1;for(I[1]=0,u=1;u<jo;u++)I[u+1]=I[u]+G[u];for(d=0;d<n;d++)e[r+d]!==0&&(a[I[e[r+d]]++]=d);if(t===ng?(D=L=a,P=20):t===Gf?(D=v6,L=y6,P=257):(D=w6,L=_6,P=0),_=0,d=0,u=m,B=s,b=h,y=0,T=-1,g=1<<h,q=g-1,t===Gf&&g>tg||t===ig&&g>rg)return 1;for(;;){M=u-y,a[d]+1<P?(N=0,Q=a[d]):a[d]>=P?(N=L[a[d]-P],Q=D[a[d]-P]):(N=96,Q=0),x=1<<u-y,A=1<<b,m=A;do A-=x,i[B+(_>>y)+A]=M<<24|N<<16|Q|0;while(A!==0);for(x=1<<u-1;_&x;)x>>=1;if(x!==0?(_&=x-1,_+=x):_=0,d++,--G[u]===0){if(u===v)break;u=e[r+a[d]]}if(u>h&&(_&q)!==T){for(y===0&&(y=h),B+=m,b=u-y,k=1<<b;b+y<v&&(k-=G[b+y],!(k<=0));)b++,k<<=1;if(g+=1<<b,t===Gf&&g>tg||t===ig&&g>rg)return 1;T=_&q,i[T]=h<<24|b<<16|B-s|0}}return _!==0&&(i[B+_]=u-y<<24|64<<16|0),o.bits=h,0};var _u=b6;const x6=0,ew=1,tw=2,{Z_FINISH:sg,Z_BLOCK:k6,Z_TREES:sh,Z_OK:to,Z_STREAM_END:S6,Z_NEED_DICT:N6,Z_STREAM_ERROR:si,Z_DATA_ERROR:rw,Z_MEM_ERROR:nw,Z_BUF_ERROR:A6,Z_DEFLATED:ag}=Zy,Ed=16180,og=16181,lg=16182,ug=16183,cg=16184,hg=16185,dg=16186,fg=16187,pg=16188,mg=16189,ad=16190,ds=16191,Kf=16192,gg=16193,Jf=16194,vg=16195,yg=16196,wg=16197,_g=16198,ah=16199,oh=16200,bg=16201,xg=16202,kg=16203,Sg=16204,Ng=16205,Yf=16206,Ag=16207,jg=16208,er=16209,iw=16210,sw=16211,j6=852,E6=592,C6=15,L6=C6,Eg=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function P6(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const io=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<Ed||e.mode>sw?1:0},aw=t=>{if(io(t))return si;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=Ed,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(j6),e.distcode=e.distdyn=new Int32Array(E6),e.sane=1,e.back=-1,to},ow=t=>{if(io(t))return si;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,aw(t)},lw=(t,e)=>{let r;if(io(t))return si;const n=t.state;return e<0?(r=0,e=-e):(r=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?si:(n.window!==null&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,ow(t))},uw=(t,e)=>{if(!t)return si;const r=new P6;t.state=r,r.strm=t,r.window=null,r.mode=Ed;const n=lw(t,e);return n!==to&&(t.state=null),n},T6=t=>uw(t,L6);let Cg=!0,Zf,Xf;const O6=t=>{if(Cg){Zf=new Int32Array(512),Xf=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(_u(ew,t.lens,0,288,Zf,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;_u(tw,t.lens,0,32,Xf,0,t.work,{bits:5}),Cg=!1}t.lencode=Zf,t.lenbits=9,t.distcode=Xf,t.distbits=5},cw=(t,e,r,n)=>{let i;const s=t.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),n>=s.wsize?(s.window.set(e.subarray(r-s.wsize,r),0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>n&&(i=n),s.window.set(e.subarray(r-n,r-n+i),s.wnext),n-=i,n?(s.window.set(e.subarray(r-n,r),0),s.wnext=n,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0},I6=(t,e)=>{let r,n,i,s,a,o,l,u,d,m,v,h,b,y,k=0,g,_,x,A,T,q,B,D;const P=new Uint8Array(4);let G,I;const L=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(io(t)||!t.output||!t.input&&t.avail_in!==0)return si;r=t.state,r.mode===ds&&(r.mode=Kf),a=t.next_out,i=t.output,l=t.avail_out,s=t.next_in,n=t.input,o=t.avail_in,u=r.hold,d=r.bits,m=o,v=l,D=to;e:for(;;)switch(r.mode){case Ed:if(r.wrap===0){r.mode=Kf;break}for(;d<16;){if(o===0)break e;o--,u+=n[s++]<<d,d+=8}if(r.wrap&2&&u===35615){r.wbits===0&&(r.wbits=15),r.check=0,P[0]=u&255,P[1]=u>>>8&255,r.check=Di(r.check,P,2,0),u=0,d=0,r.mode=og;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((u&255)<<8)+(u>>8))%31){t.msg="incorrect header check",r.mode=er;break}if((u&15)!==ag){t.msg="unknown compression method",r.mode=er;break}if(u>>>=4,d-=4,B=(u&15)+8,r.wbits===0&&(r.wbits=B),B>15||B>r.wbits){t.msg="invalid window size",r.mode=er;break}r.dmax=1<<r.wbits,r.flags=0,t.adler=r.check=1,r.mode=u&512?mg:ds,u=0,d=0;break;case og:for(;d<16;){if(o===0)break e;o--,u+=n[s++]<<d,d+=8}if(r.flags=u,(r.flags&255)!==ag){t.msg="unknown compression method",r.mode=er;break}if(r.flags&57344){t.msg="unknown header flags set",r.mode=er;break}r.head&&(r.head.text=u>>8&1),r.flags&512&&r.wrap&4&&(P[0]=u&255,P[1]=u>>>8&255,r.check=Di(r.check,P,2,0)),u=0,d=0,r.mode=lg;case lg:for(;d<32;){if(o===0)break e;o--,u+=n[s++]<<d,d+=8}r.head&&(r.head.time=u),r.flags&512&&r.wrap&4&&(P[0]=u&255,P[1]=u>>>8&255,P[2]=u>>>16&255,P[3]=u>>>24&255,r.check=Di(r.check,P,4,0)),u=0,d=0,r.mode=ug;case ug:for(;d<16;){if(o===0)break e;o--,u+=n[s++]<<d,d+=8}r.head&&(r.head.xflags=u&255,r.head.os=u>>8),r.flags&512&&r.wrap&4&&(P[0]=u&255,P[1]=u>>>8&255,r.check=Di(r.check,P,2,0)),u=0,d=0,r.mode=cg;case cg:if(r.flags&1024){for(;d<16;){if(o===0)break e;o--,u+=n[s++]<<d,d+=8}r.length=u,r.head&&(r.head.extra_len=u),r.flags&512&&r.wrap&4&&(P[0]=u&255,P[1]=u>>>8&255,r.check=Di(r.check,P,2,0)),u=0,d=0}else r.head&&(r.head.extra=null);r.mode=hg;case hg:if(r.flags&1024&&(h=r.length,h>o&&(h=o),h&&(r.head&&(B=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(s,s+h),B)),r.flags&512&&r.wrap&4&&(r.check=Di(r.check,n,h,s)),o-=h,s+=h,r.length-=h),r.length))break e;r.length=0,r.mode=dg;case dg:if(r.flags&2048){if(o===0)break e;h=0;do B=n[s+h++],r.head&&B&&r.length<65536&&(r.head.name+=String.fromCharCode(B));while(B&&h<o);if(r.flags&512&&r.wrap&4&&(r.check=Di(r.check,n,h,s)),o-=h,s+=h,B)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=fg;case fg:if(r.flags&4096){if(o===0)break e;h=0;do B=n[s+h++],r.head&&B&&r.length<65536&&(r.head.comment+=String.fromCharCode(B));while(B&&h<o);if(r.flags&512&&r.wrap&4&&(r.check=Di(r.check,n,h,s)),o-=h,s+=h,B)break e}else r.head&&(r.head.comment=null);r.mode=pg;case pg:if(r.flags&512){for(;d<16;){if(o===0)break e;o--,u+=n[s++]<<d,d+=8}if(r.wrap&4&&u!==(r.check&65535)){t.msg="header crc mismatch",r.mode=er;break}u=0,d=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=ds;break;case mg:for(;d<32;){if(o===0)break e;o--,u+=n[s++]<<d,d+=8}t.adler=r.check=Eg(u),u=0,d=0,r.mode=ad;case ad:if(r.havedict===0)return t.next_out=a,t.avail_out=l,t.next_in=s,t.avail_in=o,r.hold=u,r.bits=d,N6;t.adler=r.check=1,r.mode=ds;case ds:if(e===k6||e===sh)break e;case Kf:if(r.last){u>>>=d&7,d-=d&7,r.mode=Yf;break}for(;d<3;){if(o===0)break e;o--,u+=n[s++]<<d,d+=8}switch(r.last=u&1,u>>>=1,d-=1,u&3){case 0:r.mode=gg;break;case 1:if(O6(r),r.mode=ah,e===sh){u>>>=2,d-=2;break e}break;case 2:r.mode=yg;break;case 3:t.msg="invalid block type",r.mode=er}u>>>=2,d-=2;break;case gg:for(u>>>=d&7,d-=d&7;d<32;){if(o===0)break e;o--,u+=n[s++]<<d,d+=8}if((u&65535)!==(u>>>16^65535)){t.msg="invalid stored block lengths",r.mode=er;break}if(r.length=u&65535,u=0,d=0,r.mode=Jf,e===sh)break e;case Jf:r.mode=vg;case vg:if(h=r.length,h){if(h>o&&(h=o),h>l&&(h=l),h===0)break e;i.set(n.subarray(s,s+h),a),o-=h,s+=h,l-=h,a+=h,r.length-=h;break}r.mode=ds;break;case yg:for(;d<14;){if(o===0)break e;o--,u+=n[s++]<<d,d+=8}if(r.nlen=(u&31)+257,u>>>=5,d-=5,r.ndist=(u&31)+1,u>>>=5,d-=5,r.ncode=(u&15)+4,u>>>=4,d-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=er;break}r.have=0,r.mode=wg;case wg:for(;r.have<r.ncode;){for(;d<3;){if(o===0)break e;o--,u+=n[s++]<<d,d+=8}r.lens[L[r.have++]]=u&7,u>>>=3,d-=3}for(;r.have<19;)r.lens[L[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,G={bits:r.lenbits},D=_u(x6,r.lens,0,19,r.lencode,0,r.work,G),r.lenbits=G.bits,D){t.msg="invalid code lengths set",r.mode=er;break}r.have=0,r.mode=_g;case _g:for(;r.have<r.nlen+r.ndist;){for(;k=r.lencode[u&(1<<r.lenbits)-1],g=k>>>24,_=k>>>16&255,x=k&65535,!(g<=d);){if(o===0)break e;o--,u+=n[s++]<<d,d+=8}if(x<16)u>>>=g,d-=g,r.lens[r.have++]=x;else{if(x===16){for(I=g+2;d<I;){if(o===0)break e;o--,u+=n[s++]<<d,d+=8}if(u>>>=g,d-=g,r.have===0){t.msg="invalid bit length repeat",r.mode=er;break}B=r.lens[r.have-1],h=3+(u&3),u>>>=2,d-=2}else if(x===17){for(I=g+3;d<I;){if(o===0)break e;o--,u+=n[s++]<<d,d+=8}u>>>=g,d-=g,B=0,h=3+(u&7),u>>>=3,d-=3}else{for(I=g+7;d<I;){if(o===0)break e;o--,u+=n[s++]<<d,d+=8}u>>>=g,d-=g,B=0,h=11+(u&127),u>>>=7,d-=7}if(r.have+h>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=er;break}for(;h--;)r.lens[r.have++]=B}}if(r.mode===er)break;if(r.lens[256]===0){t.msg="invalid code -- missing end-of-block",r.mode=er;break}if(r.lenbits=9,G={bits:r.lenbits},D=_u(ew,r.lens,0,r.nlen,r.lencode,0,r.work,G),r.lenbits=G.bits,D){t.msg="invalid literal/lengths set",r.mode=er;break}if(r.distbits=6,r.distcode=r.distdyn,G={bits:r.distbits},D=_u(tw,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,G),r.distbits=G.bits,D){t.msg="invalid distances set",r.mode=er;break}if(r.mode=ah,e===sh)break e;case ah:r.mode=oh;case oh:if(o>=6&&l>=258){t.next_out=a,t.avail_out=l,t.next_in=s,t.avail_in=o,r.hold=u,r.bits=d,g6(t,v),a=t.next_out,i=t.output,l=t.avail_out,s=t.next_in,n=t.input,o=t.avail_in,u=r.hold,d=r.bits,r.mode===ds&&(r.back=-1);break}for(r.back=0;k=r.lencode[u&(1<<r.lenbits)-1],g=k>>>24,_=k>>>16&255,x=k&65535,!(g<=d);){if(o===0)break e;o--,u+=n[s++]<<d,d+=8}if(_&&!(_&240)){for(A=g,T=_,q=x;k=r.lencode[q+((u&(1<<A+T)-1)>>A)],g=k>>>24,_=k>>>16&255,x=k&65535,!(A+g<=d);){if(o===0)break e;o--,u+=n[s++]<<d,d+=8}u>>>=A,d-=A,r.back+=A}if(u>>>=g,d-=g,r.back+=g,r.length=x,_===0){r.mode=Ng;break}if(_&32){r.back=-1,r.mode=ds;break}if(_&64){t.msg="invalid literal/length code",r.mode=er;break}r.extra=_&15,r.mode=bg;case bg:if(r.extra){for(I=r.extra;d<I;){if(o===0)break e;o--,u+=n[s++]<<d,d+=8}r.length+=u&(1<<r.extra)-1,u>>>=r.extra,d-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=xg;case xg:for(;k=r.distcode[u&(1<<r.distbits)-1],g=k>>>24,_=k>>>16&255,x=k&65535,!(g<=d);){if(o===0)break e;o--,u+=n[s++]<<d,d+=8}if(!(_&240)){for(A=g,T=_,q=x;k=r.distcode[q+((u&(1<<A+T)-1)>>A)],g=k>>>24,_=k>>>16&255,x=k&65535,!(A+g<=d);){if(o===0)break e;o--,u+=n[s++]<<d,d+=8}u>>>=A,d-=A,r.back+=A}if(u>>>=g,d-=g,r.back+=g,_&64){t.msg="invalid distance code",r.mode=er;break}r.offset=x,r.extra=_&15,r.mode=kg;case kg:if(r.extra){for(I=r.extra;d<I;){if(o===0)break e;o--,u+=n[s++]<<d,d+=8}r.offset+=u&(1<<r.extra)-1,u>>>=r.extra,d-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=er;break}r.mode=Sg;case Sg:if(l===0)break e;if(h=v-l,r.offset>h){if(h=r.offset-h,h>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=er;break}h>r.wnext?(h-=r.wnext,b=r.wsize-h):b=r.wnext-h,h>r.length&&(h=r.length),y=r.window}else y=i,b=a-r.offset,h=r.length;h>l&&(h=l),l-=h,r.length-=h;do i[a++]=y[b++];while(--h);r.length===0&&(r.mode=oh);break;case Ng:if(l===0)break e;i[a++]=r.length,l--,r.mode=oh;break;case Yf:if(r.wrap){for(;d<32;){if(o===0)break e;o--,u|=n[s++]<<d,d+=8}if(v-=l,t.total_out+=v,r.total+=v,r.wrap&4&&v&&(t.adler=r.check=r.flags?Di(r.check,i,v,a-v):_0(r.check,i,v,a-v)),v=l,r.wrap&4&&(r.flags?u:Eg(u))!==r.check){t.msg="incorrect data check",r.mode=er;break}u=0,d=0}r.mode=Ag;case Ag:if(r.wrap&&r.flags){for(;d<32;){if(o===0)break e;o--,u+=n[s++]<<d,d+=8}if(r.wrap&4&&u!==(r.total&4294967295)){t.msg="incorrect length check",r.mode=er;break}u=0,d=0}r.mode=jg;case jg:D=S6;break e;case er:D=rw;break e;case iw:return nw;case sw:default:return si}return t.next_out=a,t.avail_out=l,t.next_in=s,t.avail_in=o,r.hold=u,r.bits=d,(r.wsize||v!==t.avail_out&&r.mode<er&&(r.mode<Yf||e!==sg))&&cw(t,t.output,t.next_out,v-t.avail_out),m-=t.avail_in,v-=t.avail_out,t.total_in+=m,t.total_out+=v,r.total+=v,r.wrap&4&&v&&(t.adler=r.check=r.flags?Di(r.check,i,v,t.next_out-v):_0(r.check,i,v,t.next_out-v)),t.data_type=r.bits+(r.last?64:0)+(r.mode===ds?128:0)+(r.mode===ah||r.mode===Jf?256:0),(m===0&&v===0||e===sg)&&D===to&&(D=A6),D},R6=t=>{if(io(t))return si;let e=t.state;return e.window&&(e.window=null),t.state=null,to},z6=(t,e)=>{if(io(t))return si;const r=t.state;return r.wrap&2?(r.head=e,e.done=!1,to):si},F6=(t,e)=>{const r=e.length;let n,i,s;return io(t)||(n=t.state,n.wrap!==0&&n.mode!==ad)?si:n.mode===ad&&(i=1,i=_0(i,e,r,0),i!==n.check)?rw:(s=cw(t,e,r,r),s?(n.mode=iw,nw):(n.havedict=1,to))};var D6=ow,B6=lw,U6=aw,M6=T6,q6=uw,$6=I6,W6=R6,H6=z6,V6=F6,G6="pako inflate (from Nodeca project)",gs={inflateReset:D6,inflateReset2:B6,inflateResetKeep:U6,inflateInit:M6,inflateInit2:q6,inflate:$6,inflateEnd:W6,inflateGetHeader:H6,inflateSetDictionary:V6,inflateInfo:G6};function K6(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var J6=K6;const hw=Object.prototype.toString,{Z_NO_FLUSH:Y6,Z_FINISH:Z6,Z_OK:Hu,Z_STREAM_END:Qf,Z_NEED_DICT:ep,Z_STREAM_ERROR:X6,Z_DATA_ERROR:Lg,Z_MEM_ERROR:Q6}=Zy;function Qu(t){this.options=Xy.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new p6,this.strm.avail_out=0;let r=gs.inflateInit2(this.strm,e.windowBits);if(r!==Hu)throw new Error(b0[r]);if(this.header=new J6,gs.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=x0.string2buf(e.dictionary):hw.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=gs.inflateSetDictionary(this.strm,e.dictionary),r!==Hu)))throw new Error(b0[r])}Qu.prototype.push=function(t,e){const r=this.strm,n=this.options.chunkSize,i=this.options.dictionary;let s,a,o;if(this.ended)return!1;for(e===~~e?a=e:a=e===!0?Z6:Y6,hw.call(t)==="[object ArrayBuffer]"?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),s=gs.inflate(r,a),s===ep&&i&&(s=gs.inflateSetDictionary(r,i),s===Hu?s=gs.inflate(r,a):s===Lg&&(s=ep));r.avail_in>0&&s===Qf&&r.state.wrap>0&&t[r.next_in]!==0;)gs.inflateReset(r),s=gs.inflate(r,a);switch(s){case X6:case Lg:case ep:case Q6:return this.onEnd(s),this.ended=!0,!1}if(o=r.avail_out,r.next_out&&(r.avail_out===0||s===Qf))if(this.options.to==="string"){let l=x0.utf8border(r.output,r.next_out),u=r.next_out-l,d=x0.buf2string(r.output,l);r.next_out=u,r.avail_out=n-u,u&&r.output.set(r.output.subarray(l,l+u),0),this.onData(d)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(s===Hu&&o===0)){if(s===Qf)return s=gs.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};Qu.prototype.onData=function(t){this.chunks.push(t)};Qu.prototype.onEnd=function(t){t===Hu&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Xy.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function eS(t,e){const r=new Qu(e);if(r.push(t),r.err)throw r.msg||b0[r.err];return r.result}var tS=Qu,rS=eS,nS={Inflate:tS,inflate:rS};const{Inflate:iS,inflate:sS}=nS;var Pg=iS,aS=sS;const dw=[];for(let t=0;t<256;t++){let e=t;for(let r=0;r<8;r++)e&1?e=3988292384^e>>>1:e=e>>>1;dw[t]=e}const Tg=4294967295;function oS(t,e,r){let n=t;for(let i=0;i<r;i++)n=dw[(n^e[i])&255]^n>>>8;return n}function lS(t,e){return(oS(Tg,t,e)^Tg)>>>0}function Og(t,e,r){const n=t.readUint32(),i=lS(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(i!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${i}`)}function fw(t,e,r){for(let n=0;n<r;n++)e[n]=t[n]}function pw(t,e,r,n){let i=0;for(;i<n;i++)e[i]=t[i];for(;i<r;i++)e[i]=t[i]+e[i-n]&255}function mw(t,e,r,n){let i=0;if(r.length===0)for(;i<n;i++)e[i]=t[i];else for(;i<n;i++)e[i]=t[i]+r[i]&255}function gw(t,e,r,n,i){let s=0;if(r.length===0){for(;s<i;s++)e[s]=t[s];for(;s<n;s++)e[s]=t[s]+(e[s-i]>>1)&255}else{for(;s<i;s++)e[s]=t[s]+(r[s]>>1)&255;for(;s<n;s++)e[s]=t[s]+(e[s-i]+r[s]>>1)&255}}function vw(t,e,r,n,i){let s=0;if(r.length===0){for(;s<i;s++)e[s]=t[s];for(;s<n;s++)e[s]=t[s]+e[s-i]&255}else{for(;s<i;s++)e[s]=t[s]+r[s]&255;for(;s<n;s++)e[s]=t[s]+uS(e[s-i],r[s],r[s-i])&255}}function uS(t,e,r){const n=t+e-r,i=Math.abs(n-t),s=Math.abs(n-e),a=Math.abs(n-r);return i<=s&&i<=a?t:s<=a?e:r}function cS(t,e,r,n,i,s){switch(t){case 0:fw(e,r,i);break;case 1:pw(e,r,i,s);break;case 2:mw(e,r,n,i);break;case 3:gw(e,r,n,i,s);break;case 4:vw(e,r,n,i,s);break;default:throw new Error(`Unsupported filter: ${t}`)}}const hS=new Uint16Array([255]),dS=new Uint8Array(hS.buffer),fS=dS[0]===255;function pS(t){const{data:e,width:r,height:n,channels:i,depth:s}=t,a=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],o=Math.ceil(s/8)*i,l=new Uint8Array(n*r*o);let u=0;for(let d=0;d<7;d++){const m=a[d],v=Math.ceil((r-m.x)/m.xStep),h=Math.ceil((n-m.y)/m.yStep);if(v<=0||h<=0)continue;const b=v*o,y=new Uint8Array(b);for(let k=0;k<h;k++){const g=e[u++],_=e.subarray(u,u+b);u+=b;const x=new Uint8Array(b);cS(g,_,x,y,b,o),y.set(x);for(let A=0;A<v;A++){const T=m.x+A*m.xStep,q=m.y+k*m.yStep;if(!(T>=r||q>=n))for(let B=0;B<o;B++)l[(q*r+T)*o+B]=x[A*o+B]}}}if(s===16){const d=new Uint16Array(l.buffer);if(fS)for(let m=0;m<d.length;m++)d[m]=mS(d[m]);return d}else return l}function mS(t){return(t&255)<<8|t>>8&255}const gS=new Uint16Array([255]),vS=new Uint8Array(gS.buffer),yS=vS[0]===255,wS=new Uint8Array(0);function Ig(t){const{data:e,width:r,height:n,channels:i,depth:s}=t,a=Math.ceil(s/8)*i,o=Math.ceil(s/8*i*r),l=new Uint8Array(n*o);let u=wS,d=0,m,v;for(let h=0;h<n;h++){switch(m=e.subarray(d+1,d+1+o),v=l.subarray(h*o,(h+1)*o),e[d]){case 0:fw(m,v,o);break;case 1:pw(m,v,o,a);break;case 2:mw(m,v,u,o);break;case 3:gw(m,v,u,o,a);break;case 4:vw(m,v,u,o,a);break;default:throw new Error(`Unsupported filter: ${e[d]}`)}u=v,d+=o+1}if(s===16){const h=new Uint16Array(l.buffer);if(yS)for(let b=0;b<h.length;b++)h[b]=_S(h[b]);return h}else return l}function _S(t){return(t&255)<<8|t>>8&255}const Ah=Uint8Array.of(137,80,78,71,13,10,26,10);function Rg(t){if(!bS(t.readBytes(Ah.length)))throw new Error("wrong PNG signature")}function bS(t){if(t.length<Ah.length)return!1;for(let e=0;e<Ah.length;e++)if(t[e]!==Ah[e])return!1;return!0}const xS="tEXt",kS=0,yw=new TextDecoder("latin1");function SS(t){if(AS(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const NS=/^[\u0000-\u00FF]*$/;function AS(t){if(!NS.test(t))throw new Error("invalid latin1 text")}function jS(t,e,r){const n=ww(e);t[n]=ES(e,r-n.length-1)}function ww(t){for(t.mark();t.readByte()!==kS;);const e=t.offset;t.reset();const r=yw.decode(t.readBytes(e-t.offset-1));return t.skip(1),SS(r),r}function ES(t,e){return yw.decode(t.readBytes(e))}const On={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},tp={UNKNOWN:-1,DEFLATE:0},zg={UNKNOWN:-1,ADAPTIVE:0},rp={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},lh={NONE:0,BACKGROUND:1,PREVIOUS:2},np={SOURCE:0,OVER:1};class CS extends C1{constructor(r,n={}){super(r);Ft(this,"_checkCrc");Ft(this,"_inflator");Ft(this,"_png");Ft(this,"_apng");Ft(this,"_end");Ft(this,"_hasPalette");Ft(this,"_palette");Ft(this,"_hasTransparency");Ft(this,"_transparency");Ft(this,"_compressionMethod");Ft(this,"_filterMethod");Ft(this,"_interlaceMethod");Ft(this,"_colorType");Ft(this,"_isAnimated");Ft(this,"_numberOfFrames");Ft(this,"_numberOfPlays");Ft(this,"_frames");Ft(this,"_writingDataChunks");const{checkCrc:i=!1}=n;this._checkCrc=i,this._inflator=new Pg,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=tp.UNKNOWN,this._filterMethod=zg.UNKNOWN,this._interlaceMethod=rp.UNKNOWN,this._colorType=On.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(Rg(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeChunk(r,n)}return this.decodeImage(),this._png}decodeApng(){for(Rg(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(r,n)}return this.decodeApngImage(),this._apng}decodeChunk(r,n){const i=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(r);break;case"IDAT":this.decodeIDAT(r);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(r);break;case"iCCP":this.decodeiCCP(r);break;case xS:jS(this._png.text,this,r);break;case"pHYs":this.decodepHYs();break;default:this.skip(r);break}if(this.offset-i!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?Og(this,r+4,n):this.skip(4)}decodeApngChunk(r,n){const i=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(r);break;default:this.decodeChunk(r,n),this.offset=i+r;break}if(this.offset-i!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?Og(this,r+4,n):this.skip(4)}decodeIHDR(){const r=this._png;r.width=this.readUint32(),r.height=this.readUint32(),r.depth=LS(this.readUint8());const n=this.readUint8();this._colorType=n;let i;switch(n){case On.GREYSCALE:i=1;break;case On.TRUECOLOUR:i=3;break;case On.INDEXED_COLOUR:i=1;break;case On.GREYSCALE_ALPHA:i=2;break;case On.TRUECOLOUR_ALPHA:i=4;break;case On.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==tp.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const r={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(r)}decodePLTE(r){if(r%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${r}`);const n=r/3;this._hasPalette=!0;const i=[];this._palette=i;for(let s=0;s<n;s++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(r){this._writingDataChunks=!0;const n=r,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodeFDAT(r){this._writingDataChunks=!0;let n=r,i=this.offset+this.byteOffset;if(i+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodetRNS(r){switch(this._colorType){case On.GREYSCALE:case On.TRUECOLOUR:{if(r%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${r}`);if(r/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${r/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(r/2);for(let n=0;n<r/2;n++)this._transparency[n]=this.readUint16();break}case On.INDEXED_COLOUR:{if(r>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${r} vs ${this._palette.length})`);let n=0;for(;n<r;n++){const i=this.readByte();this._palette[n].push(i)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case On.UNKNOWN:case On.GREYSCALE_ALPHA:case On.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(r){const n=ww(this),i=this.readUint8();if(i!==tp.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const s=this.readBytes(r-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:aS(s)}}decodepHYs(){const r=this.readUint32(),n=this.readUint32(),i=this.readByte();this._png.resolution={x:r,y:n,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let r=0;r<this._numberOfFrames;r++){const n={sequenceNumber:this._frames[r].sequenceNumber,delayNumber:this._frames[r].delayNumber,delayDenominator:this._frames[r].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(r);if(i){if(i.data=Ig({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),r===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)n.data=i.data;else{const s=this._apng.frames.at(r-1);this.disposeFrame(i,s,n),this.addFrameDataToCanvas(n,i)}this._apng.frames.push(n)}}return this._apng}disposeFrame(r,n,i){switch(r.disposeOp){case lh.NONE:break;case lh.BACKGROUND:for(let s=0;s<this._png.height;s++)for(let a=0;a<this._png.width;a++){const o=(s*r.width+a)*this._png.channels;for(let l=0;l<this._png.channels;l++)i.data[o+l]=0}break;case lh.PREVIOUS:i.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(r,n){const i=1<<this._png.depth,s=(a,o)=>{const l=((a+n.yOffset)*this._png.width+n.xOffset+o)*this._png.channels,u=(a*n.width+o)*this._png.channels;return{index:l,frameIndex:u}};switch(n.blendOp){case np.SOURCE:for(let a=0;a<n.height;a++)for(let o=0;o<n.width;o++){const{index:l,frameIndex:u}=s(a,o);for(let d=0;d<this._png.channels;d++)r.data[l+d]=n.data[u+d]}break;case np.OVER:for(let a=0;a<n.height;a++)for(let o=0;o<n.width;o++){const{index:l,frameIndex:u}=s(a,o);for(let d=0;d<this._png.channels;d++){const m=n.data[u+this._png.channels-1]/i,v=d%(this._png.channels-1)===0?1:n.data[u+d],h=Math.floor(m*v+(1-m)*r.data[l+d]);r.data[l+d]+=h}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var n;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const r=this._isAnimated?((n=this._frames)==null?void 0:n.at(0)).data:this._inflator.result;if(this._filterMethod!==zg.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===rp.NO_INTERLACE)this._png.data=Ig({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===rp.ADAM7)this._png.data=pS({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const r=this._inflator.result,n=this._frames.at(-1);n?n.data=r:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:lh.NONE,blendOp:np.SOURCE,data:r}),this._inflator=new Pg,this._writingDataChunks=!1}}function LS(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var Fg;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(Fg||(Fg={}));function PS(t,e){return new CS(t,e).decode()}var ht=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function ip(){ht.console&&typeof ht.console.log=="function"&&ht.console.log.apply(ht.console,arguments)}var Ht={log:ip,warn:function(t){ht.console&&(typeof ht.console.warn=="function"?ht.console.warn.apply(ht.console,arguments):ip.call(null,arguments))},error:function(t){ht.console&&(typeof ht.console.error=="function"?ht.console.error.apply(ht.console,arguments):ip(t))}};function sp(t,e,r){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){Da(n.response,e,r)},n.onerror=function(){Ht.error("could not download file")},n.send()}function Dg(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function uh(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var Da=ht.saveAs||((typeof window>"u"?"undefined":Dt(window))!=="object"||window!==ht?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var n=ht.URL||ht.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?Dg(i.href)?sp(t,e,r):uh(i,i.target="_blank"):uh(i)):(i.href=n.createObjectURL(t),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){uh(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if(Dg(t))sp(t,e,r);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){uh(n)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:Dt(s)!=="object"&&(Ht.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,r),e)}:function(t,e,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof t=="string")return sp(t,e,r);var i=t.type==="application/octet-stream",s=/constructor/i.test(ht.HTMLElement)||ht.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||i&&s)&&(typeof FileReader>"u"?"undefined":Dt(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var d=o.result;d=a?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=d:location=d,n=null},o.readAsDataURL(t)}else{var l=ht.URL||ht.webkitURL,u=l.createObjectURL(t);n?n.location=u:location.href=u,n=null,setTimeout(function(){l.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function _w(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],n=0;n<r.length;n++){var i=r[n].re,s=r[n].process,a=i.exec(t);a&&(e=s(a),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),l=this.g.toString(16),u=this.b.toString(16);return o.length==1&&(o="0"+o),l.length==1&&(l="0"+l),u.length==1&&(u="0"+u),"#"+o+l+u}}var jh=ht.atob.bind(ht),Bg=ht.btoa.bind(ht);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function ap(t,e){var r=t[0],n=t[1],i=t[2],s=t[3];r=tn(r,n,i,s,e[0],7,-680876936),s=tn(s,r,n,i,e[1],12,-389564586),i=tn(i,s,r,n,e[2],17,606105819),n=tn(n,i,s,r,e[3],22,-1044525330),r=tn(r,n,i,s,e[4],7,-176418897),s=tn(s,r,n,i,e[5],12,1200080426),i=tn(i,s,r,n,e[6],17,-1473231341),n=tn(n,i,s,r,e[7],22,-45705983),r=tn(r,n,i,s,e[8],7,1770035416),s=tn(s,r,n,i,e[9],12,-1958414417),i=tn(i,s,r,n,e[10],17,-42063),n=tn(n,i,s,r,e[11],22,-1990404162),r=tn(r,n,i,s,e[12],7,1804603682),s=tn(s,r,n,i,e[13],12,-40341101),i=tn(i,s,r,n,e[14],17,-1502002290),r=rn(r,n=tn(n,i,s,r,e[15],22,1236535329),i,s,e[1],5,-165796510),s=rn(s,r,n,i,e[6],9,-1069501632),i=rn(i,s,r,n,e[11],14,643717713),n=rn(n,i,s,r,e[0],20,-373897302),r=rn(r,n,i,s,e[5],5,-701558691),s=rn(s,r,n,i,e[10],9,38016083),i=rn(i,s,r,n,e[15],14,-660478335),n=rn(n,i,s,r,e[4],20,-405537848),r=rn(r,n,i,s,e[9],5,568446438),s=rn(s,r,n,i,e[14],9,-1019803690),i=rn(i,s,r,n,e[3],14,-187363961),n=rn(n,i,s,r,e[8],20,1163531501),r=rn(r,n,i,s,e[13],5,-1444681467),s=rn(s,r,n,i,e[2],9,-51403784),i=rn(i,s,r,n,e[7],14,1735328473),r=nn(r,n=rn(n,i,s,r,e[12],20,-1926607734),i,s,e[5],4,-378558),s=nn(s,r,n,i,e[8],11,-2022574463),i=nn(i,s,r,n,e[11],16,1839030562),n=nn(n,i,s,r,e[14],23,-35309556),r=nn(r,n,i,s,e[1],4,-1530992060),s=nn(s,r,n,i,e[4],11,1272893353),i=nn(i,s,r,n,e[7],16,-155497632),n=nn(n,i,s,r,e[10],23,-1094730640),r=nn(r,n,i,s,e[13],4,681279174),s=nn(s,r,n,i,e[0],11,-358537222),i=nn(i,s,r,n,e[3],16,-722521979),n=nn(n,i,s,r,e[6],23,76029189),r=nn(r,n,i,s,e[9],4,-640364487),s=nn(s,r,n,i,e[12],11,-421815835),i=nn(i,s,r,n,e[15],16,530742520),r=sn(r,n=nn(n,i,s,r,e[2],23,-995338651),i,s,e[0],6,-198630844),s=sn(s,r,n,i,e[7],10,1126891415),i=sn(i,s,r,n,e[14],15,-1416354905),n=sn(n,i,s,r,e[5],21,-57434055),r=sn(r,n,i,s,e[12],6,1700485571),s=sn(s,r,n,i,e[3],10,-1894986606),i=sn(i,s,r,n,e[10],15,-1051523),n=sn(n,i,s,r,e[1],21,-2054922799),r=sn(r,n,i,s,e[8],6,1873313359),s=sn(s,r,n,i,e[15],10,-30611744),i=sn(i,s,r,n,e[6],15,-1560198380),n=sn(n,i,s,r,e[13],21,1309151649),r=sn(r,n,i,s,e[4],6,-145523070),s=sn(s,r,n,i,e[11],10,-1120210379),i=sn(i,s,r,n,e[2],15,718787259),n=sn(n,i,s,r,e[9],21,-343485551),t[0]=Qs(r,t[0]),t[1]=Qs(n,t[1]),t[2]=Qs(i,t[2]),t[3]=Qs(s,t[3])}function Cd(t,e,r,n,i,s){return e=Qs(Qs(e,t),Qs(n,s)),Qs(e<<i|e>>>32-i,r)}function tn(t,e,r,n,i,s,a){return Cd(e&r|~e&n,t,e,i,s,a)}function rn(t,e,r,n,i,s,a){return Cd(e&n|r&~n,t,e,i,s,a)}function nn(t,e,r,n,i,s,a){return Cd(e^r^n,t,e,i,s,a)}function sn(t,e,r,n,i,s,a){return Cd(r^(e|~n),t,e,i,s,a)}function bw(t){var e,r=t.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)ap(n,TS(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(ap(n,i),e=0;e<16;e++)i[e]=0;return i[14]=8*r,ap(n,i),n}function TS(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}var Ug="0123456789abcdef".split("");function OS(t){for(var e="",r=0;r<4;r++)e+=Ug[t>>8*r+4&15]+Ug[t>>8*r&15];return e}function IS(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function k0(t){return bw(t).map(IS).join("")}var RS=function(t){for(var e=0;e<t.length;e++)t[e]=OS(t[e]);return t.join("")}(bw("hello"))!="5d41402abc4b2a76b9719d911017c592";function Qs(t,e){if(RS){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function S0(t,e){var r,n,i,s;if(t!==r){for(var a=(i=t,s=1+(256/t.length|0),new Array(s+1).join(i)),o=[],l=0;l<256;l++)o[l]=l;var u=0;for(l=0;l<256;l++){var d=o[l];u=(u+d+a.charCodeAt(l))%256,o[l]=o[u],o[u]=d}r=t,n=o}else o=n;var m=e.length,v=0,h=0,b="";for(l=0;l<m;l++)h=(h+(d=o[v=(v+1)%256]))%256,o[v]=o[h],o[h]=d,a=o[(o[v]+o[h])%256],b+=String.fromCharCode(e.charCodeAt(l)^a);return b}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var Mg={print:4,modify:8,copy:16,"annot-forms":32};function Io(t,e,r,n){this.v=1,this.r=2;var i=192;t.forEach(function(o){if(Mg.perm!==void 0)throw new Error("Invalid permission: "+o);i+=Mg[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),a=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,a),this.P=-(1+(255^i)),this.encryptionKey=k0(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=S0(this.encryptionKey,this.padding)}function Ro(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,n=0;n<r;n++){var i=t.charCodeAt(n);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):t[n]}return e}function qg(t){if(Dt(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,n,i){if(i=i||!1,typeof r!="string"||typeof n!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var s=Math.random().toString(35);return e[r][s]=[n,!!i],s},this.unsubscribe=function(r){for(var n in e)if(e[n][r])return delete e[n][r],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[r]){var a=e[r][s];try{a[0].apply(t,n)}catch(o){ht.console&&Ht.error("jsPDF PubSub Error",o.message,o)}a[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function od(t){if(!(this instanceof od))return new od(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function xw(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function Ma(t,e,r,n,i){if(!(this instanceof Ma))return new Ma(t,e,r,n,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,xw.call(this,n,i)}function Jo(t,e,r,n,i){if(!(this instanceof Jo))return new Jo(t,e,r,n,i);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,xw.call(this,n,i)}function tt(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],i=arguments[2],s=arguments[3],a=[],o=1,l=16,u="S",d=null;Dt(t=t||{})==="object"&&(r=t.orientation,n=t.unit||n,i=t.format||i,s=t.compress||t.compressPdf||s,(d=t.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),o=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),u=t.defaultPathOperation||"S"),a=t.filters||(s===!0?["FlateEncode"]:a),n=n||"mm",r=(""+(r||"P")).toLowerCase();var m=t.putOnlyUsedFonts||!1,v={},h={internal:{},__private__:{}};h.__private__.PubSub=qg;var b="1.3",y=h.__private__.getPdfVersion=function(){return b};h.__private__.setPdfVersion=function(w){b=w};var k={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};h.__private__.getPageFormats=function(){return k};var g=h.__private__.getPageFormat=function(w){return k[w]};i=i||"a4";var _="compat",x="advanced",A=_;function T(){this.saveGraphicsState(),z(new at(ct,0,0,-ct,0,xa()*ct).toString()+" cm"),this.setFontSize(this.getFontSize()/ct),u="n",A=x}function q(){this.restoreGraphicsState(),u="S",A=_}var B=h.__private__.combineFontStyleAndFontWeight=function(w,O){if(w=="bold"&&O=="normal"||w=="bold"&&O==400||w=="normal"&&O=="italic"||w=="bold"&&O=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return O&&(w=O==400||O==="normal"?w==="italic"?"italic":"normal":O!=700&&O!=="bold"||w!=="normal"?(O==700?"bold":O)+""+w:"bold"),w};h.advancedAPI=function(w){var O=A===_;return O&&T.call(this),typeof w!="function"||(w(this),O&&q.call(this)),this},h.compatAPI=function(w){var O=A===x;return O&&q.call(this),typeof w!="function"||(w(this),O&&T.call(this)),this},h.isAdvancedAPI=function(){return A===x};var D,P=function(w){if(A!==x)throw new Error(w+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},G=h.roundToPrecision=h.__private__.roundToPrecision=function(w,O){var ne=e||O;if(isNaN(w)||isNaN(ne))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return w.toFixed(ne).replace(/0+$/,"")};D=h.hpf=h.__private__.hpf=typeof l=="number"?function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.hpf");return G(w,l)}:l==="smart"?function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.hpf");return G(w,w>-1&&w<1?16:5)}:function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.hpf");return G(w,16)};var I=h.f2=h.__private__.f2=function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.f2");return G(w,2)},L=h.__private__.f3=function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.f3");return G(w,3)},M=h.scale=h.__private__.scale=function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.scale");return A===_?w*ct:A===x?w:void 0},N=function(w){return M(function(O){return A===_?xa()-O:A===x?O:void 0}(w))};h.__private__.setPrecision=h.setPrecision=function(w){typeof parseInt(w,10)=="number"&&(e=parseInt(w,10))};var Q,fe="00000000000000000000000000000000",se=h.__private__.getFileId=function(){return fe},ie=h.__private__.setFileId=function(w){return fe=w!==void 0&&/^[a-fA-F0-9]{32}$/.test(w)?w.toUpperCase():fe.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(jr=new Io(d.userPermissions,d.userPassword,d.ownerPassword,fe)),fe};h.setFileId=function(w){return ie(w),this},h.getFileId=function(){return se()};var K=h.__private__.convertDateToPDFDate=function(w){var O=w.getTimezoneOffset(),ne=O<0?"+":"-",ae=Math.floor(Math.abs(O/60)),ge=Math.abs(O%60),Ce=[ne,V(ae),"'",V(ge),"'"].join("");return["D:",w.getFullYear(),V(w.getMonth()+1),V(w.getDate()),V(w.getHours()),V(w.getMinutes()),V(w.getSeconds()),Ce].join("")},ue=h.__private__.convertPDFDateToDate=function(w){var O=parseInt(w.substr(2,4),10),ne=parseInt(w.substr(6,2),10)-1,ae=parseInt(w.substr(8,2),10),ge=parseInt(w.substr(10,2),10),Ce=parseInt(w.substr(12,2),10),Oe=parseInt(w.substr(14,2),10);return new Date(O,ne,ae,ge,Ce,Oe,0)},Y=h.__private__.setCreationDate=function(w){var O;if(w===void 0&&(w=new Date),w instanceof Date)O=K(w);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(w))throw new Error("Invalid argument passed to jsPDF.setCreationDate");O=w}return Q=O},E=h.__private__.getCreationDate=function(w){var O=Q;return w==="jsDate"&&(O=ue(Q)),O};h.setCreationDate=function(w){return Y(w),this},h.getCreationDate=function(w){return E(w)};var $,V=h.__private__.padd2=function(w){return("0"+parseInt(w)).slice(-2)},Z=h.__private__.padd2Hex=function(w){return("00"+(w=w.toString())).substr(w.length)},oe=0,me=[],ve=[],we=0,Ae=[],Te=[],ce=!1,Se=ve;h.__private__.setCustomOutputDestination=function(w){ce=!0,Se=w};var C=function(w){ce||(Se=w)};h.__private__.resetCustomOutputDestination=function(){ce=!1,Se=ve};var z=h.__private__.out=function(w){return w=w.toString(),we+=w.length+1,Se.push(w),Se},le=h.__private__.write=function(w){return z(arguments.length===1?w.toString():Array.prototype.join.call(arguments," "))},X=h.__private__.getArrayBuffer=function(w){for(var O=w.length,ne=new ArrayBuffer(O),ae=new Uint8Array(ne);O--;)ae[O]=w.charCodeAt(O);return ne},H=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];h.__private__.getStandardFonts=function(){return H};var ee=t.fontSize||16;h.__private__.setFontSize=h.setFontSize=function(w){return ee=A===x?w/ct:w,this};var ke,_e=h.__private__.getFontSize=h.getFontSize=function(){return A===_?ee:ee*ct},he=t.R2L||!1;h.__private__.setR2L=h.setR2L=function(w){return he=w,this},h.__private__.getR2L=h.getR2L=function(){return he};var Ne,Re=h.__private__.setZoomMode=function(w){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(w))ke=w;else if(isNaN(w)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(w)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+w+'" is not recognized.');ke=w}else ke=parseInt(w,10)};h.__private__.getZoomMode=function(){return ke};var Le,Fe=h.__private__.setPageMode=function(w){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(w)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+w+'" is not recognized.');Ne=w};h.__private__.getPageMode=function(){return Ne};var Je=h.__private__.setLayoutMode=function(w){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(w)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+w+'" is not recognized.');Le=w};h.__private__.getLayoutMode=function(){return Le},h.__private__.setDisplayMode=h.setDisplayMode=function(w,O,ne){return Re(w),Je(O),Fe(ne),this};var qe={title:"",subject:"",author:"",keywords:"",creator:""};h.__private__.getDocumentProperty=function(w){if(Object.keys(qe).indexOf(w)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return qe[w]},h.__private__.getDocumentProperties=function(){return qe},h.__private__.setDocumentProperties=h.setProperties=h.setDocumentProperties=function(w){for(var O in qe)qe.hasOwnProperty(O)&&w[O]&&(qe[O]=w[O]);return this},h.__private__.setDocumentProperty=function(w,O){if(Object.keys(qe).indexOf(w)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return qe[w]=O};var Me,ct,$e,Mt,nt,gt={},wt={},At=[],rt={},Ut={},st={},ft={},qt=null,vt=0,it=[],Tt=new qg(h),pa=t.hotfixes||[],Zr={},Gi={},Ei=[],at=function w(O,ne,ae,ge,Ce,Oe){if(!(this instanceof w))return new w(O,ne,ae,ge,Ce,Oe);isNaN(O)&&(O=1),isNaN(ne)&&(ne=0),isNaN(ae)&&(ae=0),isNaN(ge)&&(ge=1),isNaN(Ce)&&(Ce=0),isNaN(Oe)&&(Oe=0),this._matrix=[O,ne,ae,ge,Ce,Oe]};Object.defineProperty(at.prototype,"sx",{get:function(){return this._matrix[0]},set:function(w){this._matrix[0]=w}}),Object.defineProperty(at.prototype,"shy",{get:function(){return this._matrix[1]},set:function(w){this._matrix[1]=w}}),Object.defineProperty(at.prototype,"shx",{get:function(){return this._matrix[2]},set:function(w){this._matrix[2]=w}}),Object.defineProperty(at.prototype,"sy",{get:function(){return this._matrix[3]},set:function(w){this._matrix[3]=w}}),Object.defineProperty(at.prototype,"tx",{get:function(){return this._matrix[4]},set:function(w){this._matrix[4]=w}}),Object.defineProperty(at.prototype,"ty",{get:function(){return this._matrix[5]},set:function(w){this._matrix[5]=w}}),Object.defineProperty(at.prototype,"a",{get:function(){return this._matrix[0]},set:function(w){this._matrix[0]=w}}),Object.defineProperty(at.prototype,"b",{get:function(){return this._matrix[1]},set:function(w){this._matrix[1]=w}}),Object.defineProperty(at.prototype,"c",{get:function(){return this._matrix[2]},set:function(w){this._matrix[2]=w}}),Object.defineProperty(at.prototype,"d",{get:function(){return this._matrix[3]},set:function(w){this._matrix[3]=w}}),Object.defineProperty(at.prototype,"e",{get:function(){return this._matrix[4]},set:function(w){this._matrix[4]=w}}),Object.defineProperty(at.prototype,"f",{get:function(){return this._matrix[5]},set:function(w){this._matrix[5]=w}}),Object.defineProperty(at.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(at.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(at.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(at.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),at.prototype.join=function(w){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(D).join(w)},at.prototype.multiply=function(w){var O=w.sx*this.sx+w.shy*this.shx,ne=w.sx*this.shy+w.shy*this.sy,ae=w.shx*this.sx+w.sy*this.shx,ge=w.shx*this.shy+w.sy*this.sy,Ce=w.tx*this.sx+w.ty*this.shx+this.tx,Oe=w.tx*this.shy+w.ty*this.sy+this.ty;return new at(O,ne,ae,ge,Ce,Oe)},at.prototype.decompose=function(){var w=this.sx,O=this.shy,ne=this.shx,ae=this.sy,ge=this.tx,Ce=this.ty,Oe=Math.sqrt(w*w+O*O),Ke=(w/=Oe)*ne+(O/=Oe)*ae;ne-=w*Ke,ae-=O*Ke;var Xe=Math.sqrt(ne*ne+ae*ae);return Ke/=Xe,w*(ae/=Xe)<O*(ne/=Xe)&&(w=-w,O=-O,Ke=-Ke,Oe=-Oe),{scale:new at(Oe,0,0,Xe,0,0),translate:new at(1,0,0,1,ge,Ce),rotate:new at(w,O,-O,w,0,0),skew:new at(1,0,Ke,1,0,0)}},at.prototype.toString=function(w){return this.join(" ")},at.prototype.inversed=function(){var w=this.sx,O=this.shy,ne=this.shx,ae=this.sy,ge=this.tx,Ce=this.ty,Oe=1/(w*ae-O*ne),Ke=ae*Oe,Xe=-O*Oe,dt=-ne*Oe,bt=w*Oe;return new at(Ke,Xe,dt,bt,-Ke*ge-dt*Ce,-Xe*ge-bt*Ce)},at.prototype.applyToPoint=function(w){var O=w.x*this.sx+w.y*this.shx+this.tx,ne=w.x*this.shy+w.y*this.sy+this.ty;return new es(O,ne)},at.prototype.applyToRectangle=function(w){var O=this.applyToPoint(w),ne=this.applyToPoint(new es(w.x+w.w,w.y+w.h));return new jl(O.x,O.y,ne.x-O.x,ne.y-O.y)},at.prototype.clone=function(){var w=this.sx,O=this.shy,ne=this.shx,ae=this.sy,ge=this.tx,Ce=this.ty;return new at(w,O,ne,ae,ge,Ce)},h.Matrix=at;var Ki=h.matrixMult=function(w,O){return O.multiply(w)},Ji=new at(1,0,0,1,0,0);h.unitMatrix=h.identityMatrix=Ji;var Wn=function(w,O){if(!Ut[w]){var ne=(O instanceof Ma?"Sh":"P")+(Object.keys(rt).length+1).toString(10);O.id=ne,Ut[w]=ne,rt[ne]=O,Tt.publish("addPattern",O)}};h.ShadingPattern=Ma,h.TilingPattern=Jo,h.addShadingPattern=function(w,O){return P("addShadingPattern()"),Wn(w,O),this},h.beginTilingPattern=function(w){P("beginTilingPattern()"),El(w.boundingBox[0],w.boundingBox[1],w.boundingBox[2]-w.boundingBox[0],w.boundingBox[3]-w.boundingBox[1],w.matrix)},h.endTilingPattern=function(w,O){P("endTilingPattern()"),O.stream=Te[$].join(`
`),Wn(w,O),Tt.publish("endTilingPattern",O),Ei.pop().restore()};var Hn,or=h.__private__.newObject=function(){var w=zr();return Ur(w,!0),w},zr=h.__private__.newObjectDeferred=function(){return oe++,me[oe]=function(){return we},oe},Ur=function(w,O){return O=typeof O=="boolean"&&O,me[w]=we,O&&z(w+" 0 obj"),w},ma=h.__private__.newAdditionalObject=function(){var w={objId:zr(),content:""};return Ae.push(w),w},As=zr(),ai=zr(),Ci=h.__private__.decodeColorString=function(w){var O=w.split(" ");if(O.length!==2||O[1]!=="g"&&O[1]!=="G")O.length!==5||O[4]!=="k"&&O[4]!=="K"||(O=[(1-O[0])*(1-O[3]),(1-O[1])*(1-O[3]),(1-O[2])*(1-O[3]),"r"]);else{var ne=parseFloat(O[0]);O=[ne,ne,ne,"r"]}for(var ae="#",ge=0;ge<3;ge++)ae+=("0"+Math.floor(255*parseFloat(O[ge])).toString(16)).slice(-2);return ae},oi=h.__private__.encodeColorString=function(w){var O;typeof w=="string"&&(w={ch1:w});var ne=w.ch1,ae=w.ch2,ge=w.ch3,Ce=w.ch4,Oe=w.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ne=="string"&&ne.charAt(0)!=="#"){var Ke=new _w(ne);if(Ke.ok)ne=Ke.toHex();else if(!/^\d*\.?\d*$/.test(ne))throw new Error('Invalid color "'+ne+'" passed to jsPDF.encodeColorString.')}if(typeof ne=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ne)&&(ne="#"+ne[1]+ne[1]+ne[2]+ne[2]+ne[3]+ne[3]),typeof ne=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ne)){var Xe=parseInt(ne.substr(1),16);ne=Xe>>16&255,ae=Xe>>8&255,ge=255&Xe}if(ae===void 0||Ce===void 0&&ne===ae&&ae===ge)O=typeof ne=="string"?ne+" "+Oe[0]:w.precision===2?I(ne/255)+" "+Oe[0]:L(ne/255)+" "+Oe[0];else if(Ce===void 0||Dt(Ce)==="object"){if(Ce&&!isNaN(Ce.a)&&Ce.a===0)return["1.","1.","1.",Oe[1]].join(" ");O=typeof ne=="string"?[ne,ae,ge,Oe[1]].join(" "):w.precision===2?[I(ne/255),I(ae/255),I(ge/255),Oe[1]].join(" "):[L(ne/255),L(ae/255),L(ge/255),Oe[1]].join(" ")}else O=typeof ne=="string"?[ne,ae,ge,Ce,Oe[2]].join(" "):w.precision===2?[I(ne),I(ae),I(ge),I(Ce),Oe[2]].join(" "):[L(ne),L(ae),L(ge),L(Ce),Oe[2]].join(" ");return O},li=h.__private__.getFilters=function(){return a},Vn=h.__private__.putStream=function(w){var O=(w=w||{}).data||"",ne=w.filters||li(),ae=w.alreadyAppliedFilters||[],ge=w.addLength1||!1,Ce=O.length,Oe=w.objectId,Ke=function(Er){return Er};if(d!==null&&Oe===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(Ke=jr.encryptor(Oe,0));var Xe={};ne===!0&&(ne=["FlateEncode"]);var dt=w.additionalKeyValues||[],bt=(Xe=tt.API.processDataByFilters!==void 0?tt.API.processDataByFilters(O,ne):{data:O,reverseChain:[]}).reverseChain+(Array.isArray(ae)?ae.join(" "):ae.toString());if(Xe.data.length!==0&&(dt.push({key:"Length",value:Xe.data.length}),ge===!0&&dt.push({key:"Length1",value:Ce})),bt.length!=0)if(bt.split("/").length-1==1)dt.push({key:"Filter",value:bt});else{dt.push({key:"Filter",value:"["+bt+"]"});for(var Et=0;Et<dt.length;Et+=1)if(dt[Et].key==="DecodeParms"){for(var rr=[],kr=0;kr<Xe.reverseChain.split("/").length-1;kr+=1)rr.push("null");rr.push(dt[Et].value),dt[Et].value="["+rr.join(" ")+"]"}}z("<<");for(var Vt=0;Vt<dt.length;Vt++)z("/"+dt[Vt].key+" "+dt[Vt].value);z(">>"),Xe.data.length!==0&&(z("stream"),z(Ke(Xe.data)),z("endstream"))},ga=h.__private__.putPage=function(w){var O=w.number,ne=w.data,ae=w.objId,ge=w.contentsObjId;Ur(ae,!0),z("<</Type /Page"),z("/Parent "+w.rootDictionaryObjId+" 0 R"),z("/Resources "+w.resourceDictionaryObjId+" 0 R"),z("/MediaBox ["+parseFloat(D(w.mediaBox.bottomLeftX))+" "+parseFloat(D(w.mediaBox.bottomLeftY))+" "+D(w.mediaBox.topRightX)+" "+D(w.mediaBox.topRightY)+"]"),w.cropBox!==null&&z("/CropBox ["+D(w.cropBox.bottomLeftX)+" "+D(w.cropBox.bottomLeftY)+" "+D(w.cropBox.topRightX)+" "+D(w.cropBox.topRightY)+"]"),w.bleedBox!==null&&z("/BleedBox ["+D(w.bleedBox.bottomLeftX)+" "+D(w.bleedBox.bottomLeftY)+" "+D(w.bleedBox.topRightX)+" "+D(w.bleedBox.topRightY)+"]"),w.trimBox!==null&&z("/TrimBox ["+D(w.trimBox.bottomLeftX)+" "+D(w.trimBox.bottomLeftY)+" "+D(w.trimBox.topRightX)+" "+D(w.trimBox.topRightY)+"]"),w.artBox!==null&&z("/ArtBox ["+D(w.artBox.bottomLeftX)+" "+D(w.artBox.bottomLeftY)+" "+D(w.artBox.topRightX)+" "+D(w.artBox.topRightY)+"]"),typeof w.userUnit=="number"&&w.userUnit!==1&&z("/UserUnit "+w.userUnit),Tt.publish("putPage",{objId:ae,pageContext:it[O],pageNumber:O,page:ne}),z("/Contents "+ge+" 0 R"),z(">>"),z("endobj");var Ce=ne.join(`
`);return A===x&&(Ce+=`
Q`),Ur(ge,!0),Vn({data:Ce,filters:li(),objectId:ge}),z("endobj"),ae},Li=h.__private__.putPages=function(){var w,O,ne=[];for(w=1;w<=vt;w++)it[w].objId=zr(),it[w].contentsObjId=zr();for(w=1;w<=vt;w++)ne.push(ga({number:w,data:Te[w],objId:it[w].objId,contentsObjId:it[w].contentsObjId,mediaBox:it[w].mediaBox,cropBox:it[w].cropBox,bleedBox:it[w].bleedBox,trimBox:it[w].trimBox,artBox:it[w].artBox,userUnit:it[w].userUnit,rootDictionaryObjId:As,resourceDictionaryObjId:ai}));Ur(As,!0),z("<</Type /Pages");var ae="/Kids [";for(O=0;O<vt;O++)ae+=ne[O]+" 0 R ";z(ae+"]"),z("/Count "+vt),z(">>"),z("endobj"),Tt.publish("postPutPages")},va=function(w){Tt.publish("putFont",{font:w,out:z,newObject:or,putStream:Vn}),w.isAlreadyPutted!==!0&&(w.objectNumber=or(),z("<<"),z("/Type /Font"),z("/BaseFont /"+Ro(w.postScriptName)),z("/Subtype /Type1"),typeof w.encoding=="string"&&z("/Encoding /"+w.encoding),z("/FirstChar 32"),z("/LastChar 255"),z(">>"),z("endobj"))},ao=function(w){w.objectNumber=or();var O=[];O.push({key:"Type",value:"/XObject"}),O.push({key:"Subtype",value:"/Form"}),O.push({key:"BBox",value:"["+[D(w.x),D(w.y),D(w.x+w.width),D(w.y+w.height)].join(" ")+"]"}),O.push({key:"Matrix",value:"["+w.matrix.toString()+"]"});var ne=w.pages[1].join(`
`);Vn({data:ne,additionalKeyValues:O,objectId:w.objectNumber}),z("endobj")},oo=function(w,O){O||(O=21);var ne=or(),ae=function(Oe,Ke){var Xe,dt=[],bt=1/(Ke-1);for(Xe=0;Xe<1;Xe+=bt)dt.push(Xe);if(dt.push(1),Oe[0].offset!=0){var Et={offset:0,color:Oe[0].color};Oe.unshift(Et)}if(Oe[Oe.length-1].offset!=1){var rr={offset:1,color:Oe[Oe.length-1].color};Oe.push(rr)}for(var kr="",Vt=0,Er=0;Er<dt.length;Er++){for(Xe=dt[Er];Xe>Oe[Vt+1].offset;)Vt++;var Sr=Oe[Vt].offset,Mr=(Xe-Sr)/(Oe[Vt+1].offset-Sr),ns=Oe[Vt].color,ci=Oe[Vt+1].color;kr+=Z(Math.round((1-Mr)*ns[0]+Mr*ci[0]).toString(16))+Z(Math.round((1-Mr)*ns[1]+Mr*ci[1]).toString(16))+Z(Math.round((1-Mr)*ns[2]+Mr*ci[2]).toString(16))}return kr.trim()}(w.colors,O),ge=[];ge.push({key:"FunctionType",value:"0"}),ge.push({key:"Domain",value:"[0.0 1.0]"}),ge.push({key:"Size",value:"["+O+"]"}),ge.push({key:"BitsPerSample",value:"8"}),ge.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ge.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Vn({data:ae,additionalKeyValues:ge,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ne}),z("endobj"),w.objectNumber=or(),z("<< /ShadingType "+w.type),z("/ColorSpace /DeviceRGB");var Ce="/Coords ["+D(parseFloat(w.coords[0]))+" "+D(parseFloat(w.coords[1]))+" ";w.type===2?Ce+=D(parseFloat(w.coords[2]))+" "+D(parseFloat(w.coords[3])):Ce+=D(parseFloat(w.coords[2]))+" "+D(parseFloat(w.coords[3]))+" "+D(parseFloat(w.coords[4]))+" "+D(parseFloat(w.coords[5])),z(Ce+="]"),w.matrix&&z("/Matrix ["+w.matrix.toString()+"]"),z("/Function "+ne+" 0 R"),z("/Extend [true true]"),z(">>"),z("endobj")},lo=function(w,O){var ne=zr(),ae=or();O.push({resourcesOid:ne,objectOid:ae}),w.objectNumber=ae;var ge=[];ge.push({key:"Type",value:"/Pattern"}),ge.push({key:"PatternType",value:"1"}),ge.push({key:"PaintType",value:"1"}),ge.push({key:"TilingType",value:"1"}),ge.push({key:"BBox",value:"["+w.boundingBox.map(D).join(" ")+"]"}),ge.push({key:"XStep",value:D(w.xStep)}),ge.push({key:"YStep",value:D(w.yStep)}),ge.push({key:"Resources",value:ne+" 0 R"}),w.matrix&&ge.push({key:"Matrix",value:"["+w.matrix.toString()+"]"}),Vn({data:w.stream,additionalKeyValues:ge,objectId:w.objectNumber}),z("endobj")},Ld=function(w){for(var O in w.objectNumber=or(),z("<<"),w)switch(O){case"opacity":z("/ca "+I(w[O]));break;case"stroke-opacity":z("/CA "+I(w[O]))}z(">>"),z("endobj")},wl=function(w){Ur(w.resourcesOid,!0),z("<<"),z("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var O in z("/Font <<"),gt)gt.hasOwnProperty(O)&&(m===!1||m===!0&&v.hasOwnProperty(O))&&z("/"+O+" "+gt[O].objectNumber+" 0 R");z(">>")}(),function(){if(Object.keys(rt).length>0){for(var O in z("/Shading <<"),rt)rt.hasOwnProperty(O)&&rt[O]instanceof Ma&&rt[O].objectNumber>=0&&z("/"+O+" "+rt[O].objectNumber+" 0 R");Tt.publish("putShadingPatternDict"),z(">>")}}(),function(O){if(Object.keys(rt).length>0){for(var ne in z("/Pattern <<"),rt)rt.hasOwnProperty(ne)&&rt[ne]instanceof h.TilingPattern&&rt[ne].objectNumber>=0&&rt[ne].objectNumber<O&&z("/"+ne+" "+rt[ne].objectNumber+" 0 R");Tt.publish("putTilingPatternDict"),z(">>")}}(w.objectOid),function(){if(Object.keys(st).length>0){var O;for(O in z("/ExtGState <<"),st)st.hasOwnProperty(O)&&st[O].objectNumber>=0&&z("/"+O+" "+st[O].objectNumber+" 0 R");Tt.publish("putGStateDict"),z(">>")}}(),function(){for(var O in z("/XObject <<"),Zr)Zr.hasOwnProperty(O)&&Zr[O].objectNumber>=0&&z("/"+O+" "+Zr[O].objectNumber+" 0 R");Tt.publish("putXobjectDict"),z(">>")}(),z(">>"),z("endobj")},ec=function(w){wt[w.fontName]=wt[w.fontName]||{},wt[w.fontName][w.fontStyle]=w.id},tc=function(w,O,ne,ae,ge){var Ce={id:"F"+(Object.keys(gt).length+1).toString(10),postScriptName:w,fontName:O,fontStyle:ne,encoding:ae,isStandardFont:ge||!1,metadata:{}};return Tt.publish("addFont",{font:Ce,instance:this}),gt[Ce.id]=Ce,ec(Ce),Ce.id},Gn=h.__private__.pdfEscape=h.pdfEscape=function(w,O){return function(ne,ae){var ge,Ce,Oe,Ke,Xe,dt,bt,Et,rr;if(Oe=(ae=ae||{}).sourceEncoding||"Unicode",Xe=ae.outputEncoding,(ae.autoencode||Xe)&&gt[Me].metadata&&gt[Me].metadata[Oe]&&gt[Me].metadata[Oe].encoding&&(Ke=gt[Me].metadata[Oe].encoding,!Xe&&gt[Me].encoding&&(Xe=gt[Me].encoding),!Xe&&Ke.codePages&&(Xe=Ke.codePages[0]),typeof Xe=="string"&&(Xe=Ke[Xe]),Xe)){for(bt=!1,dt=[],ge=0,Ce=ne.length;ge<Ce;ge++)(Et=Xe[ne.charCodeAt(ge)])?dt.push(String.fromCharCode(Et)):dt.push(ne[ge]),dt[ge].charCodeAt(0)>>8&&(bt=!0);ne=dt.join("")}for(ge=ne.length;bt===void 0&&ge!==0;)ne.charCodeAt(ge-1)>>8&&(bt=!0),ge--;if(!bt)return ne;for(dt=ae.noBOM?[]:[254,255],ge=0,Ce=ne.length;ge<Ce;ge++){if((rr=(Et=ne.charCodeAt(ge))>>8)>>8)throw new Error("Character at position "+ge+" of string '"+ne+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");dt.push(rr),dt.push(Et-(rr<<8))}return String.fromCharCode.apply(void 0,dt)}(w,O).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},_l=h.__private__.beginPage=function(w){Te[++vt]=[],it[vt]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(w[0]),topRightY:Number(w[1])}},nc(vt),C(Te[$])},rc=function(w,O){var ne,ae,ge;switch(r=O||r,typeof w=="string"&&(ne=g(w.toLowerCase()),Array.isArray(ne)&&(ae=ne[0],ge=ne[1])),Array.isArray(w)&&(ae=w[0]*ct,ge=w[1]*ct),isNaN(ae)&&(ae=i[0],ge=i[1]),(ae>14400||ge>14400)&&(Ht.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ae=Math.min(14400,ae),ge=Math.min(14400,ge)),i=[ae,ge],r.substr(0,1)){case"l":ge>ae&&(i=[ge,ae]);break;case"p":ae>ge&&(i=[ge,ae])}_l(i),pt(kl),z(fo),Nl!==0&&z(Nl+" J"),Al!==0&&z(Al+" j"),Tt.publish("addPage",{pageNumber:vt})},bl=function(w){w>0&&w<=vt&&(Te.splice(w,1),it.splice(w,1),vt--,$>vt&&($=vt),this.setPage($))},nc=function(w){w>0&&w<=vt&&($=w)},ic=h.__private__.getNumberOfPages=h.getNumberOfPages=function(){return Te.length-1},sc=function(w,O,ne){var ae,ge=void 0;return ne=ne||{},w=w!==void 0?w:gt[Me].fontName,O=O!==void 0?O:gt[Me].fontStyle,ae=w.toLowerCase(),wt[ae]!==void 0&&wt[ae][O]!==void 0?ge=wt[ae][O]:wt[w]!==void 0&&wt[w][O]!==void 0?ge=wt[w][O]:ne.disableWarning===!1&&Ht.warn("Unable to look up font label for font '"+w+"', '"+O+"'. Refer to getFontList() for available fonts."),ge||ne.noFallback||(ge=wt.times[O])==null&&(ge=wt.times.normal),ge},Pi=h.__private__.putInfo=function(){var w=or(),O=function(ae){return ae};for(var ne in d!==null&&(O=jr.encryptor(w,0)),z("<<"),z("/Producer ("+Gn(O("jsPDF "+tt.version))+")"),qe)qe.hasOwnProperty(ne)&&qe[ne]&&z("/"+ne.substr(0,1).toUpperCase()+ne.substr(1)+" ("+Gn(O(qe[ne]))+")");z("/CreationDate ("+Gn(O(Q))+")"),z(">>"),z("endobj")},uo=h.__private__.putCatalog=function(w){var O=(w=w||{}).rootDictionaryObjId||As;switch(or(),z("<<"),z("/Type /Catalog"),z("/Pages "+O+" 0 R"),ke||(ke="fullwidth"),ke){case"fullwidth":z("/OpenAction [3 0 R /FitH null]");break;case"fullheight":z("/OpenAction [3 0 R /FitV null]");break;case"fullpage":z("/OpenAction [3 0 R /Fit]");break;case"original":z("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ne=""+ke;ne.substr(ne.length-1)==="%"&&(ke=parseInt(ke)/100),typeof ke=="number"&&z("/OpenAction [3 0 R /XYZ null null "+I(ke)+"]")}switch(Le||(Le="continuous"),Le){case"continuous":z("/PageLayout /OneColumn");break;case"single":z("/PageLayout /SinglePage");break;case"two":case"twoleft":z("/PageLayout /TwoColumnLeft");break;case"tworight":z("/PageLayout /TwoColumnRight")}Ne&&z("/PageMode /"+Ne),Tt.publish("putCatalog"),z(">>"),z("endobj")},Pd=h.__private__.putTrailer=function(){z("trailer"),z("<<"),z("/Size "+(oe+1)),z("/Root "+oe+" 0 R"),z("/Info "+(oe-1)+" 0 R"),d!==null&&z("/Encrypt "+jr.oid+" 0 R"),z("/ID [ <"+fe+"> <"+fe+"> ]"),z(">>")},xr=h.__private__.putHeader=function(){z("%PDF-"+b),z("%")},ac=h.__private__.putXRef=function(){var w="0000000000";z("xref"),z("0 "+(oe+1)),z("0000000000 65535 f ");for(var O=1;O<=oe;O++)typeof me[O]=="function"?z((w+me[O]()).slice(-10)+" 00000 n "):me[O]!==void 0?z((w+me[O]).slice(-10)+" 00000 n "):z("0000000000 00000 n ")},Ti=h.__private__.buildDocument=function(){var w;oe=0,we=0,ve=[],me=[],Ae=[],As=zr(),ai=zr(),C(ve),Tt.publish("buildDocument"),xr(),Li(),function(){Tt.publish("putAdditionalObjects");for(var ne=0;ne<Ae.length;ne++){var ae=Ae[ne];Ur(ae.objId,!0),z(ae.content),z("endobj")}Tt.publish("postPutAdditionalObjects")}(),w=[],function(){for(var ne in gt)gt.hasOwnProperty(ne)&&(m===!1||m===!0&&v.hasOwnProperty(ne))&&va(gt[ne])}(),function(){var ne;for(ne in st)st.hasOwnProperty(ne)&&Ld(st[ne])}(),function(){for(var ne in Zr)Zr.hasOwnProperty(ne)&&ao(Zr[ne])}(),function(ne){var ae;for(ae in rt)rt.hasOwnProperty(ae)&&(rt[ae]instanceof Ma?oo(rt[ae]):rt[ae]instanceof Jo&&lo(rt[ae],ne))}(w),Tt.publish("putResources"),w.forEach(wl),wl({resourcesOid:ai,objectOid:Number.MAX_SAFE_INTEGER}),Tt.publish("postPutResources"),d!==null&&(jr.oid=or(),z("<<"),z("/Filter /Standard"),z("/V "+jr.v),z("/R "+jr.r),z("/U <"+jr.toHexString(jr.U)+">"),z("/O <"+jr.toHexString(jr.O)+">"),z("/P "+jr.P),z(">>"),z("endobj")),Pi(),uo();var O=we;return ac(),Pd(),z("startxref"),z(""+O),z("%%EOF"),C(Te[$]),ve.join(`
`)},co=h.__private__.getBlob=function(w){return new Blob([X(w)],{type:"application/pdf"})},oc=h.output=h.__private__.output=(Hn=function(w,O){switch(typeof(O=O||{})=="string"?O={filename:O}:O.filename=O.filename||"generated.pdf",w){case void 0:return Ti();case"save":h.save(O.filename);break;case"arraybuffer":return X(Ti());case"blob":return co(Ti());case"bloburi":case"bloburl":if(ht.URL!==void 0&&typeof ht.URL.createObjectURL=="function")return ht.URL&&ht.URL.createObjectURL(co(Ti()))||void 0;Ht.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ne="",ae=Ti();try{ne=Bg(ae)}catch{ne=Bg(unescape(encodeURIComponent(ae)))}return"data:application/pdf;filename="+O.filename+";base64,"+ne;case"pdfobjectnewwindow":if(Object.prototype.toString.call(ht)==="[object Window]"){var ge="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ce=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';O.pdfObjectUrl&&(ge=O.pdfObjectUrl,Ce="");var Oe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ge+'"'+Ce+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(O)+");<\/script></body></html>",Ke=ht.open();return Ke!==null&&Ke.document.write(Oe),Ke}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(ht)==="[object Window]"){var Xe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(O.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+O.filename+'" width="500px" height="400px" /></body></html>',dt=ht.open();if(dt!==null){dt.document.write(Xe);var bt=this;dt.document.documentElement.querySelector("#pdfViewer").onload=function(){dt.document.title=O.filename,dt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(bt.output("bloburl"))}}return dt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(ht)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Et='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",O)+'"></iframe></body></html>',rr=ht.open();if(rr!==null&&(rr.document.write(Et),rr.document.title=O.filename),rr||typeof safari>"u")return rr;break;case"datauri":case"dataurl":return ht.document.location.href=this.output("datauristring",O);default:return null}},Hn.foo=function(){try{return Hn.apply(this,arguments)}catch(ne){var w=ne.stack||"";~w.indexOf(" at ")&&(w=w.split(" at ")[1]);var O="Error in function "+w.split(`
`)[0].split("<")[0]+": "+ne.message;if(!ht.console)throw new Error(O);ht.console.error(O,ne),ht.alert&&alert(O)}},Hn.foo.bar=Hn,Hn.foo),Kn=function(w){return Array.isArray(pa)===!0&&pa.indexOf(w)>-1};switch(n){case"pt":ct=1;break;case"mm":ct=72/25.4;break;case"cm":ct=72/2.54;break;case"in":ct=72;break;case"px":ct=Kn("px_scaling")==1?.75:96/72;break;case"pc":case"em":ct=12;break;case"ex":ct=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);ct=n}var jr=null;Y(),ie();var Yi=h.__private__.getPageInfo=h.getPageInfo=function(w){if(isNaN(w)||w%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:it[w].objId,pageNumber:w,pageContext:it[w]}},lc=h.__private__.getPageInfoByObjId=function(w){if(isNaN(w)||w%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var O in it)if(it[O].objId===w)break;return Yi(O)},Td=h.__private__.getCurrentPageInfo=h.getCurrentPageInfo=function(){return{objId:it[$].objId,pageNumber:$,pageContext:it[$]}};h.addPage=function(){return rc.apply(this,arguments),this},h.setPage=function(){return nc.apply(this,arguments),C.call(this,Te[$]),this},h.insertPage=function(w){return this.addPage(),this.movePage($,w),this},h.movePage=function(w,O){var ne,ae;if(w>O){ne=Te[w],ae=it[w];for(var ge=w;ge>O;ge--)Te[ge]=Te[ge-1],it[ge]=it[ge-1];Te[O]=ne,it[O]=ae,this.setPage(O)}else if(w<O){ne=Te[w],ae=it[w];for(var Ce=w;Ce<O;Ce++)Te[Ce]=Te[Ce+1],it[Ce]=it[Ce+1];Te[O]=ne,it[O]=ae,this.setPage(O)}return this},h.deletePage=function(){return bl.apply(this,arguments),this},h.__private__.text=h.text=function(w,O,ne,ae,ge){var Ce,Oe,Ke,Xe,dt,bt,Et,rr,kr,Vt=(ae=ae||{}).scope||this;if(typeof w=="number"&&typeof O=="number"&&(typeof ne=="string"||Array.isArray(ne))){var Er=ne;ne=O,O=w,w=Er}if(arguments[3]instanceof at==0?(Ke=arguments[4],Xe=arguments[5],Dt(Et=arguments[3])==="object"&&Et!==null||(typeof Ke=="string"&&(Xe=Ke,Ke=null),typeof Et=="string"&&(Xe=Et,Et=null),typeof Et=="number"&&(Ke=Et,Et=null),ae={flags:Et,angle:Ke,align:Xe})):(P("The transform parameter of text() with a Matrix value"),kr=ge),isNaN(O)||isNaN(ne)||w==null)throw new Error("Invalid arguments passed to jsPDF.text");if(w.length===0)return Vt;var Sr,Mr="",ns=typeof ae.lineHeightFactor=="number"?ae.lineHeightFactor:wa,ci=Vt.internal.scaleFactor;function is(Ot){return Ot=Ot.split("	").join(Array(ae.TabLen||9).join(" ")),Gn(Ot,Et)}function Ll(Ot){for(var $t,pr=Ot.concat(),Cr=[],os=pr.length;os--;)typeof($t=pr.shift())=="string"?Cr.push($t):Array.isArray(Ot)&&($t.length===1||$t[1]===void 0&&$t[2]===void 0)?Cr.push($t[0]):Cr.push([$t[0],$t[1],$t[2]]);return Cr}function mo(Ot,$t){var pr;if(typeof Ot=="string")pr=$t(Ot)[0];else if(Array.isArray(Ot)){for(var Cr,os,Ul=Ot.concat(),yo=[],wc=Ul.length;wc--;)typeof(Cr=Ul.shift())=="string"?yo.push($t(Cr)[0]):Array.isArray(Cr)&&typeof Cr[0]=="string"&&(os=$t(Cr[0],Cr[1],Cr[2]),yo.push([os[0],os[1],os[2]]));pr=yo}return pr}var js=!1,ka=!0;if(typeof w=="string")js=!0;else if(Array.isArray(w)){var Sa=w.concat();Oe=[];for(var Es,qr=Sa.length;qr--;)(typeof(Es=Sa.shift())!="string"||Array.isArray(Es)&&typeof Es[0]!="string")&&(ka=!1);js=ka}if(js===!1)throw new Error('Type of text must be string or Array. "'+w+'" is not recognized.');typeof w=="string"&&(w=w.match(/[\r?\n]/)?w.split(/\r\n|\r|\n/g):[w]);var Na=ee/Vt.internal.scaleFactor,Aa=Na*(ns-1);switch(ae.baseline){case"bottom":ne-=Aa;break;case"top":ne+=Na-Aa;break;case"hanging":ne+=Na-2*Aa;break;case"middle":ne+=Na/2-Aa}if((bt=ae.maxWidth||0)>0&&(typeof w=="string"?w=Vt.splitTextToSize(w,bt):Object.prototype.toString.call(w)==="[object Array]"&&(w=w.reduce(function(Ot,$t){return Ot.concat(Vt.splitTextToSize($t,bt))},[]))),Ce={text:w,x:O,y:ne,options:ae,mutex:{pdfEscape:Gn,activeFontKey:Me,fonts:gt,activeFontSize:ee}},Tt.publish("preProcessText",Ce),w=Ce.text,Ke=(ae=Ce.options).angle,kr instanceof at==0&&Ke&&typeof Ke=="number"){Ke*=Math.PI/180,ae.rotationDirection===0&&(Ke=-Ke),A===x&&(Ke=-Ke);var Pl=Math.cos(Ke),Tl=Math.sin(Ke);kr=new at(Pl,Tl,-Tl,Pl,0,0)}else Ke&&Ke instanceof at&&(kr=Ke);A!==x||kr||(kr=Ji),(dt=ae.charSpace||Qi)!==void 0&&(Mr+=D(M(dt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(rr=ae.horizontalScale)!==void 0&&(Mr+=D(100*rr)+` Tz
`),ae.lang;var ln=-1,ss=ae.renderingMode!==void 0?ae.renderingMode:ae.stroke,go=Vt.internal.getCurrentPageInfo().pageContext;switch(ss){case 0:case!1:case"fill":ln=0;break;case 1:case!0:case"stroke":ln=1;break;case 2:case"fillThenStroke":ln=2;break;case 3:case"invisible":ln=3;break;case 4:case"fillAndAddForClipping":ln=4;break;case 5:case"strokeAndAddPathForClipping":ln=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ln=6;break;case 7:case"addToPathForClipping":ln=7}var vc=go.usedRenderingMode!==void 0?go.usedRenderingMode:-1;ln!==-1?Mr+=ln+` Tr
`:vc!==-1&&(Mr+=`0 Tr
`),ln!==-1&&(go.usedRenderingMode=ln),Xe=ae.align||"left";var Jn,ja=ee*ns,Ol=Vt.internal.pageSize.getWidth(),Il=gt[Me];dt=ae.charSpace||Qi,bt=ae.maxWidth||0,Et=Object.assign({autoencode:!0,noBOM:!0},ae.flags);var Cs=[],Ea=function(Ot){return Vt.getStringUnitWidth(Ot,{font:Il,charSpace:dt,fontSize:ee,doKerning:!1})*ee/ci};if(Object.prototype.toString.call(w)==="[object Array]"){var Nn;Oe=Ll(w),Xe!=="left"&&(Jn=Oe.map(Ea));var An,Ls=0;if(Xe==="right"){O-=Jn[0],w=[],qr=Oe.length;for(var as=0;as<qr;as++)as===0?(An=Zi(O),Nn=Xi(ne)):(An=M(Ls-Jn[as]),Nn=-ja),w.push([Oe[as],An,Nn]),Ls=Jn[as]}else if(Xe==="center"){O-=Jn[0]/2,w=[],qr=Oe.length;for(var Ps=0;Ps<qr;Ps++)Ps===0?(An=Zi(O),Nn=Xi(ne)):(An=M((Ls-Jn[Ps])/2),Nn=-ja),w.push([Oe[Ps],An,Nn]),Ls=Jn[Ps]}else if(Xe==="left"){w=[],qr=Oe.length;for(var Rl=0;Rl<qr;Rl++)w.push(Oe[Rl])}else if(Xe==="justify"&&Il.encoding==="Identity-H"){w=[],qr=Oe.length,bt=bt!==0?bt:Ol;for(var vo=0,fr=0;fr<qr;fr++)if(Nn=fr===0?Xi(ne):-ja,An=fr===0?Zi(O):vo,fr<qr-1){var yc=M((bt-Jn[fr])/(Oe[fr].split(" ").length-1)),Ii=Oe[fr].split(" ");w.push([Ii[0]+" ",An,Nn]),vo=0;for(var Ri=1;Ri<Ii.length;Ri++){var zl=(Ea(Ii[Ri-1]+" "+Ii[Ri])-Ea(Ii[Ri]))*ci+yc;Ri==Ii.length-1?w.push([Ii[Ri],zl,0]):w.push([Ii[Ri]+" ",zl,0]),vo-=zl}}else w.push([Oe[fr],An,Nn]);w.push(["",vo,0])}else{if(Xe!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(w=[],qr=Oe.length,bt=bt!==0?bt:Ol,fr=0;fr<qr;fr++){Nn=fr===0?Xi(ne):-ja,An=fr===0?Zi(O):0;var Fl=Oe[fr].split(" ").length-1,Dl=Fl>0?(bt-Jn[fr])/Fl:0;fr<qr-1?Cs.push(D(M(Dl))):Cs.push(0),w.push([Oe[fr],An,Nn])}}}(typeof ae.R2L=="boolean"?ae.R2L:he)===!0&&(w=mo(w,function(Ot,$t,pr){return[Ot.split("").reverse().join(""),$t,pr]})),Ce={text:w,x:O,y:ne,options:ae,mutex:{pdfEscape:Gn,activeFontKey:Me,fonts:gt,activeFontSize:ee}},Tt.publish("postProcessText",Ce),w=Ce.text,Sr=Ce.mutex.isHex||!1;var Bl=gt[Me].encoding;Bl!=="WinAnsiEncoding"&&Bl!=="StandardEncoding"||(w=mo(w,function(Ot,$t,pr){return[is(Ot),$t,pr]})),Oe=Ll(w),w=[];for(var Ts,Os,Is,Ca=Array.isArray(Oe[0])?1:0,Rs="",La=function(Ot,$t,pr){var Cr="";return pr instanceof at?(pr=typeof ae.angle=="number"?Ki(pr,new at(1,0,0,1,Ot,$t)):Ki(new at(1,0,0,1,Ot,$t),pr),A===x&&(pr=Ki(new at(1,0,0,-1,0,0),pr)),Cr=pr.join(" ")+` Tm
`):Cr=D(Ot)+" "+D($t)+` Td
`,Cr},Yn=0;Yn<Oe.length;Yn++){switch(Rs="",Ca){case 1:Is=(Sr?"<":"(")+Oe[Yn][0]+(Sr?">":")"),Ts=parseFloat(Oe[Yn][1]),Os=parseFloat(Oe[Yn][2]);break;case 0:Is=(Sr?"<":"(")+Oe[Yn]+(Sr?">":")"),Ts=Zi(O),Os=Xi(ne)}Cs!==void 0&&Cs[Yn]!==void 0&&(Rs=Cs[Yn]+` Tw
`),Yn===0?w.push(Rs+La(Ts,Os,kr)+Is):Ca===0?w.push(Rs+Is):Ca===1&&w.push(Rs+La(Ts,Os,kr)+Is)}w=Ca===0?w.join(` Tj
T* `):w.join(` Tj
`),w+=` Tj
`;var zi=`BT
/`;return zi+=Me+" "+ee+` Tf
`,zi+=D(ee*ns)+` TL
`,zi+=_a+`
`,zi+=Mr,zi+=w,z(zi+="ET"),v[Me]=!0,Vt};var Od=h.__private__.clip=h.clip=function(w){return z(w==="evenodd"?"W*":"W"),this};h.clipEvenOdd=function(){return Od("evenodd")},h.__private__.discardPath=h.discardPath=function(){return z("n"),this};var Oi=h.__private__.isValidStyle=function(w){var O=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(w)!==-1&&(O=!0),O};h.__private__.setDefaultPathOperation=h.setDefaultPathOperation=function(w){return Oi(w)&&(u=w),this};var uc=h.__private__.getStyle=h.getStyle=function(w){var O=u;switch(w){case"D":case"S":O="S";break;case"F":O="f";break;case"FD":case"DF":O="B";break;case"f":case"f*":case"B":case"B*":O=w}return O},cc=h.close=function(){return z("h"),this};h.stroke=function(){return z("S"),this},h.fill=function(w){return ho("f",w),this},h.fillEvenOdd=function(w){return ho("f*",w),this},h.fillStroke=function(w){return ho("B",w),this},h.fillStrokeEvenOdd=function(w){return ho("B*",w),this};var ho=function(w,O){Dt(O)==="object"?Rd(O,w):z(w)},ya=function(w){w===null||A===x&&w===void 0||(w=uc(w),z(w))};function Id(w,O,ne,ae,ge){var Ce=new Jo(O||this.boundingBox,ne||this.xStep,ae||this.yStep,this.gState,ge||this.matrix);Ce.stream=this.stream;var Oe=w+"$$"+this.cloneIndex+++"$$";return Wn(Oe,Ce),Ce}var Rd=function(w,O){var ne=Ut[w.key],ae=rt[ne];if(ae instanceof Ma)z("q"),z(zd(O)),ae.gState&&h.setGState(ae.gState),z(w.matrix.toString()+" cm"),z("/"+ne+" sh"),z("Q");else if(ae instanceof Jo){var ge=new at(1,0,0,-1,0,xa());w.matrix&&(ge=ge.multiply(w.matrix||Ji),ne=Id.call(ae,w.key,w.boundingBox,w.xStep,w.yStep,ge).id),z("q"),z("/Pattern cs"),z("/"+ne+" scn"),ae.gState&&h.setGState(ae.gState),z(O),z("Q")}},zd=function(w){switch(w){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},xl=h.moveTo=function(w,O){return z(D(M(w))+" "+D(N(O))+" m"),this},hc=h.lineTo=function(w,O){return z(D(M(w))+" "+D(N(O))+" l"),this},ui=h.curveTo=function(w,O,ne,ae,ge,Ce){return z([D(M(w)),D(N(O)),D(M(ne)),D(N(ae)),D(M(ge)),D(N(Ce)),"c"].join(" ")),this};h.__private__.line=h.line=function(w,O,ne,ae,ge){if(isNaN(w)||isNaN(O)||isNaN(ne)||isNaN(ae)||!Oi(ge))throw new Error("Invalid arguments passed to jsPDF.line");return A===_?this.lines([[ne-w,ae-O]],w,O,[1,1],ge||"S"):this.lines([[ne-w,ae-O]],w,O,[1,1]).stroke()},h.__private__.lines=h.lines=function(w,O,ne,ae,ge,Ce){var Oe,Ke,Xe,dt,bt,Et,rr,kr,Vt,Er,Sr,Mr;if(typeof w=="number"&&(Mr=ne,ne=O,O=w,w=Mr),ae=ae||[1,1],Ce=Ce||!1,isNaN(O)||isNaN(ne)||!Array.isArray(w)||!Array.isArray(ae)||!Oi(ge)||typeof Ce!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(xl(O,ne),Oe=ae[0],Ke=ae[1],dt=w.length,Er=O,Sr=ne,Xe=0;Xe<dt;Xe++)(bt=w[Xe]).length===2?(Er=bt[0]*Oe+Er,Sr=bt[1]*Ke+Sr,hc(Er,Sr)):(Et=bt[0]*Oe+Er,rr=bt[1]*Ke+Sr,kr=bt[2]*Oe+Er,Vt=bt[3]*Ke+Sr,Er=bt[4]*Oe+Er,Sr=bt[5]*Ke+Sr,ui(Et,rr,kr,Vt,Er,Sr));return Ce&&cc(),ya(ge),this},h.path=function(w){for(var O=0;O<w.length;O++){var ne=w[O],ae=ne.c;switch(ne.op){case"m":xl(ae[0],ae[1]);break;case"l":hc(ae[0],ae[1]);break;case"c":ui.apply(this,ae);break;case"h":cc()}}return this},h.__private__.rect=h.rect=function(w,O,ne,ae,ge){if(isNaN(w)||isNaN(O)||isNaN(ne)||isNaN(ae)||!Oi(ge))throw new Error("Invalid arguments passed to jsPDF.rect");return A===_&&(ae=-ae),z([D(M(w)),D(N(O)),D(M(ne)),D(M(ae)),"re"].join(" ")),ya(ge),this},h.__private__.triangle=h.triangle=function(w,O,ne,ae,ge,Ce,Oe){if(isNaN(w)||isNaN(O)||isNaN(ne)||isNaN(ae)||isNaN(ge)||isNaN(Ce)||!Oi(Oe))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ne-w,ae-O],[ge-ne,Ce-ae],[w-ge,O-Ce]],w,O,[1,1],Oe,!0),this},h.__private__.roundedRect=h.roundedRect=function(w,O,ne,ae,ge,Ce,Oe){if(isNaN(w)||isNaN(O)||isNaN(ne)||isNaN(ae)||isNaN(ge)||isNaN(Ce)||!Oi(Oe))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Ke=4/3*(Math.SQRT2-1);return ge=Math.min(ge,.5*ne),Ce=Math.min(Ce,.5*ae),this.lines([[ne-2*ge,0],[ge*Ke,0,ge,Ce-Ce*Ke,ge,Ce],[0,ae-2*Ce],[0,Ce*Ke,-ge*Ke,Ce,-ge,Ce],[2*ge-ne,0],[-ge*Ke,0,-ge,-Ce*Ke,-ge,-Ce],[0,2*Ce-ae],[0,-Ce*Ke,ge*Ke,-Ce,ge,-Ce]],w+ge,O,[1,1],Oe,!0),this},h.__private__.ellipse=h.ellipse=function(w,O,ne,ae,ge){if(isNaN(w)||isNaN(O)||isNaN(ne)||isNaN(ae)||!Oi(ge))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ce=4/3*(Math.SQRT2-1)*ne,Oe=4/3*(Math.SQRT2-1)*ae;return xl(w+ne,O),ui(w+ne,O-Oe,w+Ce,O-ae,w,O-ae),ui(w-Ce,O-ae,w-ne,O-Oe,w-ne,O),ui(w-ne,O+Oe,w-Ce,O+ae,w,O+ae),ui(w+Ce,O+ae,w+ne,O+Oe,w+ne,O),ya(ge),this},h.__private__.circle=h.circle=function(w,O,ne,ae){if(isNaN(w)||isNaN(O)||isNaN(ne)||!Oi(ae))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(w,O,ne,ne,ae)},h.setFont=function(w,O,ne){return ne&&(O=B(O,ne)),Me=sc(w,O,{disableWarning:!1}),this};var Fd=h.__private__.getFont=h.getFont=function(){return gt[sc.apply(h,arguments)]};h.__private__.getFontList=h.getFontList=function(){var w,O,ne={};for(w in wt)if(wt.hasOwnProperty(w))for(O in ne[w]=[],wt[w])wt[w].hasOwnProperty(O)&&ne[w].push(O);return ne},h.addFont=function(w,O,ne,ae,ge){var Ce=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ce.indexOf(arguments[3])!==-1?ge=arguments[3]:arguments[3]&&Ce.indexOf(arguments[3])==-1&&(ne=B(ne,ae)),tc.call(this,w,O,ne,ge=ge||"Identity-H")};var wa,kl=t.lineWidth||.200025,Dd=h.__private__.getLineWidth=h.getLineWidth=function(){return kl},pt=h.__private__.setLineWidth=h.setLineWidth=function(w){return kl=w,z(D(M(w))+" w"),this};h.__private__.setLineDash=tt.API.setLineDash=tt.API.setLineDashPattern=function(w,O){if(w=w||[],O=O||0,isNaN(O)||!Array.isArray(w))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return w=w.map(function(ne){return D(M(ne))}).join(" "),O=D(M(O)),z("["+w+"] "+O+" d"),this};var Bd=h.__private__.getLineHeight=h.getLineHeight=function(){return ee*wa};h.__private__.getLineHeight=h.getLineHeight=function(){return ee*wa};var Ud=h.__private__.setLineHeightFactor=h.setLineHeightFactor=function(w){return typeof(w=w||1.15)=="number"&&(wa=w),this},Md=h.__private__.getLineHeightFactor=h.getLineHeightFactor=function(){return wa};Ud(t.lineHeight);var Zi=h.__private__.getHorizontalCoordinate=function(w){return M(w)},Xi=h.__private__.getVerticalCoordinate=function(w){return A===x?w:it[$].mediaBox.topRightY-it[$].mediaBox.bottomLeftY-M(w)},qd=h.__private__.getHorizontalCoordinateString=h.getHorizontalCoordinateString=function(w){return D(Zi(w))},$d=h.__private__.getVerticalCoordinateString=h.getVerticalCoordinateString=function(w){return D(Xi(w))},fo=t.strokeColor||"0 G";h.__private__.getStrokeColor=h.getDrawColor=function(){return Ci(fo)},h.__private__.setStrokeColor=h.setDrawColor=function(w,O,ne,ae){return fo=oi({ch1:w,ch2:O,ch3:ne,ch4:ae,pdfColorType:"draw",precision:2}),z(fo),this};var Sl=t.fillColor||"0 g";h.__private__.getFillColor=h.getFillColor=function(){return Ci(Sl)},h.__private__.setFillColor=h.setFillColor=function(w,O,ne,ae){return Sl=oi({ch1:w,ch2:O,ch3:ne,ch4:ae,pdfColorType:"fill",precision:2}),z(Sl),this};var _a=t.textColor||"0 g",Wd=h.__private__.getTextColor=h.getTextColor=function(){return Ci(_a)};h.__private__.setTextColor=h.setTextColor=function(w,O,ne,ae){return _a=oi({ch1:w,ch2:O,ch3:ne,ch4:ae,pdfColorType:"text",precision:3}),this};var Qi=t.charSpace,Hd=h.__private__.getCharSpace=h.getCharSpace=function(){return parseFloat(Qi||0)};h.__private__.setCharSpace=h.setCharSpace=function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Qi=w,this};var Nl=0;h.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},h.__private__.setLineCap=h.setLineCap=function(w){var O=h.CapJoinStyles[w];if(O===void 0)throw new Error("Line cap style of '"+w+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Nl=O,z(O+" J"),this};var Al=0;h.__private__.setLineJoin=h.setLineJoin=function(w){var O=h.CapJoinStyles[w];if(O===void 0)throw new Error("Line join style of '"+w+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Al=O,z(O+" j"),this},h.__private__.setLineMiterLimit=h.__private__.setMiterLimit=h.setLineMiterLimit=h.setMiterLimit=function(w){if(w=w||0,isNaN(w))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return z(D(M(w))+" M"),this},h.GState=od,h.setGState=function(w){(w=typeof w=="string"?st[ft[w]]:dc(null,w)).equals(qt)||(z("/"+w.id+" gs"),qt=w)};var dc=function(w,O){if(!w||!ft[w]){var ne=!1;for(var ae in st)if(st.hasOwnProperty(ae)&&st[ae].equals(O)){ne=!0;break}if(ne)O=st[ae];else{var ge="GS"+(Object.keys(st).length+1).toString(10);st[ge]=O,O.id=ge}return w&&(ft[w]=O.id),Tt.publish("addGState",O),O}};h.addGState=function(w,O){return dc(w,O),this},h.saveGraphicsState=function(){return z("q"),At.push({key:Me,size:ee,color:_a}),this},h.restoreGraphicsState=function(){z("Q");var w=At.pop();return Me=w.key,ee=w.size,_a=w.color,qt=null,this},h.setCurrentTransformationMatrix=function(w){return z(w.toString()+" cm"),this},h.comment=function(w){return z("#"+w),this};var es=function(w,O){var ne=w||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ne},set:function(Ce){isNaN(Ce)||(ne=parseFloat(Ce))}});var ae=O||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ae},set:function(Ce){isNaN(Ce)||(ae=parseFloat(Ce))}});var ge="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ge},set:function(Ce){ge=Ce.toString()}}),this},jl=function(w,O,ne,ae){es.call(this,w,O),this.type="rect";var ge=ne||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ge},set:function(Oe){isNaN(Oe)||(ge=parseFloat(Oe))}});var Ce=ae||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ce},set:function(Oe){isNaN(Oe)||(Ce=parseFloat(Oe))}}),this},po=function(){this.page=vt,this.currentPage=$,this.pages=Te.slice(0),this.pagesContext=it.slice(0),this.x=$e,this.y=Mt,this.matrix=nt,this.width=Cl($),this.height=pc($),this.outputDestination=Se,this.id="",this.objectNumber=-1};po.prototype.restore=function(){vt=this.page,$=this.currentPage,it=this.pagesContext,Te=this.pages,$e=this.x,Mt=this.y,nt=this.matrix,fc($,this.width),ts($,this.height),Se=this.outputDestination};var El=function(w,O,ne,ae,ge){Ei.push(new po),vt=$=0,Te=[],$e=w,Mt=O,nt=ge,_l([ne,ae])};for(var ba in h.beginFormObject=function(w,O,ne,ae,ge){return El(w,O,ne,ae,ge),this},h.endFormObject=function(w){return function(O){if(Gi[O])Ei.pop().restore();else{var ne=new po,ae="Xo"+(Object.keys(Zr).length+1).toString(10);ne.id=ae,Gi[O]=ae,Zr[ae]=ne,Tt.publish("addFormObject",ne),Ei.pop().restore()}}(w),this},h.doFormObject=function(w,O){var ne=Zr[Gi[w]];return z("q"),z(O.toString()+" cm"),z("/"+ne.id+" Do"),z("Q"),this},h.getFormObject=function(w){var O=Zr[Gi[w]];return{x:O.x,y:O.y,width:O.width,height:O.height,matrix:O.matrix}},h.save=function(w,O){return w=w||"generated.pdf",(O=O||{}).returnPromise=O.returnPromise||!1,O.returnPromise===!1?(Da(co(Ti()),w),typeof Da.unload=="function"&&ht.setTimeout&&setTimeout(Da.unload,911),this):new Promise(function(ne,ae){try{var ge=Da(co(Ti()),w);typeof Da.unload=="function"&&ht.setTimeout&&setTimeout(Da.unload,911),ne(ge)}catch(Ce){ae(Ce.message)}})},tt.API)tt.API.hasOwnProperty(ba)&&(ba==="events"&&tt.API.events.length?function(w,O){var ne,ae,ge;for(ge=O.length-1;ge!==-1;ge--)ne=O[ge][0],ae=O[ge][1],w.subscribe.apply(w,[ne].concat(typeof ae=="function"?[ae]:ae))}(Tt,tt.API.events):h[ba]=tt.API[ba]);function Cl(w){return it[w].mediaBox.topRightX-it[w].mediaBox.bottomLeftX}function fc(w,O){it[w].mediaBox.topRightX=O+it[w].mediaBox.bottomLeftX}function pc(w){return it[w].mediaBox.topRightY-it[w].mediaBox.bottomLeftY}function ts(w,O){it[w].mediaBox.topRightY=O+it[w].mediaBox.bottomLeftY}var rs=h.getPageWidth=function(w){return Cl(w=w||$)/ct},mc=h.setPageWidth=function(w,O){fc(w,O*ct)},xa=h.getPageHeight=function(w){return pc(w=w||$)/ct},gc=h.setPageHeight=function(w,O){ts(w,O*ct)};return h.internal={pdfEscape:Gn,getStyle:uc,getFont:Fd,getFontSize:_e,getCharSpace:Hd,getTextColor:Wd,getLineHeight:Bd,getLineHeightFactor:Md,getLineWidth:Dd,write:le,getHorizontalCoordinate:Zi,getVerticalCoordinate:Xi,getCoordinateString:qd,getVerticalCoordinateString:$d,collections:{},newObject:or,newAdditionalObject:ma,newObjectDeferred:zr,newObjectDeferredBegin:Ur,getFilters:li,putStream:Vn,events:Tt,scaleFactor:ct,pageSize:{getWidth:function(){return rs($)},setWidth:function(w){mc($,w)},getHeight:function(){return xa($)},setHeight:function(w){gc($,w)}},encryptionOptions:d,encryption:jr,getEncryptor:function(w){return d!==null?jr.encryptor(w,0):function(O){return O}},output:oc,getNumberOfPages:ic,get pages(){return Te},out:z,f2:I,f3:L,getPageInfo:Yi,getPageInfoByObjId:lc,getCurrentPageInfo:Td,getPDFVersion:y,Point:es,Rectangle:jl,Matrix:at,hasHotfix:Kn},Object.defineProperty(h.internal.pageSize,"width",{get:function(){return rs($)},set:function(w){mc($,w)},enumerable:!0,configurable:!0}),Object.defineProperty(h.internal.pageSize,"height",{get:function(){return xa($)},set:function(w){gc($,w)},enumerable:!0,configurable:!0}),(function(w){for(var O=0,ne=H.length;O<ne;O++){var ae=tc.call(this,w[O][0],w[O][1],w[O][2],H[O][3],!0);m===!1&&(v[ae]=!0);var ge=w[O][0].split("-");ec({id:ae,fontName:ge[0],fontStyle:ge[1]||""})}Tt.publish("addFonts",{fonts:gt,dictionary:wt})}).call(h,H),Me="F1",rc(i,r),Tt.publish("initialized"),h}Io.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},Io.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Io.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},Io.prototype.processOwnerPassword=function(t,e){return S0(k0(e).substr(0,5),t)},Io.prototype.encryptor=function(t,e){var r=k0(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return S0(r,n)}},od.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||Dt(t)!==Dt(this))return!1;var n=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;n++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&n--;return n===0},tt.API={events:[]},tt.version="4.0.0";var cr=tt.API,L1=1,so=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Eo=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},yt=function(t){return t.toFixed(2)},Ws=function(t){return t.toFixed(5)};cr.__acroform__={};var Sn=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},$g=function(t){return t*L1},Bi=function(t){var e=new Sw,r=Ve.internal.getHeight(t)||0,n=Ve.internal.getWidth(t)||0;return e.BBox=[0,0,Number(yt(n)),Number(yt(r))],e},zS=cr.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},FS=cr.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},DS=cr.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},yr=cr.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return DS(t,e-1)},wr=cr.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return zS(t,e-1)},_r=cr.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return FS(t,e-1)},BS=cr.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,i=t[0],s=t[1],a=t[2],o=t[3],l={};return l.lowerLeft_X=r(i)||0,l.lowerLeft_Y=n(s+o)||0,l.upperRight_X=r(i+a)||0,l.upperRight_Y=n(s)||0,[Number(yt(l.lowerLeft_X)),Number(yt(l.lowerLeft_Y)),Number(yt(l.upperRight_X)),Number(yt(l.upperRight_Y))]},US=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,n=N0(t,r),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+yt(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=Bi(t);return s.scope=t.scope,s.stream=e.join(`
`),s}},N0=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,n={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(I){return I.split(`
`)}):i.map(function(I){return[I]});var s=r,a=Ve.internal.getHeight(t)||0;a=a<0?-a:a;var o=Ve.internal.getWidth(t)||0;o=o<0?-o:o;var l=function(I,L,M){if(I+1<i.length){var N=L+" "+i[I+1][0];return ch(N,t,M).width<=o-4}return!1};s++;e:for(;s>0;){e="",s--;var u,d,m=ch("3",t,s).height,v=t.multiline?a-s:(a-m)/2,h=v+=2,b=0,y=0,k=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+ch(e,t,s=12).width+", FieldWidth:"+o+`
`;break}for(var g="",_=0,x=0;x<i.length;x++)if(i.hasOwnProperty(x)){var A=!1;if(i[x].length!==1&&k!==i[x].length-1){if((m+2)*(_+2)+2>a)continue e;g+=i[x][k],A=!0,y=x,x--}else{g=(g+=i[x][k]+" ").substr(g.length-1)==" "?g.substr(0,g.length-1):g;var T=parseInt(x),q=l(T,g,s),B=x>=i.length-1;if(q&&!B){g+=" ",k=0;continue}if(q||B){if(B)y=T;else if(t.multiline&&(m+2)*(_+2)+2>a)continue e}else{if(!t.multiline||(m+2)*(_+2)+2>a)continue e;y=T}}for(var D="",P=b;P<=y;P++){var G=i[P];if(t.multiline){if(P===y){D+=G[k]+" ",k=(k+1)%G.length;continue}if(P===b){D+=G[G.length-1]+" ";continue}}D+=G[0]+" "}switch(D=D.substr(D.length-1)==" "?D.substr(0,D.length-1):D,d=ch(D,t,s).width,t.textAlign){case"right":u=o-d-2;break;case"center":u=(o-d)/2;break;default:u=2}e+=yt(u)+" "+yt(h)+` Td
`,e+="("+so(D)+`) Tj
`,e+=-yt(u)+` 0 Td
`,h=-(s+2),d=0,b=A?y:y+1,_++,g=""}break}return n.text=e,n.fontSize=s,n},ch=function(t,e,r){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:i}},MS={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},qS=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},$S=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Ai.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(MS)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");L1=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new Nw,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in n)if(n.hasOwnProperty(i)){var s=n[i];s.objId=void 0,s.hasAnnotation&&qS(s,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(n,i){var s=!n;for(var a in n||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(a)){var o=n[a],l=[],u=o.Rect;if(o.Rect&&(o.Rect=BS(o.Rect,i)),i.internal.newObjectDeferredBegin(o.objId,!0),o.DA=Ve.createDefaultAppearanceStream(o),Dt(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(l=o.getKeyValueListForStream()),o.Rect=u,o.hasAppearanceStream&&!o.appearanceStreamContent){var d=US(o);l.push({key:"AP",value:"<</N "+d+">>"}),i.internal.acroformPlugin.xForms.push(d)}if(o.appearanceStreamContent){var m="";for(var v in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(v)){var h=o.appearanceStreamContent[v];if(m+="/"+v+" ",m+="<<",Object.keys(h).length>=1||Array.isArray(h)){for(var a in h)if(h.hasOwnProperty(a)){var b=h[a];typeof b=="function"&&(b=b.call(i,o)),m+="/"+a+" "+b+" ",i.internal.acroformPlugin.xForms.indexOf(b)>=0||i.internal.acroformPlugin.xForms.push(b)}}else typeof(b=h)=="function"&&(b=b.call(i,o)),m+="/"+a+" "+b,i.internal.acroformPlugin.xForms.indexOf(b)>=0||i.internal.acroformPlugin.xForms.push(b);m+=">>"}l.push({key:"AP",value:`<<
`+m+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:o.objId}),i.internal.out("endobj")}s&&function(y,k){for(var g in y)if(y.hasOwnProperty(g)){var _=g,x=y[g];k.internal.newObjectDeferredBegin(x.objId,!0),Dt(x)==="object"&&typeof x.putStream=="function"&&x.putStream(),delete y[_]}}(i.internal.acroformPlugin.xForms,i)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},kw=cr.__acroform__.arrayToPdfArray=function(t,e,r){var n=function(a){return a};if(Array.isArray(t)){for(var i="[",s=0;s<t.length;s++)switch(s!==0&&(i+=" "),Dt(t[s])){case"boolean":case"number":case"object":i+=t[s].toString();break;case"string":t[s].substr(0,1)!=="/"?(e!==void 0&&r&&(n=r.internal.getEncryptor(e)),i+="("+so(n(t[s].toString()))+")"):i+=t[s].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},op=function(t,e,r){var n=function(i){return i};return e!==void 0&&r&&(n=r.internal.getEncryptor(e)),(t=t||"").toString(),"("+so(n(t))+")"},qi=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};qi.prototype.toString=function(){return this.objId+" 0 R"},qi.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},qi.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var n=e[r],i=this[n];i&&(Array.isArray(i)?t.push({key:n,value:kw(i,this.objId,this.scope)}):i instanceof qi?(i.scope=this.scope,t.push({key:n,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:n,value:i}))}return t};var Sw=function(){qi.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};Sn(Sw,qi);var Nw=function(){qi.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+so(r(t))+")"}},set:function(r){t=r}})};Sn(Nw,qi);var Ai=function t(){qi.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(g){if(isNaN(g))throw new Error('Invalid value "'+g+'" for attribute F supplied.');e=g}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!yr(e,3)},set:function(g){g?this.F=wr(e,3):this.F=_r(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(g){if(isNaN(g))throw new Error('Invalid value "'+g+'" for attribute Ff supplied.');r=g}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(g){n=g!==void 0?g:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(g){n[0]=g}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(g){n[1]=g}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(g){n[2]=g}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(g){n[3]=g}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(g){switch(g){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=g;break;default:throw new Error('Invalid value "'+g+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof ld)return;s="FieldObject"+t.FieldNum++}var g=function(_){return _};return this.scope&&(g=this.scope.internal.getEncryptor(this.objId)),"("+so(g(s))+")"},set:function(g){s=g.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(g){s=g}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(g){a=g}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(g){o=g}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(g){l=g}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/L1:u},set:function(g){u=g}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(g){d=g}});var m="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!m||this instanceof ld||this instanceof Ka))return op(m,this.objId,this.scope)},set:function(g){g=g.toString(),m=g}});var v=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(v)return this instanceof Dr==0?op(v,this.objId,this.scope):v},set:function(g){g=g.toString(),v=this instanceof Dr==0?g.substr(0,1)==="("?Eo(g.substr(1,g.length-2)):Eo(g):g}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Dr==1?Eo(v.substr(1,v.length-1)):v},set:function(g){g=g.toString(),v=this instanceof Dr==1?"/"+g:g}});var h=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(h)return h},set:function(g){this.V=g}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof Dr==0?op(h,this.objId,this.scope):h},set:function(g){g=g.toString(),h=this instanceof Dr==0?g.substr(0,1)==="("?Eo(g.substr(1,g.length-2)):Eo(g):g}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Dr==1?Eo(h.substr(1,h.length-1)):h},set:function(g){g=g.toString(),h=this instanceof Dr==1?"/"+g:g}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var b,y=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return y},set:function(g){g=!!g,y=g}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(b)return b},set:function(g){b=g}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,1)},set:function(g){g?this.Ff=wr(this.Ff,1):this.Ff=_r(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,2)},set:function(g){g?this.Ff=wr(this.Ff,2):this.Ff=_r(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,3)},set:function(g){g?this.Ff=wr(this.Ff,3):this.Ff=_r(this.Ff,3)}});var k=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(k!==null)return k},set:function(g){if([0,1,2].indexOf(g)===-1)throw new Error('Invalid value "'+g+'" for attribute Q supplied.');k=g}}),Object.defineProperty(this,"textAlign",{get:function(){var g;switch(k){case 0:default:g="left";break;case 1:g="center";break;case 2:g="right"}return g},configurable:!0,enumerable:!0,set:function(g){switch(g){case"right":case 2:k=2;break;case"center":case 1:k=1;break;default:k=0}}})};Sn(Ai,qi);var il=function(){Ai.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return kw(e,this.objId,this.scope)},set:function(r){var n,i;i=[],typeof(n=r)=="string"&&(i=function(s,a,o){o||(o=1);for(var l,u=[];l=a.exec(s);)u.push(l[o]);return u}(n,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,18)},set:function(r){r?this.Ff=wr(this.Ff,18):this.Ff=_r(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=wr(this.Ff,19):this.Ff=_r(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,20)},set:function(r){r?(this.Ff=wr(this.Ff,20),e.sort()):this.Ff=_r(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,22)},set:function(r){r?this.Ff=wr(this.Ff,22):this.Ff=_r(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,23)},set:function(r){r?this.Ff=wr(this.Ff,23):this.Ff=_r(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,27)},set:function(r){r?this.Ff=wr(this.Ff,27):this.Ff=_r(this.Ff,27)}}),this.hasAppearanceStream=!1};Sn(il,Ai);var sl=function(){il.call(this),this.fontName="helvetica",this.combo=!1};Sn(sl,il);var al=function(){sl.call(this),this.combo=!0};Sn(al,sl);var Eh=function(){al.call(this),this.edit=!0};Sn(Eh,al);var Dr=function(){Ai.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,15)},set:function(r){r?this.Ff=wr(this.Ff,15):this.Ff=_r(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,16)},set:function(r){r?this.Ff=wr(this.Ff,16):this.Ff=_r(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,17)},set:function(r){r?this.Ff=wr(this.Ff,17):this.Ff=_r(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,26)},set:function(r){r?this.Ff=wr(this.Ff,26):this.Ff=_r(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(s){return s};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,i=[];for(n in i.push("<<"),e)i.push("/"+n+" ("+so(r(e[n]))+")");return i.push(">>"),i.join(`
`)}},set:function(r){Dt(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};Sn(Dr,Ai);var Ch=function(){Dr.call(this),this.pushButton=!0};Sn(Ch,Dr);var ol=function(){Dr.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Sn(ol,Dr);var ld=function(){var t,e;Ai.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(o){return o};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,a=[];for(s in a.push("<<"),n)a.push("/"+s+" ("+so(i(n[s]))+")");return a.push(">>"),a.join(`
`)},set:function(i){Dt(i)==="object"&&(n=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(i){typeof i=="string"&&(n.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(i){r="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Ve.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Sn(ld,Ai),ol.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},ol.prototype.createOption=function(t){var e=new ld;return e.Parent=this,e.optionName=t,this.Kids.push(e),WS.call(this.scope,e),e};var Lh=function(){Dr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Ve.CheckBox.createAppearanceStream()};Sn(Lh,Dr);var Ka=function(){Ai.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,13)},set:function(e){e?this.Ff=wr(this.Ff,13):this.Ff=_r(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,21)},set:function(e){e?this.Ff=wr(this.Ff,21):this.Ff=_r(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,23)},set:function(e){e?this.Ff=wr(this.Ff,23):this.Ff=_r(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,24)},set:function(e){e?this.Ff=wr(this.Ff,24):this.Ff=_r(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,25)},set:function(e){e?this.Ff=wr(this.Ff,25):this.Ff=_r(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,26)},set:function(e){e?this.Ff=wr(this.Ff,26):this.Ff=_r(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Sn(Ka,Ai);var Ph=function(){Ka.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!yr(this.Ff,14)},set:function(t){t?this.Ff=wr(this.Ff,14):this.Ff=_r(this.Ff,14)}}),this.password=!0};Sn(Ph,Ka);var Ve={CheckBox:{createAppearanceStream:function(){return{N:{On:Ve.CheckBox.YesNormal},D:{On:Ve.CheckBox.YesPushDown,Off:Ve.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Bi(t);e.scope=t.scope;var r=[],n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),s=N0(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+yt(Ve.internal.getWidth(t))+" "+yt(Ve.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+yt(s.fontSize)+" Tf "+i),r.push("BT"),r.push(s.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=Bi(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),i=[],s=Ve.internal.getHeight(t),a=Ve.internal.getWidth(t),o=N0(t,t.caption);return i.push("1 g"),i.push("0 0 "+yt(a)+" "+yt(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+yt(a-1)+" "+yt(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+r+" "+yt(o.fontSize)+" Tf "+n),i.push(o.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=Bi(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+yt(Ve.internal.getWidth(t))+" "+yt(Ve.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:Ve.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=Ve.RadioButton.Circle.YesNormal,e.D[t]=Ve.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Bi(t);e.scope=t.scope;var r=[],n=Ve.internal.getWidth(t)<=Ve.internal.getHeight(t)?Ve.internal.getWidth(t)/4:Ve.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Ve.internal.Bezier_C,s=Number((n*i).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Ws(Ve.internal.getWidth(t)/2)+" "+Ws(Ve.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=Bi(t);e.scope=t.scope;var r=[],n=Ve.internal.getWidth(t)<=Ve.internal.getHeight(t)?Ve.internal.getWidth(t)/4:Ve.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),s=Number((i*Ve.internal.Bezier_C).toFixed(5)),a=Number((n*Ve.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Ws(Ve.internal.getWidth(t)/2)+" "+Ws(Ve.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),r.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),r.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),r.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Ws(Ve.internal.getWidth(t)/2)+" "+Ws(Ve.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),r.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),r.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),r.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=Bi(t);e.scope=t.scope;var r=[],n=Ve.internal.getWidth(t)<=Ve.internal.getHeight(t)?Ve.internal.getWidth(t)/4:Ve.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),s=Number((i*Ve.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Ws(Ve.internal.getWidth(t)/2)+" "+Ws(Ve.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),r.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),r.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),r.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:Ve.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=Ve.RadioButton.Cross.YesNormal,e.D[t]=Ve.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Bi(t);e.scope=t.scope;var r=[],n=Ve.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+yt(Ve.internal.getWidth(t)-2)+" "+yt(Ve.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(yt(n.x1.x)+" "+yt(n.x1.y)+" m"),r.push(yt(n.x2.x)+" "+yt(n.x2.y)+" l"),r.push(yt(n.x4.x)+" "+yt(n.x4.y)+" m"),r.push(yt(n.x3.x)+" "+yt(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=Bi(t);e.scope=t.scope;var r=Ve.internal.calculateCross(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+yt(Ve.internal.getWidth(t))+" "+yt(Ve.internal.getHeight(t))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+yt(Ve.internal.getWidth(t)-2)+" "+yt(Ve.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(yt(r.x1.x)+" "+yt(r.x1.y)+" m"),n.push(yt(r.x2.x)+" "+yt(r.x2.y)+" l"),n.push(yt(r.x4.x)+" "+yt(r.x4.y)+" m"),n.push(yt(r.x3.x)+" "+yt(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=Bi(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+yt(Ve.internal.getWidth(t))+" "+yt(Ve.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};Ve.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=Ve.internal.getWidth(t),r=Ve.internal.getHeight(t),n=Math.min(e,r);return{x1:{x:(e-n)/2,y:(r-n)/2+n},x2:{x:(e-n)/2+n,y:(r-n)/2},x3:{x:(e-n)/2,y:(r-n)/2},x4:{x:(e-n)/2+n,y:(r-n)/2+n}}}},Ve.internal.getWidth=function(t){var e=0;return Dt(t)==="object"&&(e=$g(t.Rect[2])),e},Ve.internal.getHeight=function(t){var e=0;return Dt(t)==="object"&&(e=$g(t.Rect[3])),e};var WS=cr.addField=function(t){if($S(this,t),!(t instanceof Ai))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};cr.AcroFormChoiceField=il,cr.AcroFormListBox=sl,cr.AcroFormComboBox=al,cr.AcroFormEditBox=Eh,cr.AcroFormButton=Dr,cr.AcroFormPushButton=Ch,cr.AcroFormRadioButton=ol,cr.AcroFormCheckBox=Lh,cr.AcroFormTextField=Ka,cr.AcroFormPasswordField=Ph,cr.AcroFormAppearance=Ve,cr.AcroForm={ChoiceField:il,ListBox:sl,ComboBox:al,EditBox:Eh,Button:Dr,PushButton:Ch,RadioButton:ol,CheckBox:Lh,TextField:Ka,PasswordField:Ph,Appearance:Ve},tt.AcroForm={ChoiceField:il,ListBox:sl,ComboBox:al,EditBox:Eh,Button:Dr,PushButton:Ch,RadioButton:ol,CheckBox:Lh,TextField:Ka,PasswordField:Ph,Appearance:Ve};tt.AcroForm;function Aw(t){return t.reduce(function(e,r,n){return e[r]=n,e},{})}(function(t){var e="addImage_";t.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=t.__addimage__.getImageFileTypeByImageData=function(I,L){var M,N,Q,fe,se,ie=r;if((L=L||r)==="RGBA"||I.data!==void 0&&I.data instanceof Uint8ClampedArray&&"height"in I&&"width"in I)return"RGBA";if(q(I))for(se in n)for(Q=n[se],M=0;M<Q.length;M+=1){for(fe=!0,N=0;N<Q[M].length;N+=1)if(Q[M][N]!==void 0&&Q[M][N]!==I[N]){fe=!1;break}if(fe===!0){ie=se;break}}else for(se in n)for(Q=n[se],M=0;M<Q.length;M+=1){for(fe=!0,N=0;N<Q[M].length;N+=1)if(Q[M][N]!==void 0&&Q[M][N]!==I.charCodeAt(N)){fe=!1;break}if(fe===!0){ie=se;break}}return ie===r&&L!==r&&(ie=L),ie},s=function I(L){for(var M=this.internal.write,N=this.internal.putStream,Q=(0,this.internal.getFilters)();Q.indexOf("FlateEncode")!==-1;)Q.splice(Q.indexOf("FlateEncode"),1);L.objectId=this.internal.newObject();var fe=[];if(fe.push({key:"Type",value:"/XObject"}),fe.push({key:"Subtype",value:"/Image"}),fe.push({key:"Width",value:L.width}),fe.push({key:"Height",value:L.height}),L.colorSpace===g.INDEXED?fe.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(L.palette.length/3-1)+" "+("sMask"in L&&L.sMask!==void 0?L.objectId+2:L.objectId+1)+" 0 R]"}):(fe.push({key:"ColorSpace",value:"/"+L.colorSpace}),L.colorSpace===g.DEVICE_CMYK&&fe.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),fe.push({key:"BitsPerComponent",value:L.bitsPerComponent}),"decodeParameters"in L&&L.decodeParameters!==void 0&&fe.push({key:"DecodeParms",value:"<<"+L.decodeParameters+">>"}),"transparency"in L&&Array.isArray(L.transparency)&&L.transparency.length>0){for(var se="",ie=0,K=L.transparency.length;ie<K;ie++)se+=L.transparency[ie]+" "+L.transparency[ie]+" ";fe.push({key:"Mask",value:"["+se+"]"})}L.sMask!==void 0&&fe.push({key:"SMask",value:L.objectId+1+" 0 R"});var ue=L.filter!==void 0?["/"+L.filter]:void 0;if(N({data:L.data,additionalKeyValues:fe,alreadyAppliedFilters:ue,objectId:L.objectId}),M("endobj"),"sMask"in L&&L.sMask!==void 0){var Y,E=(Y=L.sMaskBitsPerComponent)!==null&&Y!==void 0?Y:L.bitsPerComponent,$={width:L.width,height:L.height,colorSpace:"DeviceGray",bitsPerComponent:E,data:L.sMask};"filter"in L&&($.decodeParameters="/Predictor ".concat(L.predictor," /Colors 1 /BitsPerComponent ").concat(E," /Columns ").concat(L.width),$.filter=L.filter),I.call(this,$)}if(L.colorSpace===g.INDEXED){var V=this.internal.newObject();N({data:D(new Uint8Array(L.palette)),objectId:V}),M("endobj")}},a=function(){var I=this.internal.collections[e+"images"];for(var L in I)s.call(this,I[L])},o=function(){var I,L=this.internal.collections[e+"images"],M=this.internal.write;for(var N in L)M("/I"+(I=L[N]).index,I.objectId,"0","R")},l=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",o))},u=function(){var I=this.internal.collections[e+"images"];return l.call(this),I},d=function(){return Object.keys(this.internal.collections[e+"images"]).length},m=function(I){return typeof t["process"+I.toUpperCase()]=="function"},v=function(I){return Dt(I)==="object"&&I.nodeType===1},h=function(I,L){if(I.nodeName==="IMG"&&I.hasAttribute("src")){var M=""+I.getAttribute("src");if(M.indexOf("data:image/")===0)return jh(unescape(M).split("base64,").pop());var N=t.loadFile(M,!0);if(N!==void 0)return N}if(I.nodeName==="CANVAS"){if(I.width===0||I.height===0)throw new Error("Given canvas must have data. Canvas width: "+I.width+", height: "+I.height);var Q;switch(L){case"PNG":Q="image/png";break;case"WEBP":Q="image/webp";break;default:Q="image/jpeg"}return jh(I.toDataURL(Q,1).split("base64,").pop())}},b=function(I){var L=this.internal.collections[e+"images"];if(L){for(var M in L)if(I===L[M].alias)return L[M]}},y=function(I,L,M){return I||L||(I=-96,L=-96),I<0&&(I=-1*M.width*72/I/this.internal.scaleFactor),L<0&&(L=-1*M.height*72/L/this.internal.scaleFactor),I===0&&(I=L*M.width/M.height),L===0&&(L=I*M.height/M.width),[I,L]},k=function(I,L,M,N,Q,fe){var se=y.call(this,M,N,Q),ie=this.internal.getCoordinateString,K=this.internal.getVerticalCoordinateString,ue=u.call(this);if(M=se[0],N=se[1],ue[Q.index]=Q,fe){fe*=Math.PI/180;var Y=Math.cos(fe),E=Math.sin(fe),$=function(Z){return Z.toFixed(4)},V=[$(Y),$(E),$(-1*E),$(Y),0,0,"cm"]}this.internal.write("q"),fe?(this.internal.write([1,"0","0",1,ie(I),K(L+N),"cm"].join(" ")),this.internal.write(V.join(" ")),this.internal.write([ie(M),"0","0",ie(N),"0","0","cm"].join(" "))):this.internal.write([ie(M),"0","0",ie(N),ie(I),K(L+N),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Q.index+" Do"),this.internal.write("Q")},g=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var _=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},x=t.__addimage__.sHashCode=function(I){var L,M,N=0;if(typeof I=="string")for(M=I.length,L=0;L<M;L++)N=(N<<5)-N+I.charCodeAt(L),N|=0;else if(q(I))for(M=I.byteLength/2,L=0;L<M;L++)N=(N<<5)-N+I[L],N|=0;return N},A=t.__addimage__.validateStringAsBase64=function(I){(I=I||"").toString().trim();var L=!0;return I.length===0&&(L=!1),I.length%4!=0&&(L=!1),/^[A-Za-z0-9+/]+$/.test(I.substr(0,I.length-2))===!1&&(L=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(I.substr(-2))===!1&&(L=!1),L},T=t.__addimage__.extractImageFromDataUrl=function(I){if(I==null||!(I=I.trim()).startsWith("data:"))return null;var L=I.indexOf(",");return L<0?null:I.substring(0,L).trim().endsWith("base64")?I.substring(L+1):null};t.__addimage__.isArrayBuffer=function(I){return I instanceof ArrayBuffer};var q=t.__addimage__.isArrayBufferView=function(I){return I instanceof Int8Array||I instanceof Uint8Array||I instanceof Uint8ClampedArray||I instanceof Int16Array||I instanceof Uint16Array||I instanceof Int32Array||I instanceof Uint32Array||I instanceof Float32Array||I instanceof Float64Array},B=t.__addimage__.binaryStringToUint8Array=function(I){for(var L=I.length,M=new Uint8Array(L),N=0;N<L;N++)M[N]=I.charCodeAt(N);return M},D=t.__addimage__.arrayBufferToBinaryString=function(I){for(var L="",M=q(I)?I:new Uint8Array(I),N=0;N<M.length;N+=8192)L+=String.fromCharCode.apply(null,M.subarray(N,N+8192));return L};t.addImage=function(){var I,L,M,N,Q,fe,se,ie,K;if(typeof arguments[1]=="number"?(L=r,M=arguments[1],N=arguments[2],Q=arguments[3],fe=arguments[4],se=arguments[5],ie=arguments[6],K=arguments[7]):(L=arguments[1],M=arguments[2],N=arguments[3],Q=arguments[4],fe=arguments[5],se=arguments[6],ie=arguments[7],K=arguments[8]),Dt(I=arguments[0])==="object"&&!v(I)&&"imageData"in I){var ue=I;I=ue.imageData,L=ue.format||L||r,M=ue.x||M||0,N=ue.y||N||0,Q=ue.w||ue.width||Q,fe=ue.h||ue.height||fe,se=ue.alias||se,ie=ue.compression||ie,K=ue.rotation||ue.angle||K}var Y=this.internal.getFilters();if(ie===void 0&&Y.indexOf("FlateEncode")!==-1&&(ie="SLOW"),isNaN(M)||isNaN(N))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var E=P.call(this,I,L,se,ie);return k.call(this,M,N,Q,fe,E,K),this};var P=function(I,L,M,N){var Q,fe,se;if(typeof I=="string"&&i(I)===r){I=unescape(I);var ie=G(I,!1);(ie!==""||(ie=t.loadFile(I,!0))!==void 0)&&(I=ie)}if(v(I)&&(I=h(I,L)),L=i(I,L),!m(L))throw new Error("addImage does not support files of type '"+L+"', please ensure that a plugin for '"+L+"' support is added.");if(((se=M)==null||se.length===0)&&(M=function(K){return typeof K=="string"||q(K)?x(K):q(K.data)?x(K.data):null}(I)),(Q=b.call(this,M))||(I instanceof Uint8Array||L==="RGBA"||(fe=I,I=B(I)),Q=this["process"+L.toUpperCase()](I,d.call(this),M,function(K){return K&&typeof K=="string"&&(K=K.toUpperCase()),K in t.image_compression?K:_.NONE}(N),fe)),!Q)throw new Error("An unknown error occurred whilst processing the image.");return Q},G=t.__addimage__.convertBase64ToBinaryString=function(I,L){L=typeof L!="boolean"||L;var M,N="";if(typeof I=="string"){var Q;M=(Q=T(I))!==null&&Q!==void 0?Q:I;try{N=jh(M)}catch(fe){if(L)throw A(M)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+fe.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return N};t.getImageProperties=function(I){var L,M,N="";if(v(I)&&(I=h(I)),typeof I=="string"&&i(I)===r&&((N=G(I,!1))===""&&(N=t.loadFile(I)||""),I=N),M=i(I),!m(M))throw new Error("addImage does not support files of type '"+M+"', please ensure that a plugin for '"+M+"' support is added.");if(I instanceof Uint8Array||(I=B(I)),!(L=this["process"+M.toUpperCase()](I)))throw new Error("An unknown error occurred whilst processing the image");return L.fileType=M,L}})(tt.API),function(t){var e=function(r){if(r!==void 0&&r!="")return!0};tt.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var n,i,s,a=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(r.objId),u=r.pageContext.annotations,d=!1,m=0;m<u.length&&!d;m++)switch((n=u[m]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var v=0;v<u.length;v++){n=u[v];var h=this.internal.pdfEscape,b=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var y=this.internal.newAdditionalObject(),k=this.internal.newAdditionalObject(),g=this.internal.getEncryptor(y.objId),_=n.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+a(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+h(g(n.contents))+")",s+=" /Popup "+k.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+h(g(_))+") >>",y.content=s;var x=y.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+a(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+x,n.open&&(s+=" /Open true"),s+=" >>",k.content=s,this.internal.write(y.objId,"0 R",k.objId,"0 R");break;case"freetext":i="/Rect ["+a(n.bounds.x)+" "+o(n.bounds.y)+" "+a(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var A=n.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+h(b(n.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+A+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(n.options.name){var T=this.annotations._nameMap[n.options.name];n.options.pageNumber=T.page,n.options.top=T.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",s="",n.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+h(b(n.options.url))+") >>";else if(n.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,s+=" /FitV "+n.options.left+"]";break;default:var q=o(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),s+=" /XYZ "+n.options.left+" "+q+" "+n.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},t.link=function(r,n,i,s,a){var o=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:l(r),y:u(n),w:l(r+i),h:u(n+s)},options:a,type:"link"})},t.textWithLink=function(r,n,i,s){var a,o,l=this.getTextWidth(r),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){o=s.maxWidth;var d=this.splitTextToSize(r,o).length;a=Math.ceil(u*d)}else o=l,a=u;return this.text(r,n,i,s),i+=.2*u,s.align==="center"&&(n-=l/2),s.align==="right"&&(n-=l),this.link(n,i-u,o,a,s),l},t.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(tt.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var s=t.__arabicParser__.isInArabicSubstitutionA=function(y){return e[y.charCodeAt(0)]!==void 0},a=t.__arabicParser__.isArabicLetter=function(y){return typeof y=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(y)},o=t.__arabicParser__.isArabicEndLetter=function(y){return a(y)&&s(y)&&e[y.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(y){return a(y)&&i.indexOf(y.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(y){return a(y)&&s(y)&&e[y.charCodeAt(0)].length>=1};var u=t.__arabicParser__.arabicLetterHasFinalForm=function(y){return a(y)&&s(y)&&e[y.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(y){return a(y)&&s(y)&&e[y.charCodeAt(0)].length>=3};var d=t.__arabicParser__.arabicLetterHasMedialForm=function(y){return a(y)&&s(y)&&e[y.charCodeAt(0)].length==4},m=t.__arabicParser__.resolveLigatures=function(y){var k=0,g=r,_="",x=0;for(k=0;k<y.length;k+=1)g[y.charCodeAt(k)]!==void 0?(x++,typeof(g=g[y.charCodeAt(k)])=="number"&&(_+=String.fromCharCode(g),g=r,x=0),k===y.length-1&&(g=r,_+=y.charAt(k-(x-1)),k-=x-1,x=0)):(g=r,_+=y.charAt(k-x),k-=x,x=0);return _};t.__arabicParser__.isArabicDiacritic=function(y){return y!==void 0&&n[y.charCodeAt(0)]!==void 0};var v=t.__arabicParser__.getCorrectForm=function(y,k,g){return a(y)?s(y)===!1?-1:!u(y)||!a(k)&&!a(g)||!a(g)&&o(k)||o(y)&&!a(k)||o(y)&&l(k)||o(y)&&o(k)?0:d(y)&&a(k)&&!o(k)&&a(g)&&u(g)?3:o(y)||!a(g)?1:2:-1},h=function(y){var k=0,g=0,_=0,x="",A="",T="",q=(y=y||"").split("\\s+"),B=[];for(k=0;k<q.length;k+=1){for(B.push(""),g=0;g<q[k].length;g+=1)x=q[k][g],A=q[k][g-1],T=q[k][g+1],a(x)?(_=v(x,A,T),B[k]+=_!==-1?String.fromCharCode(e[x.charCodeAt(0)][_]):x):B[k]+=x;B[k]=m(B[k])}return B.join(" ")},b=t.__arabicParser__.processArabic=t.processArabic=function(){var y,k=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,g=[];if(Array.isArray(k)){var _=0;for(g=[],_=0;_<k.length;_+=1)Array.isArray(k[_])?g.push([h(k[_][0]),k[_][1],k[_][2]]):g.push([h(k[_])]);y=g}else y=h(k);return typeof arguments[0]=="string"?y:(arguments[0].text=y,arguments[0])};t.events.push(["preProcessText",b])}(tt.API),tt.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(o){r=o}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(o){i=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(o){s=o}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(o){a=o}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,n){var i;if((r=r||"2d")!=="2d")return null;for(i in n)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=n[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(tt.API),function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(y){l=y}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(y){u=y}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(y){d=y}});var m=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return m},set:function(y){m=y}});var v=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return v},set:function(y){v=y}});var h=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return h},set:function(y){h=y}});var b=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return b},set:function(y){b=y}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return n.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,u){n.call(this);var d=(u=u||{}).fontSize||this.getFontSize(),m=u.font||this.getFont(),v=u.scaleFactor||this.internal.scaleFactor,h=0,b=0,y=0,k=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var g=u.maxWidth;g>0?typeof l=="string"?l=this.splitTextToSize(l,g):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(x,A){return x.concat(k.splitTextToSize(A,g))},[])):l=Array.isArray(l)?l:[l];for(var _=0;_<l.length;_++)h<(y=this.getStringUnitWidth(l[_],{font:m})*d)&&(h=y);return h!==0&&(b=l.length),{w:h/=v,h:Math.max((b*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/v,0)}},t.cellAddPage=function(){n.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=t.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),n.call(this);var u=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,m=this.internal.__cell__.margins||e,v=this.internal.__cell__.tableHeaderRow,h=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===l.lineNumber?(l.x=(u.x||0)+(u.width||0),l.y=u.y||0):u.y+u.height+l.height+m.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=m.top,h&&v&&(this.printHeaderRow(l.lineNumber,!0),l.y+=v[0].height)):l.y=u.y+u.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,r===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-d,l.y+d,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+d,{align:"center",baseline:"top",maxWidth:l.width-d-d}):this.text(l.text,l.x+d,l.y+d,{align:"left",baseline:"top",maxWidth:l.width-d-d})),this.internal.__cell__.lastCell=l,this};t.table=function(l,u,d,m,v){if(n.call(this),!d)throw new Error("No data for PDF table.");var h,b,y,k,g=[],_=[],x=[],A={},T={},q=[],B=[],D=(v=v||{}).autoSize||!1,P=v.printHeaders!==!1,G=v.css&&v.css["font-size"]!==void 0?16*v.css["font-size"]:v.fontSize||12,I=v.margins||Object.assign({width:this.getPageWidth()},e),L=typeof v.padding=="number"?v.padding:3,M=v.headerBackgroundColor||"#c8c8c8",N=v.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=P,this.internal.__cell__.margins=I,this.internal.__cell__.table_font_size=G,this.internal.__cell__.padding=L,this.internal.__cell__.headerBackgroundColor=M,this.internal.__cell__.headerTextColor=N,this.setFontSize(G),m==null)_=g=Object.keys(d[0]),x=g.map(function(){return"left"});else if(Array.isArray(m)&&Dt(m[0])==="object")for(g=m.map(function(ue){return ue.name}),_=m.map(function(ue){return ue.prompt||ue.name||""}),x=m.map(function(ue){return ue.align||"left"}),h=0;h<m.length;h+=1)T[m[h].name]=.7499990551181103*m[h].width;else Array.isArray(m)&&typeof m[0]=="string"&&(_=g=m,x=g.map(function(){return"left"}));if(D||Array.isArray(m)&&typeof m[0]=="string")for(h=0;h<g.length;h+=1){for(A[k=g[h]]=d.map(function(ue){return ue[k]}),this.setFont(void 0,"bold"),q.push(this.getTextDimensions(_[h],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),b=A[k],this.setFont(void 0,"normal"),y=0;y<b.length;y+=1)q.push(this.getTextDimensions(b[y],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);T[k]=Math.max.apply(null,q)+L+L,q=[]}if(P){var Q={};for(h=0;h<g.length;h+=1)Q[g[h]]={},Q[g[h]].text=_[h],Q[g[h]].align=x[h];var fe=o.call(this,Q,T);B=g.map(function(ue){return new s(l,u,T[ue],fe,Q[ue].text,void 0,Q[ue].align)}),this.setTableHeaderRow(B),this.printHeaderRow(1,!1)}var se=m.reduce(function(ue,Y){return ue[Y.name]=Y.align,ue},{});for(h=0;h<d.length;h+=1){"rowStart"in v&&v.rowStart instanceof Function&&v.rowStart({row:h,data:d[h]},this);var ie=o.call(this,d[h],T);for(y=0;y<g.length;y+=1){var K=d[h][g[y]];"cellStart"in v&&v.cellStart instanceof Function&&v.cellStart({row:h,col:y,data:K},this),a.call(this,new s(l,u,T[g[y]],ie,K,h+2,se[g[y]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=u,this};var o=function(l,u){var d=this.internal.__cell__.padding,m=this.internal.__cell__.table_font_size,v=this.internal.scaleFactor;return Object.keys(l).map(function(h){var b=l[h];return this.splitTextToSize(b.hasOwnProperty("text")?b.text:b,u[h]-d-d)},this).map(function(h){return this.getLineHeightFactor()*h.length*m/v+d+d},this).reduce(function(h,b){return Math.max(h,b)},0)};t.setTableHeaderRow=function(l){n.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,u){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var m=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(m[0],m[1],m[2],m[3],void 0,-1)}this.setFont(void 0,"bold");for(var v=[],h=0;h<this.internal.__cell__.tableHeaderRow.length;h+=1){d=this.internal.__cell__.tableHeaderRow[h].clone(),u&&(d.y=this.internal.__cell__.margins.top||0,v.push(d)),d.lineNumber=l;var b=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,d),this.setTextColor(b)}v.length>0&&this.setTableHeaderRow(v),this.setFont(void 0,"normal"),r=!1}}(tt.API);var jw={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Ew=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],A0=Aw(Ew),Cw=[100,200,300,400,500,600,700,800,900],HS=Aw(Cw);function lp(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=function(s){return jw[s=s||"normal"]?s:"normal"}(t.style),n=function(s){return s?typeof s=="number"?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):s==="bold"?700:400:400}(t.weight),i=function(s){return typeof A0[s=s||"normal"]=="number"?s:"normal"}(t.stretch);return{family:e,style:r,weight:n,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,r,n].join(" ")}}}function Wg(t,e,r,n){var i;for(i=r;i>=0&&i<e.length;i+=n)if(t[e[i]])return t[e[i]];for(i=r;i>=0&&i<e.length;i-=n)if(t[e[i]])return t[e[i]]}var VS={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Hg={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Vg(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function Gg(t){return t.trimLeft()}function GS(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function KS(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var hh,Kg,Jg,Co,dh,Yg,Zg,Xg,up=["times"];function Qg(t,e,r,n,i){var s=4,a=tv;switch(i){case tt.API.image_compression.FAST:s=1,a=ev;break;case tt.API.image_compression.MEDIUM:s=6,a=rv;break;case tt.API.image_compression.SLOW:s=9,a=nv}t=function(l,u,d,m){for(var v,h=l.length/u,b=new Uint8Array(l.length+h),y=[JS,ev,tv,rv,nv],k=0;k<h;k+=1){var g=k*u,_=l.subarray(g,g+u);if(m)b.set(m(_,d,v),g+k);else{for(var x=y.length,A=[],T=0;T<x;T+=1)A[T]=y[T](_,d,v);var q=ZS(A.concat());b.set(A[q],g+k)}v=_}return b}(t,e,Math.ceil(r*n/8),a);var o=w0(t,{level:s});return tt.API.__addimage__.arrayBufferToBinaryString(o)}function JS(t){var e=Array.apply([],t);return e.unshift(0),e}function ev(t,e){var r=t.length,n=[];n[0]=1;for(var i=0;i<r;i+=1){var s=t[i-e]||0;n[i+1]=t[i]-s+256&255}return n}function tv(t,e,r){var n=t.length,i=[];i[0]=2;for(var s=0;s<n;s+=1){var a=r&&r[s]||0;i[s+1]=t[s]-a+256&255}return i}function rv(t,e,r){var n=t.length,i=[];i[0]=3;for(var s=0;s<n;s+=1){var a=t[s-e]||0,o=r&&r[s]||0;i[s+1]=t[s]+256-(a+o>>>1)&255}return i}function nv(t,e,r){var n=t.length,i=[];i[0]=4;for(var s=0;s<n;s+=1){var a=YS(t[s-e]||0,r&&r[s]||0,r&&r[s-e]||0);i[s+1]=t[s]-a+256&255}return i}function YS(t,e,r){if(t===e&&e===r)return t;var n=Math.abs(e-r),i=Math.abs(t-r),s=Math.abs(t+e-r-r);return n<=i&&n<=s?t:i<=s?e:r}function ZS(t){var e=t.map(function(r){return r.reduce(function(n,i){return n+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function cp(t,e,r){var n=e*r,i=Math.floor(n/8),s=16-(n-8*i+r),a=(1<<r)-1;return Lw(t,i)>>s&a}function iv(t,e,r,n){var i=r*n,s=Math.floor(i/8),a=16-(i-8*s+n),o=(1<<n)-1,l=(e&o)<<a;(function(u,d,m){if(d+1<u.byteLength)u.setUint16(d,m,!1);else{var v=m>>8&255;u.setUint8(d,v)}})(t,s,Lw(t,s)&~(o<<a)&65535|l)}function Lw(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function XS(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,i=t[e++],s=i>>7,a=1<<1+(7&i);t[e++],t[e++];var o=null,l=null;s&&(o=e,l=a,e+=3*a);var u=!0,d=[],m=0,v=null,h=0,b=null;for(this.width=r,this.height=n;u&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,b=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((I=t[e++])>=0))throw Error("Invalid block size");if(I===0)break;e+=I}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var y=t[e++];m=t[e++]|t[e++]<<8,v=t[e++],1&y||(v=null),h=y>>2&7,e++;break;case 254:for(;;){if(!((I=t[e++])>=0))throw Error("Invalid block size");if(I===0)break;e+=I}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var k=t[e++]|t[e++]<<8,g=t[e++]|t[e++]<<8,_=t[e++]|t[e++]<<8,x=t[e++]|t[e++]<<8,A=t[e++],T=A>>6&1,q=1<<1+(7&A),B=o,D=l,P=!1;A>>7&&(P=!0,B=e,D=q,e+=3*q);var G=e;for(e++;;){var I;if(!((I=t[e++])>=0))throw Error("Invalid block size");if(I===0)break;e+=I}d.push({x:k,y:g,width:_,height:x,has_local_palette:P,palette_offset:B,palette_size:D,data_offset:G,data_length:e-G,transparent_index:v,interlaced:!!T,delay:m,disposal:h});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return b},this.frameInfo=function(L){if(L<0||L>=d.length)throw new Error("Frame index out of range.");return d[L]},this.decodeAndBlitFrameBGRA=function(L,M){var N=this.frameInfo(L),Q=N.width*N.height,fe=new Uint8Array(Q);sv(t,N.data_offset,fe,Q);var se=N.palette_offset,ie=N.transparent_index;ie===null&&(ie=256);var K=N.width,ue=r-K,Y=K,E=4*(N.y*r+N.x),$=4*((N.y+N.height)*r+N.x),V=E,Z=4*ue;N.interlaced===!0&&(Z+=4*r*7);for(var oe=8,me=0,ve=fe.length;me<ve;++me){var we=fe[me];if(Y===0&&(Y=K,(V+=Z)>=$&&(Z=4*ue+4*r*(oe-1),V=E+(K+ue)*(oe<<1),oe>>=1)),we===ie)V+=4;else{var Ae=t[se+3*we],Te=t[se+3*we+1],ce=t[se+3*we+2];M[V++]=ce,M[V++]=Te,M[V++]=Ae,M[V++]=255}--Y}},this.decodeAndBlitFrameRGBA=function(L,M){var N=this.frameInfo(L),Q=N.width*N.height,fe=new Uint8Array(Q);sv(t,N.data_offset,fe,Q);var se=N.palette_offset,ie=N.transparent_index;ie===null&&(ie=256);var K=N.width,ue=r-K,Y=K,E=4*(N.y*r+N.x),$=4*((N.y+N.height)*r+N.x),V=E,Z=4*ue;N.interlaced===!0&&(Z+=4*r*7);for(var oe=8,me=0,ve=fe.length;me<ve;++me){var we=fe[me];if(Y===0&&(Y=K,(V+=Z)>=$&&(Z=4*ue+4*r*(oe-1),V=E+(K+ue)*(oe<<1),oe>>=1)),we===ie)V+=4;else{var Ae=t[se+3*we],Te=t[se+3*we+1],ce=t[se+3*we+2];M[V++]=Ae,M[V++]=Te,M[V++]=ce,M[V++]=255}--Y}}}function sv(t,e,r,n){for(var i=t[e++],s=1<<i,a=s+1,o=a+1,l=i+1,u=(1<<l)-1,d=0,m=0,v=0,h=t[e++],b=new Int32Array(4096),y=null;;){for(;d<16&&h!==0;)m|=t[e++]<<d,d+=8,h===1?h=t[e++]:--h;if(d<l)break;var k=m&u;if(m>>=l,d-=l,k!==s){if(k===a)break;for(var g=k<o?k:y,_=0,x=g;x>s;)x=b[x]>>8,++_;var A=x;if(v+_+(g!==k?1:0)>n)return void Ht.log("Warning, gif stream longer than expected.");r[v++]=A;var T=v+=_;for(g!==k&&(r[v++]=A),x=g;_--;)x=b[x],r[--T]=255&x,x>>=8;y!==null&&o<4096&&(b[o++]=y<<8|A,o>=u+1&&l<12&&(++l,u=u<<1|1)),y=k}else o=a+1,u=(1<<(l=i+1))-1,y=null}return v!==n&&Ht.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function hp(t){var e,r,n,i,s,a=Math.floor,o=new Array(64),l=new Array(64),u=new Array(64),d=new Array(64),m=new Array(65535),v=new Array(65535),h=new Array(64),b=new Array(64),y=[],k=0,g=7,_=new Array(64),x=new Array(64),A=new Array(64),T=new Array(256),q=new Array(2048),B=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],D=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],P=[0,1,2,3,4,5,6,7,8,9,10,11],G=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],I=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],L=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],M=[0,1,2,3,4,5,6,7,8,9,10,11],N=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Q=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function fe(E,$){for(var V=0,Z=0,oe=new Array,me=1;me<=16;me++){for(var ve=1;ve<=E[me];ve++)oe[$[Z]]=[],oe[$[Z]][0]=V,oe[$[Z]][1]=me,Z++,V++;V*=2}return oe}function se(E){for(var $=E[0],V=E[1]-1;V>=0;)$&1<<V&&(k|=1<<g),V--,--g<0&&(k==255?(ie(255),ie(0)):ie(k),g=7,k=0)}function ie(E){y.push(E)}function K(E){ie(E>>8&255),ie(255&E)}function ue(E,$,V,Z,oe){for(var me,ve=oe[0],we=oe[240],Ae=function(ee,ke){var _e,he,Ne,Re,Le,Fe,Je,qe,Me,ct,$e=0;for(Me=0;Me<8;++Me){_e=ee[$e],he=ee[$e+1],Ne=ee[$e+2],Re=ee[$e+3],Le=ee[$e+4],Fe=ee[$e+5],Je=ee[$e+6];var Mt=_e+(qe=ee[$e+7]),nt=_e-qe,gt=he+Je,wt=he-Je,At=Ne+Fe,rt=Ne-Fe,Ut=Re+Le,st=Re-Le,ft=Mt+Ut,qt=Mt-Ut,vt=gt+At,it=gt-At;ee[$e]=ft+vt,ee[$e+4]=ft-vt;var Tt=.707106781*(it+qt);ee[$e+2]=qt+Tt,ee[$e+6]=qt-Tt;var pa=.382683433*((ft=st+rt)-(it=wt+nt)),Zr=.5411961*ft+pa,Gi=1.306562965*it+pa,Ei=.707106781*(vt=rt+wt),at=nt+Ei,Ki=nt-Ei;ee[$e+5]=Ki+Zr,ee[$e+3]=Ki-Zr,ee[$e+1]=at+Gi,ee[$e+7]=at-Gi,$e+=8}for($e=0,Me=0;Me<8;++Me){_e=ee[$e],he=ee[$e+8],Ne=ee[$e+16],Re=ee[$e+24],Le=ee[$e+32],Fe=ee[$e+40],Je=ee[$e+48];var Ji=_e+(qe=ee[$e+56]),Wn=_e-qe,Hn=he+Je,or=he-Je,zr=Ne+Fe,Ur=Ne-Fe,ma=Re+Le,As=Re-Le,ai=Ji+ma,Ci=Ji-ma,oi=Hn+zr,li=Hn-zr;ee[$e]=ai+oi,ee[$e+32]=ai-oi;var Vn=.707106781*(li+Ci);ee[$e+16]=Ci+Vn,ee[$e+48]=Ci-Vn;var ga=.382683433*((ai=As+Ur)-(li=or+Wn)),Li=.5411961*ai+ga,va=1.306562965*li+ga,ao=.707106781*(oi=Ur+or),oo=Wn+ao,lo=Wn-ao;ee[$e+40]=lo+Li,ee[$e+24]=lo-Li,ee[$e+8]=oo+va,ee[$e+56]=oo-va,$e++}for(Me=0;Me<64;++Me)ct=ee[Me]*ke[Me],h[Me]=ct>0?ct+.5|0:ct-.5|0;return h}(E,$),Te=0;Te<64;++Te)b[B[Te]]=Ae[Te];var ce=b[0]-V;V=b[0],ce==0?se(Z[0]):(se(Z[v[me=32767+ce]]),se(m[me]));for(var Se=63;Se>0&&b[Se]==0;)Se--;if(Se==0)return se(ve),V;for(var C,z=1;z<=Se;){for(var le=z;b[z]==0&&z<=Se;)++z;var X=z-le;if(X>=16){C=X>>4;for(var H=1;H<=C;++H)se(we);X&=15}me=32767+b[z],se(oe[(X<<4)+v[me]]),se(m[me]),z++}return Se!=63&&se(ve),V}function Y(E){E=Math.min(Math.max(E,1),100),s!=E&&(function($){for(var V=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Z=0;Z<64;Z++){var oe=a((V[Z]*$+50)/100);oe=Math.min(Math.max(oe,1),255),o[B[Z]]=oe}for(var me=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ve=0;ve<64;ve++){var we=a((me[ve]*$+50)/100);we=Math.min(Math.max(we,1),255),l[B[ve]]=we}for(var Ae=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Te=0,ce=0;ce<8;ce++)for(var Se=0;Se<8;Se++)u[Te]=1/(o[B[Te]]*Ae[ce]*Ae[Se]*8),d[Te]=1/(l[B[Te]]*Ae[ce]*Ae[Se]*8),Te++}(E<50?Math.floor(5e3/E):Math.floor(200-2*E)),s=E)}this.encode=function(E,$){$&&Y($),y=new Array,k=0,g=7,K(65496),K(65504),K(16),ie(74),ie(70),ie(73),ie(70),ie(0),ie(1),ie(1),ie(0),K(1),K(1),ie(0),ie(0),function(){K(65499),K(132),ie(0);for(var he=0;he<64;he++)ie(o[he]);ie(1);for(var Ne=0;Ne<64;Ne++)ie(l[Ne])}(),function(he,Ne){K(65472),K(17),ie(8),K(Ne),K(he),ie(3),ie(1),ie(17),ie(0),ie(2),ie(17),ie(1),ie(3),ie(17),ie(1)}(E.width,E.height),function(){K(65476),K(418),ie(0);for(var he=0;he<16;he++)ie(D[he+1]);for(var Ne=0;Ne<=11;Ne++)ie(P[Ne]);ie(16);for(var Re=0;Re<16;Re++)ie(G[Re+1]);for(var Le=0;Le<=161;Le++)ie(I[Le]);ie(1);for(var Fe=0;Fe<16;Fe++)ie(L[Fe+1]);for(var Je=0;Je<=11;Je++)ie(M[Je]);ie(17);for(var qe=0;qe<16;qe++)ie(N[qe+1]);for(var Me=0;Me<=161;Me++)ie(Q[Me])}(),K(65498),K(12),ie(3),ie(1),ie(0),ie(2),ie(17),ie(3),ie(17),ie(0),ie(63),ie(0);var V=0,Z=0,oe=0;k=0,g=7,this.encode.displayName="_encode_";for(var me,ve,we,Ae,Te,ce,Se,C,z,le=E.data,X=E.width,H=E.height,ee=4*X,ke=0;ke<H;){for(me=0;me<ee;){for(Te=ee*ke+me,Se=-1,C=0,z=0;z<64;z++)ce=Te+(C=z>>3)*ee+(Se=4*(7&z)),ke+C>=H&&(ce-=ee*(ke+1+C-H)),me+Se>=ee&&(ce-=me+Se-ee+4),ve=le[ce++],we=le[ce++],Ae=le[ce++],_[z]=(q[ve]+q[we+256|0]+q[Ae+512|0]>>16)-128,x[z]=(q[ve+768|0]+q[we+1024|0]+q[Ae+1280|0]>>16)-128,A[z]=(q[ve+1280|0]+q[we+1536|0]+q[Ae+1792|0]>>16)-128;V=ue(_,u,V,e,n),Z=ue(x,d,Z,r,i),oe=ue(A,d,oe,r,i),me+=32}ke+=8}if(g>=0){var _e=[];_e[1]=g+1,_e[0]=(1<<g+1)-1,se(_e)}return K(65497),new Uint8Array(y)},t=t||50,function(){for(var E=String.fromCharCode,$=0;$<256;$++)T[$]=E($)}(),e=fe(D,P),r=fe(L,M),n=fe(G,I),i=fe(N,Q),function(){for(var E=1,$=2,V=1;V<=15;V++){for(var Z=E;Z<$;Z++)v[32767+Z]=V,m[32767+Z]=[],m[32767+Z][1]=V,m[32767+Z][0]=Z;for(var oe=-($-1);oe<=-E;oe++)v[32767+oe]=V,m[32767+oe]=[],m[32767+oe][1]=V,m[32767+oe][0]=$-1+oe;E<<=1,$<<=1}}(),function(){for(var E=0;E<256;E++)q[E]=19595*E,q[E+256|0]=38470*E,q[E+512|0]=7471*E+32768,q[E+768|0]=-11059*E,q[E+1024|0]=-21709*E,q[E+1280|0]=32768*E+8421375,q[E+1536|0]=-27439*E,q[E+1792|0]=-5329*E}(),Y(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function mi(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function av(t){function e(P){if(!P)throw Error("assert :P")}function r(P,G,I){for(var L=0;4>L;L++)if(P[G+L]!=I.charCodeAt(L))return!0;return!1}function n(P,G,I,L,M){for(var N=0;N<M;N++)P[G+N]=I[L+N]}function i(P,G,I,L){for(var M=0;M<L;M++)P[G+M]=I}function s(P){return new Int32Array(P)}function a(P,G){for(var I=[],L=0;L<P;L++)I.push(new G);return I}function o(P,G){var I=[];return function L(M,N,Q){for(var fe=Q[N],se=0;se<fe&&(M.push(Q.length>N+1?[]:new G),!(Q.length<N+1));se++)L(M[se],N+1,Q)}(I,0,P),I}var l=function(){var P=this;function G(c,p){for(var S=1<<p-1>>>0;c&S;)S>>>=1;return S?(c&S-1)+S:c}function I(c,p,S,j,R){e(!(j%S));do c[p+(j-=S)]=R;while(0<j)}function L(c,p,S,j,R){if(e(2328>=R),512>=R)var F=s(512);else if((F=s(R))==null)return 0;return function(U,W,J,te,de,xe){var re,pe,ye=W,je=1<<J,be=s(16),Ee=s(16);for(e(de!=0),e(te!=null),e(U!=null),e(0<J),pe=0;pe<de;++pe){if(15<te[pe])return 0;++be[te[pe]]}if(be[0]==de)return 0;for(Ee[1]=0,re=1;15>re;++re){if(be[re]>1<<re)return 0;Ee[re+1]=Ee[re]+be[re]}for(pe=0;pe<de;++pe)re=te[pe],0<te[pe]&&(xe[Ee[re]++]=pe);if(Ee[15]==1)return(te=new M).g=0,te.value=xe[0],I(U,ye,1,je,te),je;var Pe,ze=-1,Ie=je-1,Qe=0,He=1,xt=1,Ye=1<<J;for(pe=0,re=1,de=2;re<=J;++re,de<<=1){if(He+=xt<<=1,0>(xt-=be[re]))return 0;for(;0<be[re];--be[re])(te=new M).g=re,te.value=xe[pe++],I(U,ye+Qe,de,Ye,te),Qe=G(Qe,re)}for(re=J+1,de=2;15>=re;++re,de<<=1){if(He+=xt<<=1,0>(xt-=be[re]))return 0;for(;0<be[re];--be[re]){if(te=new M,(Qe&Ie)!=ze){for(ye+=Ye,Pe=1<<(ze=re)-J;15>ze&&!(0>=(Pe-=be[ze]));)++ze,Pe<<=1;je+=Ye=1<<(Pe=ze-J),U[W+(ze=Qe&Ie)].g=Pe+J,U[W+ze].value=ye-W-ze}te.g=re-J,te.value=xe[pe++],I(U,ye+(Qe>>J),de,Ye,te),Qe=G(Qe,re)}}return He!=2*Ee[15]-1?0:je}(c,p,S,j,R,F)}function M(){this.value=this.g=0}function N(){this.value=this.g=0}function Q(){this.G=a(5,M),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(Ea,N)}function fe(c,p,S,j){e(c!=null),e(p!=null),e(2147483648>j),c.Ca=254,c.I=0,c.b=-8,c.Ka=0,c.oa=p,c.pa=S,c.Jd=p,c.Yc=S+j,c.Zc=4<=j?S+j-4+1:S,ve(c)}function se(c,p){for(var S=0;0<p--;)S|=Ae(c,128)<<p;return S}function ie(c,p){var S=se(c,p);return we(c)?-S:S}function K(c,p,S,j){var R,F=0;for(e(c!=null),e(p!=null),e(4294967288>j),c.Sb=j,c.Ra=0,c.u=0,c.h=0,4<j&&(j=4),R=0;R<j;++R)F+=p[S+R]<<8*R;c.Ra=F,c.bb=j,c.oa=p,c.pa=S}function ue(c){for(;8<=c.u&&c.bb<c.Sb;)c.Ra>>>=8,c.Ra+=c.oa[c.pa+c.bb]<<Ls-8>>>0,++c.bb,c.u-=8;Z(c)&&(c.h=1,c.u=0)}function Y(c,p){if(e(0<=p),!c.h&&p<=An){var S=V(c)&Nn[p];return c.u+=p,ue(c),S}return c.h=1,c.u=0}function E(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function $(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function V(c){return c.Ra>>>(c.u&Ls-1)>>>0}function Z(c){return e(c.bb<=c.Sb),c.h||c.bb==c.Sb&&c.u>Ls}function oe(c,p){c.u=p,c.h=Z(c)}function me(c){c.u>=as&&(e(c.u>=as),ue(c))}function ve(c){e(c!=null&&c.oa!=null),c.pa<c.Zc?(c.I=(c.oa[c.pa++]|c.I<<8)>>>0,c.b+=8):(e(c!=null&&c.oa!=null),c.pa<c.Yc?(c.b+=8,c.I=c.oa[c.pa++]|c.I<<8):c.Ka?c.b=0:(c.I<<=8,c.b+=8,c.Ka=1))}function we(c){return se(c,1)}function Ae(c,p){var S=c.Ca;0>c.b&&ve(c);var j=c.b,R=S*p>>>8,F=(c.I>>>j>R)+0;for(F?(S-=R,c.I-=R+1<<j>>>0):S=R+1,j=S,R=0;256<=j;)R+=8,j>>=8;return j=7^R+Ps[j],c.b-=j,c.Ca=(S<<j)-1,F}function Te(c,p,S){c[p+0]=S>>24&255,c[p+1]=S>>16&255,c[p+2]=S>>8&255,c[p+3]=255&S}function ce(c,p){return c[p+0]|c[p+1]<<8}function Se(c,p){return ce(c,p)|c[p+2]<<16}function C(c,p){return ce(c,p)|ce(c,p+2)<<16}function z(c,p){var S=1<<p;return e(c!=null),e(0<p),c.X=s(S),c.X==null?0:(c.Mb=32-p,c.Xa=p,1)}function le(c,p){e(c!=null),e(p!=null),e(c.Xa==p.Xa),n(p.X,0,c.X,0,1<<p.Xa)}function X(){this.X=[],this.Xa=this.Mb=0}function H(c,p,S,j){e(S!=null),e(j!=null);var R=S[0],F=j[0];return R==0&&(R=(c*F+p/2)/p),F==0&&(F=(p*R+c/2)/c),0>=R||0>=F?0:(S[0]=R,j[0]=F,1)}function ee(c,p){return c+(1<<p)-1>>>p}function ke(c,p){return((4278255360&c)+(4278255360&p)>>>0&4278255360)+((16711935&c)+(16711935&p)>>>0&16711935)>>>0}function _e(c,p){P[p]=function(S,j,R,F,U,W,J){var te;for(te=0;te<U;++te){var de=P[c](W[J+te-1],R,F+te);W[J+te]=ke(S[j+te],de)}}}function he(){this.ud=this.hd=this.jd=0}function Ne(c,p){return((4278124286&(c^p))>>>1)+(c&p)>>>0}function Re(c){return 0<=c&&256>c?c:0>c?0:255<c?255:void 0}function Le(c,p){return Re(c+(c-p+.5>>1))}function Fe(c,p,S){return Math.abs(p-S)-Math.abs(c-S)}function Je(c,p,S,j,R,F,U){for(j=F[U-1],S=0;S<R;++S)F[U+S]=j=ke(c[p+S],j)}function qe(c,p,S,j,R){var F;for(F=0;F<S;++F){var U=c[p+F],W=U>>8&255,J=16711935&(J=(J=16711935&U)+((W<<16)+W));j[R+F]=(4278255360&U)+J>>>0}}function Me(c,p){p.jd=255&c,p.hd=c>>8&255,p.ud=c>>16&255}function ct(c,p,S,j,R,F){var U;for(U=0;U<j;++U){var W=p[S+U],J=W>>>8,te=W,de=255&(de=(de=W>>>16)+((c.jd<<24>>24)*(J<<24>>24)>>>5));te=255&(te=(te+=(c.hd<<24>>24)*(J<<24>>24)>>>5)+((c.ud<<24>>24)*(de<<24>>24)>>>5)),R[F+U]=(4278255360&W)+(de<<16)+te}}function $e(c,p,S,j,R){P[p]=function(F,U,W,J,te,de,xe,re,pe){for(J=xe;J<re;++J)for(xe=0;xe<pe;++xe)te[de++]=R(W[j(F[U++])])},P[c]=function(F,U,W,J,te,de,xe){var re=8>>F.b,pe=F.Ea,ye=F.K[0],je=F.w;if(8>re)for(F=(1<<F.b)-1,je=(1<<re)-1;U<W;++U){var be,Ee=0;for(be=0;be<pe;++be)be&F||(Ee=j(J[te++])),de[xe++]=R(ye[Ee&je]),Ee>>=re}else P["VP8LMapColor"+S](J,te,ye,je,de,xe,U,W,pe)}}function Mt(c,p,S,j,R){for(S=p+S;p<S;){var F=c[p++];j[R++]=F>>16&255,j[R++]=F>>8&255,j[R++]=255&F}}function nt(c,p,S,j,R){for(S=p+S;p<S;){var F=c[p++];j[R++]=F>>16&255,j[R++]=F>>8&255,j[R++]=255&F,j[R++]=F>>24&255}}function gt(c,p,S,j,R){for(S=p+S;p<S;){var F=(U=c[p++])>>16&240|U>>12&15,U=240&U|U>>28&15;j[R++]=F,j[R++]=U}}function wt(c,p,S,j,R){for(S=p+S;p<S;){var F=(U=c[p++])>>16&248|U>>13&7,U=U>>5&224|U>>3&31;j[R++]=F,j[R++]=U}}function At(c,p,S,j,R){for(S=p+S;p<S;){var F=c[p++];j[R++]=255&F,j[R++]=F>>8&255,j[R++]=F>>16&255}}function rt(c,p,S,j,R,F){if(F==0)for(S=p+S;p<S;)Te(j,((F=c[p++])[0]>>24|F[1]>>8&65280|F[2]<<8&16711680|F[3]<<24)>>>0),R+=32;else n(j,R,c,p,S)}function Ut(c,p){P[p][0]=P[c+"0"],P[p][1]=P[c+"1"],P[p][2]=P[c+"2"],P[p][3]=P[c+"3"],P[p][4]=P[c+"4"],P[p][5]=P[c+"5"],P[p][6]=P[c+"6"],P[p][7]=P[c+"7"],P[p][8]=P[c+"8"],P[p][9]=P[c+"9"],P[p][10]=P[c+"10"],P[p][11]=P[c+"11"],P[p][12]=P[c+"12"],P[p][13]=P[c+"13"],P[p][14]=P[c+"0"],P[p][15]=P[c+"0"]}function st(c){return c==Kd||c==Jd||c==Nc||c==Yd}function ft(){this.eb=[],this.size=this.A=this.fb=0}function qt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function vt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new ft,this.f.kb=new qt,this.sd=null}function it(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Tt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function pa(c){return alert("todo:WebPSamplerProcessPlane"),c.T}function Zr(c,p){var S=c.T,j=p.ba.f.RGBA,R=j.eb,F=j.fb+c.ka*j.A,U=Xn[p.ba.S],W=c.y,J=c.O,te=c.f,de=c.N,xe=c.ea,re=c.W,pe=p.cc,ye=p.dc,je=p.Mc,be=p.Nc,Ee=c.ka,Pe=c.ka+c.T,ze=c.U,Ie=ze+1>>1;for(Ee==0?U(W,J,null,null,te,de,xe,re,te,de,xe,re,R,F,null,null,ze):(U(p.ec,p.fc,W,J,pe,ye,je,be,te,de,xe,re,R,F-j.A,R,F,ze),++S);Ee+2<Pe;Ee+=2)pe=te,ye=de,je=xe,be=re,de+=c.Rc,re+=c.Rc,F+=2*j.A,U(W,(J+=2*c.fa)-c.fa,W,J,pe,ye,je,be,te,de,xe,re,R,F-j.A,R,F,ze);return J+=c.fa,c.j+Pe<c.o?(n(p.ec,p.fc,W,J,ze),n(p.cc,p.dc,te,de,Ie),n(p.Mc,p.Nc,xe,re,Ie),S--):1&Pe||U(W,J,null,null,te,de,xe,re,te,de,xe,re,R,F+j.A,null,null,ze),S}function Gi(c,p,S){var j=c.F,R=[c.J];if(j!=null){var F=c.U,U=p.ba.S,W=U==Sc||U==Nc;p=p.ba.f.RGBA;var J=[0],te=c.ka;J[0]=c.T,c.Kb&&(te==0?--J[0]:(--te,R[0]-=c.width),c.j+c.ka+c.T==c.o&&(J[0]=c.o-c.j-te));var de=p.eb;te=p.fb+te*p.A,c=B1(j,R[0],c.width,F,J,de,te+(W?0:3),p.A),e(S==J),c&&st(U)&&Ml(de,te,W,F,J,p.A)}return 0}function Ei(c){var p=c.ma,S=p.ba.S,j=11>S,R=S==xc||S==kc||S==Sc||S==Gd||S==12||st(S);if(p.memory=null,p.Ib=null,p.Jb=null,p.Nd=null,!Ol(p.Oa,c,R?11:12))return 0;if(R&&st(S)&&Ll(),c.da)alert("todo:use_scaling");else{if(j){if(p.Ib=pa,c.Kb){if(S=c.U+1>>1,p.memory=s(c.U+2*S),p.memory==null)return 0;p.ec=p.memory,p.fc=0,p.cc=p.ec,p.dc=p.fc+c.U,p.Mc=p.cc,p.Nc=p.dc+S,p.Ib=Zr,Ll()}}else alert("todo:EmitYUV");R&&(p.Jb=Gi,j&&ci())}if(j&&!tm){for(c=0;256>c;++c)Xw[c]=89858*(c-128)+jc>>Ac,t_[c]=-22014*(c-128)+jc,e_[c]=-45773*(c-128),Qw[c]=113618*(c-128)+jc>>Ac;for(c=$l;c<Qd;++c)p=76283*(c-16)+jc>>Ac,r_[c-$l]=Pi(p,255),n_[c-$l]=Pi(p+8>>4,15);tm=1}return 1}function at(c){var p=c.ma,S=c.U,j=c.T;return e(!(1&c.ka)),0>=S||0>=j?0:(S=p.Ib(c,p),p.Jb!=null&&p.Jb(c,p,S),p.Dc+=S,1)}function Ki(c){c.ma.memory=null}function Ji(c,p,S,j){return Y(c,8)!=47?0:(p[0]=Y(c,14)+1,S[0]=Y(c,14)+1,j[0]=Y(c,1),Y(c,3)!=0?0:!c.h)}function Wn(c,p){if(4>c)return c+1;var S=c-2>>1;return(2+(1&c)<<S)+Y(p,S)+1}function Hn(c,p){return 120<p?p-120:1<=(S=((S=Dw[p-1])>>4)*c+(8-(15&S)))?S:1;var S}function or(c,p,S){var j=V(S),R=c[p+=255&j].g-8;return 0<R&&(oe(S,S.u+8),j=V(S),p+=c[p].value,p+=j&(1<<R)-1),oe(S,S.u+c[p].g),c[p].value}function zr(c,p,S){return S.g+=c.g,S.value+=c.value<<p>>>0,e(8>=S.g),c.g}function Ur(c,p,S){var j=c.xc;return e((p=j==0?0:c.vc[c.md*(S>>j)+(p>>j)])<c.Wb),c.Ya[p]}function ma(c,p,S,j){var R=c.ab,F=c.c*p,U=c.C;p=U+p;var W=S,J=j;for(j=c.Ta,S=c.Ua;0<R--;){var te=c.gc[R],de=U,xe=p,re=W,pe=J,ye=(J=j,W=S,te.Ea);switch(e(de<xe),e(xe<=te.nc),te.hc){case 2:fr(re,pe,(xe-de)*ye,J,W);break;case 0:var je=de,be=xe,Ee=J,Pe=W,ze=(Ye=te).Ea;je==0&&(Rl(re,pe,null,null,1,Ee,Pe),Je(re,pe+1,0,0,ze-1,Ee,Pe+1),pe+=ze,Pe+=ze,++je);for(var Ie=1<<Ye.b,Qe=Ie-1,He=ee(ze,Ye.b),xt=Ye.K,Ye=Ye.w+(je>>Ye.b)*He;je<be;){var Nt=xt,Lr=Ye,kt=1;for(vo(re,pe,Ee,Pe-ze,1,Ee,Pe);kt<ze;){var Ze=(kt&~Qe)+Ie;Ze>ze&&(Ze=ze),(0,Fl[Nt[Lr++]>>8&15])(re,pe+ +kt,Ee,Pe+kt-ze,Ze-kt,Ee,Pe+kt),kt=Ze}pe+=ze,Pe+=ze,++je&Qe||(Ye+=He)}xe!=te.nc&&n(J,W-ye,J,W+(xe-de-1)*ye,ye);break;case 1:for(ye=re,be=pe,ze=(re=te.Ea)-(Pe=re&~(Ee=(pe=1<<te.b)-1)),je=ee(re,te.b),Ie=te.K,te=te.w+(de>>te.b)*je;de<xe;){for(Qe=Ie,He=te,xt=new he,Ye=be+Pe,Nt=be+re;be<Ye;)Me(Qe[He++],xt),Dl(xt,ye,be,pe,J,W),be+=pe,W+=pe;be<Nt&&(Me(Qe[He++],xt),Dl(xt,ye,be,ze,J,W),be+=ze,W+=ze),++de&Ee||(te+=je)}break;case 3:if(re==J&&pe==W&&0<te.b){for(be=J,re=ye=W+(xe-de)*ye-(Pe=(xe-de)*ee(te.Ea,te.b)),pe=J,Ee=W,je=[],Pe=(ze=Pe)-1;0<=Pe;--Pe)je[Pe]=pe[Ee+Pe];for(Pe=ze-1;0<=Pe;--Pe)be[re+Pe]=je[Pe];yc(te,de,xe,J,ye,J,W)}else yc(te,de,xe,re,pe,J,W)}W=j,J=S}J!=S&&n(j,S,W,J,F)}function As(c,p){var S=c.V,j=c.Ba+c.c*c.C,R=p-c.C;if(e(p<=c.l.o),e(16>=R),0<R){var F=c.l,U=c.Ta,W=c.Ua,J=F.width;if(ma(c,R,S,j),R=W=[W],e((S=c.C)<(j=p)),e(F.v<F.va),j>F.o&&(j=F.o),S<F.j){var te=F.j-S;S=F.j,R[0]+=te*J}if(S>=j?S=0:(R[0]+=4*F.v,F.ka=S-F.j,F.U=F.va-F.v,F.T=j-S,S=1),S){if(W=W[0],11>(S=c.ca).S){var de=S.f.RGBA,xe=(j=S.S,R=F.U,F=F.T,te=de.eb,de.A),re=F;for(de=de.fb+c.Ma*de.A;0<re--;){var pe=U,ye=W,je=R,be=te,Ee=de;switch(j){case bc:Bl(pe,ye,je,be,Ee);break;case xc:Ts(pe,ye,je,be,Ee);break;case Kd:Ts(pe,ye,je,be,Ee),Ml(be,Ee,0,je,1,0);break;case V1:Ca(pe,ye,je,be,Ee);break;case kc:rt(pe,ye,je,be,Ee,1);break;case Jd:rt(pe,ye,je,be,Ee,1),Ml(be,Ee,0,je,1,0);break;case Sc:rt(pe,ye,je,be,Ee,0);break;case Nc:rt(pe,ye,je,be,Ee,0),Ml(be,Ee,1,je,1,0);break;case Gd:Os(pe,ye,je,be,Ee);break;case Yd:Os(pe,ye,je,be,Ee),D1(be,Ee,je,1,0);break;case G1:Is(pe,ye,je,be,Ee);break;default:e(0)}W+=J,de+=xe}c.Ma+=F}else alert("todo:EmitRescaledRowsYUVA");e(c.Ma<=S.height)}}c.C=p,e(c.C<=c.i)}function ai(c){var p;if(0<c.ua)return 0;for(p=0;p<c.Wb;++p){var S=c.Ya[p].G,j=c.Ya[p].H;if(0<S[1][j[1]+0].g||0<S[2][j[2]+0].g||0<S[3][j[3]+0].g)return 0}return 1}function Ci(c,p,S,j,R,F){if(c.Z!=0){var U=c.qd,W=c.rd;for(e(Fs[c.Z]!=null);p<S;++p)Fs[c.Z](U,W,j,R,j,R,F),U=j,W=R,R+=F;c.qd=U,c.rd=W}}function oi(c,p){var S=c.l.ma,j=S.Z==0||S.Z==1?c.l.j:c.C;if(j=c.C<j?j:c.C,e(p<=c.l.o),p>j){var R=c.l.width,F=S.ca,U=S.tb+R*j,W=c.V,J=c.Ba+c.c*j,te=c.gc;e(c.ab==1),e(te[0].hc==3),Ri(te[0],j,p,W,J,F,U),Ci(S,j,p,F,U,R)}c.C=c.Ma=p}function li(c,p,S,j,R,F,U){var W=c.$/j,J=c.$%j,te=c.m,de=c.s,xe=S+c.$,re=xe;R=S+j*R;var pe=S+j*F,ye=280+de.ua,je=c.Pb?W:16777216,be=0<de.ua?de.Wa:null,Ee=de.wc,Pe=xe<pe?Ur(de,J,W):null;e(c.C<F),e(pe<=R);var ze=!1;e:for(;;){for(;ze||xe<pe;){var Ie=0;if(W>=je){var Qe=xe-S;e((je=c).Pb),je.wd=je.m,je.xd=Qe,0<je.s.ua&&le(je.s.Wa,je.s.vb),je=W+Uw}if(J&Ee||(Pe=Ur(de,J,W)),e(Pe!=null),Pe.Qb&&(p[xe]=Pe.qb,ze=!0),!ze)if(me(te),Pe.jc){Ie=te,Qe=p;var He=xe,xt=Pe.pd[V(Ie)&Ea-1];e(Pe.jc),256>xt.g?(oe(Ie,Ie.u+xt.g),Qe[He]=xt.value,Ie=0):(oe(Ie,Ie.u+xt.g-256),e(256<=xt.value),Ie=xt.value),Ie==0&&(ze=!0)}else Ie=or(Pe.G[0],Pe.H[0],te);if(te.h)break;if(ze||256>Ie){if(!ze)if(Pe.nd)p[xe]=(Pe.qb|Ie<<8)>>>0;else{if(me(te),ze=or(Pe.G[1],Pe.H[1],te),me(te),Qe=or(Pe.G[2],Pe.H[2],te),He=or(Pe.G[3],Pe.H[3],te),te.h)break;p[xe]=(He<<24|ze<<16|Ie<<8|Qe)>>>0}if(ze=!1,++xe,++J>=j&&(J=0,++W,U!=null&&W<=F&&!(W%16)&&U(c,W),be!=null))for(;re<xe;)Ie=p[re++],be.X[(506832829*Ie&4294967295)>>>be.Mb]=Ie}else if(280>Ie){if(Ie=Wn(Ie-256,te),Qe=or(Pe.G[4],Pe.H[4],te),me(te),Qe=Hn(j,Qe=Wn(Qe,te)),te.h)break;if(xe-S<Qe||R-xe<Ie)break e;for(He=0;He<Ie;++He)p[xe+He]=p[xe+He-Qe];for(xe+=Ie,J+=Ie;J>=j;)J-=j,++W,U!=null&&W<=F&&!(W%16)&&U(c,W);if(e(xe<=R),J&Ee&&(Pe=Ur(de,J,W)),be!=null)for(;re<xe;)Ie=p[re++],be.X[(506832829*Ie&4294967295)>>>be.Mb]=Ie}else{if(!(Ie<ye))break e;for(ze=Ie-280,e(be!=null);re<xe;)Ie=p[re++],be.X[(506832829*Ie&4294967295)>>>be.Mb]=Ie;Ie=xe,e(!(ze>>>(Qe=be).Xa)),p[Ie]=Qe.X[ze],ze=!0}ze||e(te.h==Z(te))}if(c.Pb&&te.h&&xe<R)e(c.m.h),c.a=5,c.m=c.wd,c.$=c.xd,0<c.s.ua&&le(c.s.vb,c.s.Wa);else{if(te.h)break e;U!=null&&U(c,W>F?F:W),c.a=0,c.$=xe-S}return 1}return c.a=3,0}function Vn(c){e(c!=null),c.vc=null,c.yc=null,c.Ya=null;var p=c.Wa;p!=null&&(p.X=null),c.vb=null,e(c!=null)}function ga(){var c=new dt;return c==null?null:(c.a=0,c.xb=Y1,Ut("Predictor","VP8LPredictors"),Ut("Predictor","VP8LPredictors_C"),Ut("PredictorAdd","VP8LPredictorsAdd"),Ut("PredictorAdd","VP8LPredictorsAdd_C"),fr=qe,Dl=ct,Bl=Mt,Ts=nt,Os=gt,Is=wt,Ca=At,P.VP8LMapColor32b=Ii,P.VP8LMapColor8b=zl,c)}function Li(c,p,S,j,R){var F=1,U=[c],W=[p],J=j.m,te=j.s,de=null,xe=0;e:for(;;){if(S)for(;F&&Y(J,1);){var re=U,pe=W,ye=j,je=1,be=ye.m,Ee=ye.gc[ye.ab],Pe=Y(be,2);if(ye.Oc&1<<Pe)F=0;else{switch(ye.Oc|=1<<Pe,Ee.hc=Pe,Ee.Ea=re[0],Ee.nc=pe[0],Ee.K=[null],++ye.ab,e(4>=ye.ab),Pe){case 0:case 1:Ee.b=Y(be,3)+2,je=Li(ee(Ee.Ea,Ee.b),ee(Ee.nc,Ee.b),0,ye,Ee.K),Ee.K=Ee.K[0];break;case 3:var ze,Ie=Y(be,8)+1,Qe=16<Ie?0:4<Ie?1:2<Ie?2:3;if(re[0]=ee(Ee.Ea,Qe),Ee.b=Qe,ze=je=Li(Ie,1,0,ye,Ee.K)){var He,xt=Ie,Ye=Ee,Nt=1<<(8>>Ye.b),Lr=s(Nt);if(Lr==null)ze=0;else{var kt=Ye.K[0],Ze=Ye.w;for(Lr[0]=Ye.K[0][0],He=1;He<1*xt;++He)Lr[He]=ke(kt[Ze+He],Lr[He-1]);for(;He<4*Nt;++He)Lr[He]=0;Ye.K[0]=null,Ye.K[0]=Lr,ze=1}}je=ze;break;case 2:break;default:e(0)}F=je}}if(U=U[0],W=W[0],F&&Y(J,1)&&!(F=1<=(xe=Y(J,4))&&11>=xe)){j.a=3;break e}var Be;if(Be=F)t:{var mr,_t,jt,Yt=j,$r=U,un=W,lr=xe,Xr=S,cn=Yt.m,Pr=Yt.s,Ct=[null],Rt=1,ur=0,zt=Bw[lr];r:for(;;){if(Xr&&Y(cn,1)){var Wr=Y(cn,3)+2,di=ee($r,Wr),gr=ee(un,Wr),gn=di*gr;if(!Li(di,gr,0,Yt,Ct))break r;for(Ct=Ct[0],Pr.xc=Wr,mr=0;mr<gn;++mr){var Wt=Ct[mr]>>8&65535;Ct[mr]=Wt,Wt>=Rt&&(Rt=Wt+1)}}if(cn.h)break r;for(_t=0;5>_t;++_t){var Tr=K1[_t];!_t&&0<lr&&(Tr+=1<<lr),ur<Tr&&(ur=Tr)}var En=a(Rt*zt,M),hn=Rt,Cn=a(hn,Q);if(Cn==null)var Ln=null;else e(65536>=hn),Ln=Cn;var vn=s(ur);if(Ln==null||vn==null||En==null){Yt.a=1;break r}var Pn=En;for(mr=jt=0;mr<Rt;++mr){var Gt=Ln[mr],Tn=Gt.G,fi=Gt.H,Pa=0,us=1,Hr=0;for(_t=0;5>_t;++_t){Tr=K1[_t],Tn[_t]=Pn,fi[_t]=jt,!_t&&0<lr&&(Tr+=1<<lr);i:{var Cc,ef=Tr,Lc=Yt,Wl=vn,a_=Pn,o_=jt,tf=0,Ds=Lc.m,l_=Y(Ds,1);if(i(Wl,0,0,ef),l_){var u_=Y(Ds,1)+1,c_=Y(Ds,1),im=Y(Ds,c_==0?1:8);Wl[im]=1,u_==2&&(Wl[im=Y(Ds,8)]=1);var Pc=1}else{var sm=s(19),am=Y(Ds,4)+4;if(19<am){Lc.a=3;var Tc=0;break i}for(Cc=0;Cc<am;++Cc)sm[Fw[Cc]]=Y(Ds,3);var rf=void 0,Hl=void 0,om=Lc,h_=sm,Oc=ef,lm=Wl,nf=0,Bs=om.m,um=8,cm=a(128,M);n:for(;L(cm,0,7,h_,19);){if(Y(Bs,1)){var d_=2+2*Y(Bs,3);if((rf=2+Y(Bs,d_))>Oc)break n}else rf=Oc;for(Hl=0;Hl<Oc&&rf--;){me(Bs);var hm=cm[0+(127&V(Bs))];oe(Bs,Bs.u+hm.g);var wo=hm.value;if(16>wo)lm[Hl++]=wo,wo!=0&&(um=wo);else{var f_=wo==16,dm=wo-16,p_=Rw[dm],fm=Y(Bs,Iw[dm])+p_;if(Hl+fm>Oc)break n;for(var m_=f_?um:0;0<fm--;)lm[Hl++]=m_}}nf=1;break n}nf||(om.a=3),Pc=nf}(Pc=Pc&&!Ds.h)&&(tf=L(a_,o_,8,Wl,ef)),Pc&&tf!=0?Tc=tf:(Lc.a=3,Tc=0)}if(Tc==0)break r;if(us&&zw[_t]==1&&(us=Pn[jt].g==0),Pa+=Pn[jt].g,jt+=Tc,3>=_t){var Vl,sf=vn[0];for(Vl=1;Vl<Tr;++Vl)vn[Vl]>sf&&(sf=vn[Vl]);Hr+=sf}}if(Gt.nd=us,Gt.Qb=0,us&&(Gt.qb=(Tn[3][fi[3]+0].value<<24|Tn[1][fi[1]+0].value<<16|Tn[2][fi[2]+0].value)>>>0,Pa==0&&256>Tn[0][fi[0]+0].value&&(Gt.Qb=1,Gt.qb+=Tn[0][fi[0]+0].value<<8)),Gt.jc=!Gt.Qb&&6>Hr,Gt.jc){var Ic,cs=Gt;for(Ic=0;Ic<Ea;++Ic){var Us=Ic,Ms=cs.pd[Us],Rc=cs.G[0][cs.H[0]+Us];256<=Rc.value?(Ms.g=Rc.g+256,Ms.value=Rc.value):(Ms.g=0,Ms.value=0,Us>>=zr(Rc,8,Ms),Us>>=zr(cs.G[1][cs.H[1]+Us],16,Ms),Us>>=zr(cs.G[2][cs.H[2]+Us],0,Ms),zr(cs.G[3][cs.H[3]+Us],24,Ms))}}}Pr.vc=Ct,Pr.Wb=Rt,Pr.Ya=Ln,Pr.yc=En,Be=1;break t}Be=0}if(!(F=Be)){j.a=3;break e}if(0<xe){if(te.ua=1<<xe,!z(te.Wa,xe)){j.a=1,F=0;break e}}else te.ua=0;var af=j,pm=U,g_=W,of=af.s,lf=of.xc;if(af.c=pm,af.i=g_,of.md=ee(pm,lf),of.wc=lf==0?-1:(1<<lf)-1,S){j.xb=Gw;break e}if((de=s(U*W))==null){j.a=1,F=0;break e}F=(F=li(j,de,0,U,W,W,null))&&!J.h;break e}return F?(R!=null?R[0]=de:(e(de==null),e(S)),j.$=0,S||Vn(te)):Vn(te),F}function va(c,p){var S=c.c*c.i,j=S+p+16*p;return e(c.c<=p),c.V=s(j),c.V==null?(c.Ta=null,c.Ua=0,c.a=1,0):(c.Ta=c.V,c.Ua=c.Ba+S+p,1)}function ao(c,p){var S=c.C,j=p-S,R=c.V,F=c.Ba+c.c*S;for(e(p<=c.l.o);0<j;){var U=16<j?16:j,W=c.l.ma,J=c.l.width,te=J*U,de=W.ca,xe=W.tb+J*S,re=c.Ta,pe=c.Ua;ma(c,U,R,F),U1(re,pe,de,xe,te),Ci(W,S,S+U,de,xe,J),j-=U,R+=U*c.c,S+=U}e(S==p),c.C=c.Ma=p}function oo(){this.ub=this.yd=this.td=this.Rb=0}function lo(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ld(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function wl(){this.Yb=function(){var c=[];return function p(S,j,R){for(var F=R[j],U=0;U<F&&(S.push(R.length>j+1?[]:0),!(R.length<j+1));U++)p(S[U],j+1,R)}(c,0,[3,11]),c}()}function ec(){this.jb=s(3),this.Wc=o([4,8],wl),this.Xc=o([4,17],wl)}function tc(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Gn(){this.ld=this.La=this.dd=this.tc=0}function _l(){this.Na=this.la=0}function rc(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function bl(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function nc(){this.uc=this.M=this.Nb=0,this.wa=Array(new Gn),this.Y=0,this.ya=Array(new bl),this.aa=0,this.l=new uo}function ic(){this.y=s(16),this.f=s(8),this.ea=s(8)}function sc(){this.cb=this.a=0,this.sc="",this.m=new E,this.Od=new oo,this.Kc=new lo,this.ed=new tc,this.Qa=new Ld,this.Ic=this.$c=this.Aa=0,this.D=new nc,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,E),this.ia=0,this.pb=a(4,rc),this.Pa=new ec,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new ic),this.Hd=0,this.rb=Array(new _l),this.sb=0,this.wa=Array(new Gn),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new bl),this.L=this.aa=0,this.gd=o([4,2],Gn),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Pi(c,p){return 0>c?0:c>p?p:c}function uo(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Pd(){var c=new sc;return c!=null&&(c.a=0,c.sc="OK",c.cb=0,c.Xb=0,ql||(ql=co)),c}function xr(c,p,S){return c.a==0&&(c.a=p,c.sc=S,c.cb=0),0}function ac(c,p,S){return 3<=S&&c[p+0]==157&&c[p+1]==1&&c[p+2]==42}function Ti(c,p){if(c==null)return 0;if(c.a=0,c.sc="OK",p==null)return xr(c,2,"null VP8Io passed to VP8GetHeaders()");var S=p.data,j=p.w,R=p.ha;if(4>R)return xr(c,7,"Truncated header.");var F=S[j+0]|S[j+1]<<8|S[j+2]<<16,U=c.Od;if(U.Rb=!(1&F),U.td=F>>1&7,U.yd=F>>4&1,U.ub=F>>5,3<U.td)return xr(c,3,"Incorrect keyframe parameters.");if(!U.yd)return xr(c,4,"Frame not displayable.");j+=3,R-=3;var W=c.Kc;if(U.Rb){if(7>R)return xr(c,7,"cannot parse picture header");if(!ac(S,j,R))return xr(c,3,"Bad code word");W.c=16383&(S[j+4]<<8|S[j+3]),W.Td=S[j+4]>>6,W.i=16383&(S[j+6]<<8|S[j+5]),W.Ud=S[j+6]>>6,j+=7,R-=7,c.za=W.c+15>>4,c.Ub=W.i+15>>4,p.width=W.c,p.height=W.i,p.Da=0,p.j=0,p.v=0,p.va=p.width,p.o=p.height,p.da=0,p.ib=p.width,p.hb=p.height,p.U=p.width,p.T=p.height,i((F=c.Pa).jb,0,255,F.jb.length),e((F=c.Qa)!=null),F.Cb=0,F.Bb=0,F.Fb=1,i(F.Zb,0,0,F.Zb.length),i(F.Lb,0,0,F.Lb)}if(U.ub>R)return xr(c,7,"bad partition length");fe(F=c.m,S,j,U.ub),j+=U.ub,R-=U.ub,U.Rb&&(W.Ld=we(F),W.Kd=we(F)),W=c.Qa;var J,te=c.Pa;if(e(F!=null),e(W!=null),W.Cb=we(F),W.Cb){if(W.Bb=we(F),we(F)){for(W.Fb=we(F),J=0;4>J;++J)W.Zb[J]=we(F)?ie(F,7):0;for(J=0;4>J;++J)W.Lb[J]=we(F)?ie(F,6):0}if(W.Bb)for(J=0;3>J;++J)te.jb[J]=we(F)?se(F,8):255}else W.Bb=0;if(F.Ka)return xr(c,3,"cannot parse segment header");if((W=c.ed).zd=we(F),W.Tb=se(F,6),W.wb=se(F,3),W.Pc=we(F),W.Pc&&we(F)){for(te=0;4>te;++te)we(F)&&(W.vd[te]=ie(F,6));for(te=0;4>te;++te)we(F)&&(W.od[te]=ie(F,6))}if(c.L=W.Tb==0?0:W.zd?1:2,F.Ka)return xr(c,3,"cannot parse filter header");var de=R;if(R=J=j,j=J+de,W=de,c.Xb=(1<<se(c.m,2))-1,de<3*(te=c.Xb))S=7;else{for(J+=3*te,W-=3*te,de=0;de<te;++de){var xe=S[R+0]|S[R+1]<<8|S[R+2]<<16;xe>W&&(xe=W),fe(c.Jc[+de],S,J,xe),J+=xe,W-=xe,R+=3}fe(c.Jc[+te],S,J,W),S=J<j?0:5}if(S!=0)return xr(c,S,"cannot parse partitions");for(S=se(J=c.m,7),R=we(J)?ie(J,4):0,j=we(J)?ie(J,4):0,W=we(J)?ie(J,4):0,te=we(J)?ie(J,4):0,J=we(J)?ie(J,4):0,de=c.Qa,xe=0;4>xe;++xe){if(de.Cb){var re=de.Zb[xe];de.Fb||(re+=S)}else{if(0<xe){c.pb[xe]=c.pb[0];continue}re=S}var pe=c.pb[xe];pe.Sc[0]=Zd[Pi(re+R,127)],pe.Sc[1]=Xd[Pi(re+0,127)],pe.Eb[0]=2*Zd[Pi(re+j,127)],pe.Eb[1]=101581*Xd[Pi(re+W,127)]>>16,8>pe.Eb[1]&&(pe.Eb[1]=8),pe.Qc[0]=Zd[Pi(re+te,117)],pe.Qc[1]=Xd[Pi(re+J,127)],pe.lc=re+J}if(!U.Rb)return xr(c,4,"Not a key frame.");for(we(F),U=c.Pa,S=0;4>S;++S){for(R=0;8>R;++R)for(j=0;3>j;++j)for(W=0;11>W;++W)te=Ae(F,Hw[S][R][j][W])?se(F,8):$w[S][R][j][W],U.Wc[S][R].Yb[j][W]=te;for(R=0;17>R;++R)U.Xc[S][R]=U.Wc[S][Vw[R]]}return c.kc=we(F),c.kc&&(c.Bd=se(F,8)),c.cb=1}function co(c,p,S,j,R,F,U){var W=p[R].Yb[S];for(S=0;16>R;++R){if(!Ae(c,W[S+0]))return R;for(;!Ae(c,W[S+1]);)if(W=p[++R].Yb[0],S=0,R==16)return 16;var J=p[R+1].Yb;if(Ae(c,W[S+2])){var te=c,de=0;if(Ae(te,(re=W)[(xe=S)+3]))if(Ae(te,re[xe+6])){for(W=0,xe=2*(de=Ae(te,re[xe+8]))+(re=Ae(te,re[xe+9+de])),de=0,re=Mw[xe];re[W];++W)de+=de+Ae(te,re[W]);de+=3+(8<<xe)}else Ae(te,re[xe+7])?(de=7+2*Ae(te,165),de+=Ae(te,145)):de=5+Ae(te,159);else de=Ae(te,re[xe+4])?3+Ae(te,re[xe+5]):2;W=J[2]}else de=1,W=J[1];J=U+qw[R],0>(te=c).b&&ve(te);var xe,re=te.b,pe=(xe=te.Ca>>1)-(te.I>>re)>>31;--te.b,te.Ca+=pe,te.Ca|=1,te.I-=(xe+1&pe)<<re,F[J]=((de^pe)-pe)*j[(0<R)+0]}return 16}function oc(c){var p=c.rb[c.sb-1];p.la=0,p.Na=0,i(c.zc,0,0,c.zc.length),c.ja=0}function Kn(c,p,S,j,R){R=c[p+S+32*j]+(R>>3),c[p+S+32*j]=-256&R?0>R?0:255:R}function jr(c,p,S,j,R,F){Kn(c,p,0,S,j+R),Kn(c,p,1,S,j+F),Kn(c,p,2,S,j-F),Kn(c,p,3,S,j-R)}function Yi(c){return(20091*c>>16)+c}function lc(c,p,S,j){var R,F=0,U=s(16);for(R=0;4>R;++R){var W=c[p+0]+c[p+8],J=c[p+0]-c[p+8],te=(35468*c[p+4]>>16)-Yi(c[p+12]),de=Yi(c[p+4])+(35468*c[p+12]>>16);U[F+0]=W+de,U[F+1]=J+te,U[F+2]=J-te,U[F+3]=W-de,F+=4,p++}for(R=F=0;4>R;++R)W=(c=U[F+0]+4)+U[F+8],J=c-U[F+8],te=(35468*U[F+4]>>16)-Yi(U[F+12]),Kn(S,j,0,0,W+(de=Yi(U[F+4])+(35468*U[F+12]>>16))),Kn(S,j,1,0,J+te),Kn(S,j,2,0,J-te),Kn(S,j,3,0,W-de),F++,j+=32}function Td(c,p,S,j){var R=c[p+0]+4,F=35468*c[p+4]>>16,U=Yi(c[p+4]),W=35468*c[p+1]>>16;jr(S,j,0,R+U,c=Yi(c[p+1]),W),jr(S,j,1,R+F,c,W),jr(S,j,2,R-F,c,W),jr(S,j,3,R-U,c,W)}function Od(c,p,S,j,R){lc(c,p,S,j),R&&lc(c,p+16,S,j+4)}function Oi(c,p,S,j){La(c,p+0,S,j,1),La(c,p+32,S,j+128,1)}function uc(c,p,S,j){var R;for(c=c[p+0]+4,R=0;4>R;++R)for(p=0;4>p;++p)Kn(S,j,p,R,c)}function cc(c,p,S,j){c[p+0]&&Ot(c,p+0,S,j),c[p+16]&&Ot(c,p+16,S,j+4),c[p+32]&&Ot(c,p+32,S,j+128),c[p+48]&&Ot(c,p+48,S,j+128+4)}function ho(c,p,S,j){var R,F=s(16);for(R=0;4>R;++R){var U=c[p+0+R]+c[p+12+R],W=c[p+4+R]+c[p+8+R],J=c[p+4+R]-c[p+8+R],te=c[p+0+R]-c[p+12+R];F[0+R]=U+W,F[8+R]=U-W,F[4+R]=te+J,F[12+R]=te-J}for(R=0;4>R;++R)U=(c=F[0+4*R]+3)+F[3+4*R],W=F[1+4*R]+F[2+4*R],J=F[1+4*R]-F[2+4*R],te=c-F[3+4*R],S[j+0]=U+W>>3,S[j+16]=te+J>>3,S[j+32]=U-W>>3,S[j+48]=te-J>>3,j+=64}function ya(c,p,S){var j,R=p-32,F=jn,U=255-c[R-1];for(j=0;j<S;++j){var W,J=F,te=U+c[p-1];for(W=0;W<S;++W)c[p+W]=J[te+c[R+W]];p+=32}}function Id(c,p){ya(c,p,4)}function Rd(c,p){ya(c,p,8)}function zd(c,p){ya(c,p,16)}function xl(c,p){var S;for(S=0;16>S;++S)n(c,p+32*S,c,p-32,16)}function hc(c,p){var S;for(S=16;0<S;--S)i(c,p,c[p-1],16),p+=32}function ui(c,p,S){var j;for(j=0;16>j;++j)i(p,S+32*j,c,16)}function Fd(c,p){var S,j=16;for(S=0;16>S;++S)j+=c[p-1+32*S]+c[p+S-32];ui(j>>5,c,p)}function wa(c,p){var S,j=8;for(S=0;16>S;++S)j+=c[p-1+32*S];ui(j>>4,c,p)}function kl(c,p){var S,j=8;for(S=0;16>S;++S)j+=c[p+S-32];ui(j>>4,c,p)}function Dd(c,p){ui(128,c,p)}function pt(c,p,S){return c+2*p+S+2>>2}function Bd(c,p){var S,j=p-32;for(j=new Uint8Array([pt(c[j-1],c[j+0],c[j+1]),pt(c[j+0],c[j+1],c[j+2]),pt(c[j+1],c[j+2],c[j+3]),pt(c[j+2],c[j+3],c[j+4])]),S=0;4>S;++S)n(c,p+32*S,j,0,j.length)}function Ud(c,p){var S=c[p-1],j=c[p-1+32],R=c[p-1+64],F=c[p-1+96];Te(c,p+0,16843009*pt(c[p-1-32],S,j)),Te(c,p+32,16843009*pt(S,j,R)),Te(c,p+64,16843009*pt(j,R,F)),Te(c,p+96,16843009*pt(R,F,F))}function Md(c,p){var S,j=4;for(S=0;4>S;++S)j+=c[p+S-32]+c[p-1+32*S];for(j>>=3,S=0;4>S;++S)i(c,p+32*S,j,4)}function Zi(c,p){var S=c[p-1+0],j=c[p-1+32],R=c[p-1+64],F=c[p-1-32],U=c[p+0-32],W=c[p+1-32],J=c[p+2-32],te=c[p+3-32];c[p+0+96]=pt(j,R,c[p-1+96]),c[p+1+96]=c[p+0+64]=pt(S,j,R),c[p+2+96]=c[p+1+64]=c[p+0+32]=pt(F,S,j),c[p+3+96]=c[p+2+64]=c[p+1+32]=c[p+0+0]=pt(U,F,S),c[p+3+64]=c[p+2+32]=c[p+1+0]=pt(W,U,F),c[p+3+32]=c[p+2+0]=pt(J,W,U),c[p+3+0]=pt(te,J,W)}function Xi(c,p){var S=c[p+1-32],j=c[p+2-32],R=c[p+3-32],F=c[p+4-32],U=c[p+5-32],W=c[p+6-32],J=c[p+7-32];c[p+0+0]=pt(c[p+0-32],S,j),c[p+1+0]=c[p+0+32]=pt(S,j,R),c[p+2+0]=c[p+1+32]=c[p+0+64]=pt(j,R,F),c[p+3+0]=c[p+2+32]=c[p+1+64]=c[p+0+96]=pt(R,F,U),c[p+3+32]=c[p+2+64]=c[p+1+96]=pt(F,U,W),c[p+3+64]=c[p+2+96]=pt(U,W,J),c[p+3+96]=pt(W,J,J)}function qd(c,p){var S=c[p-1+0],j=c[p-1+32],R=c[p-1+64],F=c[p-1-32],U=c[p+0-32],W=c[p+1-32],J=c[p+2-32],te=c[p+3-32];c[p+0+0]=c[p+1+64]=F+U+1>>1,c[p+1+0]=c[p+2+64]=U+W+1>>1,c[p+2+0]=c[p+3+64]=W+J+1>>1,c[p+3+0]=J+te+1>>1,c[p+0+96]=pt(R,j,S),c[p+0+64]=pt(j,S,F),c[p+0+32]=c[p+1+96]=pt(S,F,U),c[p+1+32]=c[p+2+96]=pt(F,U,W),c[p+2+32]=c[p+3+96]=pt(U,W,J),c[p+3+32]=pt(W,J,te)}function $d(c,p){var S=c[p+0-32],j=c[p+1-32],R=c[p+2-32],F=c[p+3-32],U=c[p+4-32],W=c[p+5-32],J=c[p+6-32],te=c[p+7-32];c[p+0+0]=S+j+1>>1,c[p+1+0]=c[p+0+64]=j+R+1>>1,c[p+2+0]=c[p+1+64]=R+F+1>>1,c[p+3+0]=c[p+2+64]=F+U+1>>1,c[p+0+32]=pt(S,j,R),c[p+1+32]=c[p+0+96]=pt(j,R,F),c[p+2+32]=c[p+1+96]=pt(R,F,U),c[p+3+32]=c[p+2+96]=pt(F,U,W),c[p+3+64]=pt(U,W,J),c[p+3+96]=pt(W,J,te)}function fo(c,p){var S=c[p-1+0],j=c[p-1+32],R=c[p-1+64],F=c[p-1+96];c[p+0+0]=S+j+1>>1,c[p+2+0]=c[p+0+32]=j+R+1>>1,c[p+2+32]=c[p+0+64]=R+F+1>>1,c[p+1+0]=pt(S,j,R),c[p+3+0]=c[p+1+32]=pt(j,R,F),c[p+3+32]=c[p+1+64]=pt(R,F,F),c[p+3+64]=c[p+2+64]=c[p+0+96]=c[p+1+96]=c[p+2+96]=c[p+3+96]=F}function Sl(c,p){var S=c[p-1+0],j=c[p-1+32],R=c[p-1+64],F=c[p-1+96],U=c[p-1-32],W=c[p+0-32],J=c[p+1-32],te=c[p+2-32];c[p+0+0]=c[p+2+32]=S+U+1>>1,c[p+0+32]=c[p+2+64]=j+S+1>>1,c[p+0+64]=c[p+2+96]=R+j+1>>1,c[p+0+96]=F+R+1>>1,c[p+3+0]=pt(W,J,te),c[p+2+0]=pt(U,W,J),c[p+1+0]=c[p+3+32]=pt(S,U,W),c[p+1+32]=c[p+3+64]=pt(j,S,U),c[p+1+64]=c[p+3+96]=pt(R,j,S),c[p+1+96]=pt(F,R,j)}function _a(c,p){var S;for(S=0;8>S;++S)n(c,p+32*S,c,p-32,8)}function Wd(c,p){var S;for(S=0;8>S;++S)i(c,p,c[p-1],8),p+=32}function Qi(c,p,S){var j;for(j=0;8>j;++j)i(p,S+32*j,c,8)}function Hd(c,p){var S,j=8;for(S=0;8>S;++S)j+=c[p+S-32]+c[p-1+32*S];Qi(j>>4,c,p)}function Nl(c,p){var S,j=4;for(S=0;8>S;++S)j+=c[p+S-32];Qi(j>>3,c,p)}function Al(c,p){var S,j=4;for(S=0;8>S;++S)j+=c[p-1+32*S];Qi(j>>3,c,p)}function dc(c,p){Qi(128,c,p)}function es(c,p,S){var j=c[p-S],R=c[p+0],F=3*(R-j)+Vd[1020+c[p-2*S]-c[p+S]],U=_c[112+(F+4>>3)];c[p-S]=jn[255+j+_c[112+(F+3>>3)]],c[p+0]=jn[255+R-U]}function jl(c,p,S,j){var R=c[p+0],F=c[p+S];return Zn[255+c[p-2*S]-c[p-S]]>j||Zn[255+F-R]>j}function po(c,p,S,j){return 4*Zn[255+c[p-S]-c[p+0]]+Zn[255+c[p-2*S]-c[p+S]]<=j}function El(c,p,S,j,R){var F=c[p-3*S],U=c[p-2*S],W=c[p-S],J=c[p+0],te=c[p+S],de=c[p+2*S],xe=c[p+3*S];return 4*Zn[255+W-J]+Zn[255+U-te]>j?0:Zn[255+c[p-4*S]-F]<=R&&Zn[255+F-U]<=R&&Zn[255+U-W]<=R&&Zn[255+xe-de]<=R&&Zn[255+de-te]<=R&&Zn[255+te-J]<=R}function ba(c,p,S,j){var R=2*j+1;for(j=0;16>j;++j)po(c,p+j,S,R)&&es(c,p+j,S)}function Cl(c,p,S,j){var R=2*j+1;for(j=0;16>j;++j)po(c,p+j*S,1,R)&&es(c,p+j*S,1)}function fc(c,p,S,j){var R;for(R=3;0<R;--R)ba(c,p+=4*S,S,j)}function pc(c,p,S,j){var R;for(R=3;0<R;--R)Cl(c,p+=4,S,j)}function ts(c,p,S,j,R,F,U,W){for(F=2*F+1;0<R--;){if(El(c,p,S,F,U))if(jl(c,p,S,W))es(c,p,S);else{var J=c,te=p,de=S,xe=J[te-2*de],re=J[te-de],pe=J[te+0],ye=J[te+de],je=J[te+2*de],be=27*(Pe=Vd[1020+3*(pe-re)+Vd[1020+xe-ye]])+63>>7,Ee=18*Pe+63>>7,Pe=9*Pe+63>>7;J[te-3*de]=jn[255+J[te-3*de]+Pe],J[te-2*de]=jn[255+xe+Ee],J[te-de]=jn[255+re+be],J[te+0]=jn[255+pe-be],J[te+de]=jn[255+ye-Ee],J[te+2*de]=jn[255+je-Pe]}p+=j}}function rs(c,p,S,j,R,F,U,W){for(F=2*F+1;0<R--;){if(El(c,p,S,F,U))if(jl(c,p,S,W))es(c,p,S);else{var J=c,te=p,de=S,xe=J[te-de],re=J[te+0],pe=J[te+de],ye=_c[112+(4+(je=3*(re-xe))>>3)],je=_c[112+(je+3>>3)],be=ye+1>>1;J[te-2*de]=jn[255+J[te-2*de]+be],J[te-de]=jn[255+xe+je],J[te+0]=jn[255+re-ye],J[te+de]=jn[255+pe-be]}p+=j}}function mc(c,p,S,j,R,F){ts(c,p,S,1,16,j,R,F)}function xa(c,p,S,j,R,F){ts(c,p,1,S,16,j,R,F)}function gc(c,p,S,j,R,F){var U;for(U=3;0<U;--U)rs(c,p+=4*S,S,1,16,j,R,F)}function w(c,p,S,j,R,F){var U;for(U=3;0<U;--U)rs(c,p+=4,1,S,16,j,R,F)}function O(c,p,S,j,R,F,U,W){ts(c,p,R,1,8,F,U,W),ts(S,j,R,1,8,F,U,W)}function ne(c,p,S,j,R,F,U,W){ts(c,p,1,R,8,F,U,W),ts(S,j,1,R,8,F,U,W)}function ae(c,p,S,j,R,F,U,W){rs(c,p+4*R,R,1,8,F,U,W),rs(S,j+4*R,R,1,8,F,U,W)}function ge(c,p,S,j,R,F,U,W){rs(c,p+4,1,R,8,F,U,W),rs(S,j+4,1,R,8,F,U,W)}function Ce(){this.ba=new vt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Tt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Oe(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Ke(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Xe(){this.ua=0,this.Wa=new X,this.vb=new X,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Q,this.yc=new M}function dt(){this.xb=this.a=0,this.l=new uo,this.ca=new vt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new $,this.Pb=0,this.wd=new $,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Xe,this.ab=0,this.gc=a(4,Ke),this.Oc=0}function bt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new uo,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Et(c,p,S,j,R,F,U){for(c=c==null?0:c[p+0],p=0;p<U;++p)R[F+p]=c+S[j+p]&255,c=R[F+p]}function rr(c,p,S,j,R,F,U){var W;if(c==null)Et(null,null,S,j,R,F,U);else for(W=0;W<U;++W)R[F+W]=c[p+W]+S[j+W]&255}function kr(c,p,S,j,R,F,U){if(c==null)Et(null,null,S,j,R,F,U);else{var W,J=c[p+0],te=J,de=J;for(W=0;W<U;++W)te=de+(J=c[p+W])-te,de=S[j+W]+(-256&te?0>te?0:255:te)&255,te=J,R[F+W]=de}}function Vt(c,p,S,j){var R=p.width,F=p.o;if(e(c!=null&&p!=null),0>S||0>=j||S+j>F)return null;if(!c.Cc){if(c.ga==null){var U;if(c.ga=new bt,(U=c.ga==null)||(U=p.width*p.o,e(c.Gb.length==0),c.Gb=s(U),c.Uc=0,c.Gb==null?U=0:(c.mb=c.Gb,c.nb=c.Uc,c.rc=null,U=1),U=!U),!U){U=c.ga;var W=c.Fa,J=c.P,te=c.qc,de=c.mb,xe=c.nb,re=J+1,pe=te-1,ye=U.l;if(e(W!=null&&de!=null&&p!=null),Fs[0]=null,Fs[1]=Et,Fs[2]=rr,Fs[3]=kr,U.ca=de,U.tb=xe,U.c=p.width,U.i=p.height,e(0<U.c&&0<U.i),1>=te)p=0;else if(U.$a=3&W[J+0],U.Z=W[J+0]>>2&3,U.Lc=W[J+0]>>4&3,J=W[J+0]>>6&3,0>U.$a||1<U.$a||4<=U.Z||1<U.Lc||J)p=0;else if(ye.put=at,ye.ac=Ei,ye.bc=Ki,ye.ma=U,ye.width=p.width,ye.height=p.height,ye.Da=p.Da,ye.v=p.v,ye.va=p.va,ye.j=p.j,ye.o=p.o,U.$a)e:{e(U.$a==1),p=ga();t:for(;;){if(p==null){p=0;break e}if(e(U!=null),U.mc=p,p.c=U.c,p.i=U.i,p.l=U.l,p.l.ma=U,p.l.width=U.c,p.l.height=U.i,p.a=0,K(p.m,W,re,pe),!Li(U.c,U.i,1,p,null)||(p.ab==1&&p.gc[0].hc==3&&ai(p.s)?(U.ic=1,W=p.c*p.i,p.Ta=null,p.Ua=0,p.V=s(W),p.Ba=0,p.V==null?(p.a=1,p=0):p=1):(U.ic=0,p=va(p,U.c)),!p))break t;p=1;break e}U.mc=null,p=0}else p=pe>=U.c*U.i;U=!p}if(U)return null;c.ga.Lc!=1?c.Ga=0:j=F-S}e(c.ga!=null),e(S+j<=F);e:{if(p=(W=c.ga).c,F=W.l.o,W.$a==0){if(re=c.rc,pe=c.Vc,ye=c.Fa,J=c.P+1+S*p,te=c.mb,de=c.nb+S*p,e(J<=c.P+c.qc),W.Z!=0)for(e(Fs[W.Z]!=null),U=0;U<j;++U)Fs[W.Z](re,pe,ye,J,te,de,p),re=te,pe=de,de+=p,J+=p;else for(U=0;U<j;++U)n(te,de,ye,J,p),re=te,pe=de,de+=p,J+=p;c.rc=re,c.Vc=pe}else{if(e(W.mc!=null),p=S+j,e((U=W.mc)!=null),e(p<=U.i),U.C>=p)p=1;else if(W.ic||ci(),W.ic){W=U.V,re=U.Ba,pe=U.c;var je=U.i,be=(ye=1,J=U.$/pe,te=U.$%pe,de=U.m,xe=U.s,U.$),Ee=pe*je,Pe=pe*p,ze=xe.wc,Ie=be<Pe?Ur(xe,te,J):null;e(be<=Ee),e(p<=je),e(ai(xe));t:for(;;){for(;!de.h&&be<Pe;){if(te&ze||(Ie=Ur(xe,te,J)),e(Ie!=null),me(de),256>(je=or(Ie.G[0],Ie.H[0],de)))W[re+be]=je,++be,++te>=pe&&(te=0,++J<=p&&!(J%16)&&oi(U,J));else{if(!(280>je)){ye=0;break t}je=Wn(je-256,de);var Qe,He=or(Ie.G[4],Ie.H[4],de);if(me(de),!(be>=(He=Hn(pe,He=Wn(He,de)))&&Ee-be>=je)){ye=0;break t}for(Qe=0;Qe<je;++Qe)W[re+be+Qe]=W[re+be+Qe-He];for(be+=je,te+=je;te>=pe;)te-=pe,++J<=p&&!(J%16)&&oi(U,J);be<Pe&&te&ze&&(Ie=Ur(xe,te,J))}e(de.h==Z(de))}oi(U,J>p?p:J);break t}!ye||de.h&&be<Ee?(ye=0,U.a=de.h?5:3):U.$=be,p=ye}else p=li(U,U.V,U.Ba,U.c,U.i,p,ao);if(!p){j=0;break e}}S+j>=F&&(c.Cc=1),j=1}if(!j)return null;if(c.Cc&&((j=c.ga)!=null&&(j.mc=null),c.ga=null,0<c.Ga))return alert("todo:WebPDequantizeLevels"),null}return c.nb+S*R}function Er(c,p,S,j,R,F){for(;0<R--;){var U,W=c,J=p+(S?1:0),te=c,de=p+(S?0:3);for(U=0;U<j;++U){var xe=te[de+4*U];xe!=255&&(xe*=32897,W[J+4*U+0]=W[J+4*U+0]*xe>>23,W[J+4*U+1]=W[J+4*U+1]*xe>>23,W[J+4*U+2]=W[J+4*U+2]*xe>>23)}p+=F}}function Sr(c,p,S,j,R){for(;0<j--;){var F;for(F=0;F<S;++F){var U=c[p+2*F+0],W=15&(te=c[p+2*F+1]),J=4369*W,te=(240&te|te>>4)*J>>16;c[p+2*F+0]=(240&U|U>>4)*J>>16&240|(15&U|U<<4)*J>>16>>4&15,c[p+2*F+1]=240&te|W}p+=R}}function Mr(c,p,S,j,R,F,U,W){var J,te,de=255;for(te=0;te<R;++te){for(J=0;J<j;++J){var xe=c[p+J];F[U+4*J]=xe,de&=xe}p+=S,U+=W}return de!=255}function ns(c,p,S,j,R){var F;for(F=0;F<R;++F)S[j+F]=c[p+F]>>8}function ci(){Ml=Er,D1=Sr,B1=Mr,U1=ns}function is(c,p,S){P[c]=function(j,R,F,U,W,J,te,de,xe,re,pe,ye,je,be,Ee,Pe,ze){var Ie,Qe=ze-1>>1,He=W[J+0]|te[de+0]<<16,xt=xe[re+0]|pe[ye+0]<<16;e(j!=null);var Ye=3*He+xt+131074>>2;for(p(j[R+0],255&Ye,Ye>>16,je,be),F!=null&&(Ye=3*xt+He+131074>>2,p(F[U+0],255&Ye,Ye>>16,Ee,Pe)),Ie=1;Ie<=Qe;++Ie){var Nt=W[J+Ie]|te[de+Ie]<<16,Lr=xe[re+Ie]|pe[ye+Ie]<<16,kt=He+Nt+xt+Lr+524296,Ze=kt+2*(Nt+xt)>>3;Ye=Ze+He>>1,He=(kt=kt+2*(He+Lr)>>3)+Nt>>1,p(j[R+2*Ie-1],255&Ye,Ye>>16,je,be+(2*Ie-1)*S),p(j[R+2*Ie-0],255&He,He>>16,je,be+(2*Ie-0)*S),F!=null&&(Ye=kt+xt>>1,He=Ze+Lr>>1,p(F[U+2*Ie-1],255&Ye,Ye>>16,Ee,Pe+(2*Ie-1)*S),p(F[U+2*Ie+0],255&He,He>>16,Ee,Pe+(2*Ie+0)*S)),He=Nt,xt=Lr}1&ze||(Ye=3*He+xt+131074>>2,p(j[R+ze-1],255&Ye,Ye>>16,je,be+(ze-1)*S),F!=null&&(Ye=3*xt+He+131074>>2,p(F[U+ze-1],255&Ye,Ye>>16,Ee,Pe+(ze-1)*S)))}}function Ll(){Xn[bc]=Kw,Xn[xc]=Z1,Xn[V1]=Jw,Xn[kc]=X1,Xn[Sc]=Q1,Xn[Gd]=em,Xn[G1]=Yw,Xn[Kd]=Z1,Xn[Jd]=X1,Xn[Nc]=Q1,Xn[Yd]=em}function mo(c){return c&-16384?0>c?0:255:c>>Zw}function js(c,p){return mo((19077*c>>8)+(26149*p>>8)-14234)}function ka(c,p,S){return mo((19077*c>>8)-(6419*p>>8)-(13320*S>>8)+8708)}function Sa(c,p){return mo((19077*c>>8)+(33050*p>>8)-17685)}function Es(c,p,S,j,R){j[R+0]=js(c,S),j[R+1]=ka(c,p,S),j[R+2]=Sa(c,p)}function qr(c,p,S,j,R){j[R+0]=Sa(c,p),j[R+1]=ka(c,p,S),j[R+2]=js(c,S)}function Na(c,p,S,j,R){var F=ka(c,p,S);p=F<<3&224|Sa(c,p)>>3,j[R+0]=248&js(c,S)|F>>5,j[R+1]=p}function Aa(c,p,S,j,R){var F=240&Sa(c,p)|15;j[R+0]=240&js(c,S)|ka(c,p,S)>>4,j[R+1]=F}function Pl(c,p,S,j,R){j[R+0]=255,Es(c,p,S,j,R+1)}function Tl(c,p,S,j,R){qr(c,p,S,j,R),j[R+3]=255}function ln(c,p,S,j,R){Es(c,p,S,j,R),j[R+3]=255}function ss(c,p,S){P[c]=function(j,R,F,U,W,J,te,de,xe){for(var re=de+(-2&xe)*S;de!=re;)p(j[R+0],F[U+0],W[J+0],te,de),p(j[R+1],F[U+0],W[J+0],te,de+S),R+=2,++U,++J,de+=2*S;1&xe&&p(j[R+0],F[U+0],W[J+0],te,de)}}function go(c,p,S){return S==0?c==0?p==0?6:5:p==0?4:0:S}function vc(c,p,S,j,R){switch(c>>>30){case 3:La(p,S,j,R,0);break;case 2:Yn(p,S,j,R);break;case 1:Ot(p,S,j,R)}}function Jn(c,p){var S,j,R=p.M,F=p.Nb,U=c.oc,W=c.pc+40,J=c.oc,te=c.pc+584,de=c.oc,xe=c.pc+600;for(S=0;16>S;++S)U[W+32*S-1]=129;for(S=0;8>S;++S)J[te+32*S-1]=129,de[xe+32*S-1]=129;for(0<R?U[W-1-32]=J[te-1-32]=de[xe-1-32]=129:(i(U,W-32-1,127,21),i(J,te-32-1,127,9),i(de,xe-32-1,127,9)),j=0;j<c.za;++j){var re=p.ya[p.aa+j];if(0<j){for(S=-1;16>S;++S)n(U,W+32*S-4,U,W+32*S+12,4);for(S=-1;8>S;++S)n(J,te+32*S-4,J,te+32*S+4,4),n(de,xe+32*S-4,de,xe+32*S+4,4)}var pe=c.Gd,ye=c.Hd+j,je=re.ad,be=re.Hc;if(0<R&&(n(U,W-32,pe[ye].y,0,16),n(J,te-32,pe[ye].f,0,8),n(de,xe-32,pe[ye].ea,0,8)),re.Za){var Ee=U,Pe=W-32+16;for(0<R&&(j>=c.za-1?i(Ee,Pe,pe[ye].y[15],4):n(Ee,Pe,pe[ye+1].y,0,4)),S=0;4>S;S++)Ee[Pe+128+S]=Ee[Pe+256+S]=Ee[Pe+384+S]=Ee[Pe+0+S];for(S=0;16>S;++S,be<<=2)Ee=U,Pe=W+rm[S],hi[re.Ob[S]](Ee,Pe),vc(be,je,16*+S,Ee,Pe)}else if(Ee=go(j,R,re.Ob[0]),zs[Ee](U,W),be!=0)for(S=0;16>S;++S,be<<=2)vc(be,je,16*+S,U,W+rm[S]);for(S=re.Gc,Ee=go(j,R,re.Dd),ls[Ee](J,te),ls[Ee](de,xe),be=je,Ee=J,Pe=te,255&(re=0|S)&&(170&re?zi(be,256,Ee,Pe):$t(be,256,Ee,Pe)),re=de,be=xe,255&(S>>=8)&&(170&S?zi(je,320,re,be):$t(je,320,re,be)),R<c.Ub-1&&(n(pe[ye].y,0,U,W+480,16),n(pe[ye].f,0,J,te+224,8),n(pe[ye].ea,0,de,xe+224,8)),S=8*F*c.B,pe=c.sa,ye=c.ta+16*j+16*F*c.R,je=c.qa,re=c.ra+8*j+S,be=c.Ha,Ee=c.Ia+8*j+S,S=0;16>S;++S)n(pe,ye+S*c.R,U,W+32*S,16);for(S=0;8>S;++S)n(je,re+S*c.B,J,te+32*S,8),n(be,Ee+S*c.B,de,xe+32*S,8)}}function ja(c,p,S,j,R,F,U,W,J){var te=[0],de=[0],xe=0,re=J!=null?J.kd:0,pe=J??new Oe;if(c==null||12>S)return 7;pe.data=c,pe.w=p,pe.ha=S,p=[p],S=[S],pe.gb=[pe.gb];e:{var ye=p,je=S,be=pe.gb;if(e(c!=null),e(je!=null),e(be!=null),be[0]=0,12<=je[0]&&!r(c,ye[0],"RIFF")){if(r(c,ye[0]+8,"WEBP")){be=3;break e}var Ee=C(c,ye[0]+4);if(12>Ee||4294967286<Ee){be=3;break e}if(re&&Ee>je[0]-8){be=7;break e}be[0]=Ee,ye[0]+=12,je[0]-=12}be=0}if(be!=0)return be;for(Ee=0<pe.gb[0],S=S[0];;){e:{var Pe=c;je=p,be=S;var ze=te,Ie=de,Qe=ye=[0];if((Ye=xe=[xe])[0]=0,8>be[0])be=7;else{if(!r(Pe,je[0],"VP8X")){if(C(Pe,je[0]+4)!=10){be=3;break e}if(18>be[0]){be=7;break e}var He=C(Pe,je[0]+8),xt=1+Se(Pe,je[0]+12);if(2147483648<=xt*(Pe=1+Se(Pe,je[0]+15))){be=3;break e}Qe!=null&&(Qe[0]=He),ze!=null&&(ze[0]=xt),Ie!=null&&(Ie[0]=Pe),je[0]+=18,be[0]-=18,Ye[0]=1}be=0}}if(xe=xe[0],ye=ye[0],be!=0)return be;if(je=!!(2&ye),!Ee&&xe)return 3;if(F!=null&&(F[0]=!!(16&ye)),U!=null&&(U[0]=je),W!=null&&(W[0]=0),U=te[0],ye=de[0],xe&&je&&J==null){be=0;break}if(4>S){be=7;break}if(Ee&&xe||!Ee&&!xe&&!r(c,p[0],"ALPH")){S=[S],pe.na=[pe.na],pe.P=[pe.P],pe.Sa=[pe.Sa];e:{He=c,be=p,Ee=S;var Ye=pe.gb;ze=pe.na,Ie=pe.P,Qe=pe.Sa,xt=22,e(He!=null),e(Ee!=null),Pe=be[0];var Nt=Ee[0];for(e(ze!=null),e(Qe!=null),ze[0]=null,Ie[0]=null,Qe[0]=0;;){if(be[0]=Pe,Ee[0]=Nt,8>Nt){be=7;break e}var Lr=C(He,Pe+4);if(4294967286<Lr){be=3;break e}var kt=8+Lr+1&-2;if(xt+=kt,0<Ye&&xt>Ye){be=3;break e}if(!r(He,Pe,"VP8 ")||!r(He,Pe,"VP8L")){be=0;break e}if(Nt[0]<kt){be=7;break e}r(He,Pe,"ALPH")||(ze[0]=He,Ie[0]=Pe+8,Qe[0]=Lr),Pe+=kt,Nt-=kt}}if(S=S[0],pe.na=pe.na[0],pe.P=pe.P[0],pe.Sa=pe.Sa[0],be!=0)break}S=[S],pe.Ja=[pe.Ja],pe.xa=[pe.xa];e:if(Ye=c,be=p,Ee=S,ze=pe.gb[0],Ie=pe.Ja,Qe=pe.xa,He=be[0],Pe=!r(Ye,He,"VP8 "),xt=!r(Ye,He,"VP8L"),e(Ye!=null),e(Ee!=null),e(Ie!=null),e(Qe!=null),8>Ee[0])be=7;else{if(Pe||xt){if(Ye=C(Ye,He+4),12<=ze&&Ye>ze-12){be=3;break e}if(re&&Ye>Ee[0]-8){be=7;break e}Ie[0]=Ye,be[0]+=8,Ee[0]-=8,Qe[0]=xt}else Qe[0]=5<=Ee[0]&&Ye[He+0]==47&&!(Ye[He+4]>>5),Ie[0]=Ee[0];be=0}if(S=S[0],pe.Ja=pe.Ja[0],pe.xa=pe.xa[0],p=p[0],be!=0)break;if(4294967286<pe.Ja)return 3;if(W==null||je||(W[0]=pe.xa?2:1),U=[U],ye=[ye],pe.xa){if(5>S){be=7;break}W=U,re=ye,je=F,c==null||5>S?c=0:5<=S&&c[p+0]==47&&!(c[p+4]>>5)?(Ee=[0],Ye=[0],ze=[0],K(Ie=new $,c,p,S),Ji(Ie,Ee,Ye,ze)?(W!=null&&(W[0]=Ee[0]),re!=null&&(re[0]=Ye[0]),je!=null&&(je[0]=ze[0]),c=1):c=0):c=0}else{if(10>S){be=7;break}W=ye,c==null||10>S||!ac(c,p+3,S-3)?c=0:(re=c[p+0]|c[p+1]<<8|c[p+2]<<16,je=16383&(c[p+7]<<8|c[p+6]),c=16383&(c[p+9]<<8|c[p+8]),1&re||3<(re>>1&7)||!(re>>4&1)||re>>5>=pe.Ja||!je||!c?c=0:(U&&(U[0]=je),W&&(W[0]=c),c=1))}if(!c||(U=U[0],ye=ye[0],xe&&(te[0]!=U||de[0]!=ye)))return 3;J!=null&&(J[0]=pe,J.offset=p-J.w,e(4294967286>p-J.w),e(J.offset==J.ha-S));break}return be==0||be==7&&xe&&J==null?(F!=null&&(F[0]|=pe.na!=null&&0<pe.na.length),j!=null&&(j[0]=U),R!=null&&(R[0]=ye),0):be}function Ol(c,p,S){var j=p.width,R=p.height,F=0,U=0,W=j,J=R;if(p.Da=c!=null&&0<c.Da,p.Da&&(W=c.cd,J=c.bd,F=c.v,U=c.j,11>S||(F&=-2,U&=-2),0>F||0>U||0>=W||0>=J||F+W>j||U+J>R))return 0;if(p.v=F,p.j=U,p.va=F+W,p.o=U+J,p.U=W,p.T=J,p.da=c!=null&&0<c.da,p.da){if(!H(W,J,S=[c.ib],F=[c.hb]))return 0;p.ib=S[0],p.hb=F[0]}return p.ob=c!=null&&c.ob,p.Kb=c==null||!c.Sd,p.da&&(p.ob=p.ib<3*j/4&&p.hb<3*R/4,p.Kb=0),1}function Il(c){if(c==null)return 2;if(11>c.S){var p=c.f.RGBA;p.fb+=(c.height-1)*p.A,p.A=-p.A}else p=c.f.kb,c=c.height,p.O+=(c-1)*p.fa,p.fa=-p.fa,p.N+=(c-1>>1)*p.Ab,p.Ab=-p.Ab,p.W+=(c-1>>1)*p.Db,p.Db=-p.Db,p.F!=null&&(p.J+=(c-1)*p.lb,p.lb=-p.lb);return 0}function Cs(c,p,S,j){if(j==null||0>=c||0>=p)return 2;if(S!=null){if(S.Da){var R=S.cd,F=S.bd,U=-2&S.v,W=-2&S.j;if(0>U||0>W||0>=R||0>=F||U+R>c||W+F>p)return 2;c=R,p=F}if(S.da){if(!H(c,p,R=[S.ib],F=[S.hb]))return 2;c=R[0],p=F[0]}}j.width=c,j.height=p;e:{var J=j.width,te=j.height;if(c=j.S,0>=J||0>=te||!(c>=bc&&13>c))c=2;else{if(0>=j.Rd&&j.sd==null){U=F=R=p=0;var de=(W=J*nm[c])*te;if(11>c||(F=(te+1)/2*(p=(J+1)/2),c==12&&(U=(R=J)*te)),(te=s(de+2*F+U))==null){c=1;break e}j.sd=te,11>c?((J=j.f.RGBA).eb=te,J.fb=0,J.A=W,J.size=de):((J=j.f.kb).y=te,J.O=0,J.fa=W,J.Fd=de,J.f=te,J.N=0+de,J.Ab=p,J.Cd=F,J.ea=te,J.W=0+de+F,J.Db=p,J.Ed=F,c==12&&(J.F=te,J.J=0+de+2*F),J.Tc=U,J.lb=R)}if(p=1,R=j.S,F=j.width,U=j.height,R>=bc&&13>R)if(11>R)c=j.f.RGBA,p&=(W=Math.abs(c.A))*(U-1)+F<=c.size,p&=W>=F*nm[R],p&=c.eb!=null;else{c=j.f.kb,W=(F+1)/2,de=(U+1)/2,J=Math.abs(c.fa),te=Math.abs(c.Ab);var xe=Math.abs(c.Db),re=Math.abs(c.lb),pe=re*(U-1)+F;p&=J*(U-1)+F<=c.Fd,p&=te*(de-1)+W<=c.Cd,p=(p&=xe*(de-1)+W<=c.Ed)&J>=F&te>=W&xe>=W,p&=c.y!=null,p&=c.f!=null,p&=c.ea!=null,R==12&&(p&=re>=F,p&=pe<=c.Tc,p&=c.F!=null)}else p=0;c=p?0:2}}return c!=0||S!=null&&S.fd&&(c=Il(j)),c}var Ea=64,Nn=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],An=24,Ls=32,as=8,Ps=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];_e("Predictor0","PredictorAdd0"),P.Predictor0=function(){return 4278190080},P.Predictor1=function(c){return c},P.Predictor2=function(c,p,S){return p[S+0]},P.Predictor3=function(c,p,S){return p[S+1]},P.Predictor4=function(c,p,S){return p[S-1]},P.Predictor5=function(c,p,S){return Ne(Ne(c,p[S+1]),p[S+0])},P.Predictor6=function(c,p,S){return Ne(c,p[S-1])},P.Predictor7=function(c,p,S){return Ne(c,p[S+0])},P.Predictor8=function(c,p,S){return Ne(p[S-1],p[S+0])},P.Predictor9=function(c,p,S){return Ne(p[S+0],p[S+1])},P.Predictor10=function(c,p,S){return Ne(Ne(c,p[S-1]),Ne(p[S+0],p[S+1]))},P.Predictor11=function(c,p,S){var j=p[S+0];return 0>=Fe(j>>24&255,c>>24&255,(p=p[S-1])>>24&255)+Fe(j>>16&255,c>>16&255,p>>16&255)+Fe(j>>8&255,c>>8&255,p>>8&255)+Fe(255&j,255&c,255&p)?j:c},P.Predictor12=function(c,p,S){var j=p[S+0];return(Re((c>>24&255)+(j>>24&255)-((p=p[S-1])>>24&255))<<24|Re((c>>16&255)+(j>>16&255)-(p>>16&255))<<16|Re((c>>8&255)+(j>>8&255)-(p>>8&255))<<8|Re((255&c)+(255&j)-(255&p)))>>>0},P.Predictor13=function(c,p,S){var j=p[S-1];return(Le((c=Ne(c,p[S+0]))>>24&255,j>>24&255)<<24|Le(c>>16&255,j>>16&255)<<16|Le(c>>8&255,j>>8&255)<<8|Le(255&c,255&j))>>>0};var Rl=P.PredictorAdd0;P.PredictorAdd1=Je,_e("Predictor2","PredictorAdd2"),_e("Predictor3","PredictorAdd3"),_e("Predictor4","PredictorAdd4"),_e("Predictor5","PredictorAdd5"),_e("Predictor6","PredictorAdd6"),_e("Predictor7","PredictorAdd7"),_e("Predictor8","PredictorAdd8"),_e("Predictor9","PredictorAdd9"),_e("Predictor10","PredictorAdd10"),_e("Predictor11","PredictorAdd11"),_e("Predictor12","PredictorAdd12"),_e("Predictor13","PredictorAdd13");var vo=P.PredictorAdd2;$e("ColorIndexInverseTransform","MapARGB","32b",function(c){return c>>8&255},function(c){return c}),$e("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(c){return c},function(c){return c>>8&255});var fr,yc=P.ColorIndexInverseTransform,Ii=P.MapARGB,Ri=P.VP8LColorIndexInverseTransformAlpha,zl=P.MapAlpha,Fl=P.VP8LPredictorsAdd=[];Fl.length=16,(P.VP8LPredictors=[]).length=16,(P.VP8LPredictorsAdd_C=[]).length=16,(P.VP8LPredictors_C=[]).length=16;var Dl,Bl,Ts,Os,Is,Ca,Rs,La,Yn,zi,Ot,$t,pr,Cr,os,Ul,yo,wc,T1,O1,I1,R1,z1,F1,Ml,D1,B1,U1,M1=s(511),q1=s(2041),$1=s(225),W1=s(767),H1=0,Vd=q1,_c=$1,jn=W1,Zn=M1,bc=0,xc=1,V1=2,kc=3,Sc=4,Gd=5,G1=6,Kd=7,Jd=8,Nc=9,Yd=10,Iw=[2,3,7],Rw=[3,3,11],K1=[280,256,256,256,40],zw=[0,1,1,1,0],Fw=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Dw=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Bw=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Uw=8,Zd=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Xd=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],ql=null,Mw=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],qw=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],J1=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],$w=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Ww=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Hw=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Vw=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],zs=[],hi=[],ls=[],Gw=1,Y1=2,Fs=[],Xn=[];is("UpsampleRgbLinePair",Es,3),is("UpsampleBgrLinePair",qr,3),is("UpsampleRgbaLinePair",ln,4),is("UpsampleBgraLinePair",Tl,4),is("UpsampleArgbLinePair",Pl,4),is("UpsampleRgba4444LinePair",Aa,2),is("UpsampleRgb565LinePair",Na,2);var Kw=P.UpsampleRgbLinePair,Jw=P.UpsampleBgrLinePair,Z1=P.UpsampleRgbaLinePair,X1=P.UpsampleBgraLinePair,Q1=P.UpsampleArgbLinePair,em=P.UpsampleRgba4444LinePair,Yw=P.UpsampleRgb565LinePair,Ac=16,jc=1<<Ac-1,$l=-227,Qd=482,Zw=6,tm=0,Xw=s(256),Qw=s(256),e_=s(256),t_=s(256),r_=s(Qd-$l),n_=s(Qd-$l);ss("YuvToRgbRow",Es,3),ss("YuvToBgrRow",qr,3),ss("YuvToRgbaRow",ln,4),ss("YuvToBgraRow",Tl,4),ss("YuvToArgbRow",Pl,4),ss("YuvToRgba4444Row",Aa,2),ss("YuvToRgb565Row",Na,2);var rm=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Ec=[0,2,8],i_=[8,7,6,4,4,2,2,2,1,1,1,1],s_=1;this.WebPDecodeRGBA=function(c,p,S,j,R){var F=xc,U=new Ce,W=new vt;U.ba=W,W.S=F,W.width=[W.width],W.height=[W.height];var J=W.width,te=W.height,de=new it;if(de==null||c==null)var xe=2;else e(de!=null),xe=ja(c,p,S,de.width,de.height,de.Pd,de.Qd,de.format,null);if(xe!=0?J=0:(J!=null&&(J[0]=de.width[0]),te!=null&&(te[0]=de.height[0]),J=1),J){W.width=W.width[0],W.height=W.height[0],j!=null&&(j[0]=W.width),R!=null&&(R[0]=W.height);e:{if(j=new uo,(R=new Oe).data=c,R.w=p,R.ha=S,R.kd=1,p=[0],e(R!=null),((c=ja(R.data,R.w,R.ha,null,null,null,p,null,R))==0||c==7)&&p[0]&&(c=4),(p=c)==0){if(e(U!=null),j.data=R.data,j.w=R.w+R.offset,j.ha=R.ha-R.offset,j.put=at,j.ac=Ei,j.bc=Ki,j.ma=U,R.xa){if((c=ga())==null){U=1;break e}if(function(re,pe){var ye=[0],je=[0],be=[0];t:for(;;){if(re==null)return 0;if(pe==null)return re.a=2,0;if(re.l=pe,re.a=0,K(re.m,pe.data,pe.w,pe.ha),!Ji(re.m,ye,je,be)){re.a=3;break t}if(re.xb=Y1,pe.width=ye[0],pe.height=je[0],!Li(ye[0],je[0],1,re,null))break t;return 1}return e(re.a!=0),0}(c,j)){if(j=(p=Cs(j.width,j.height,U.Oa,U.ba))==0){t:{j=c;r:for(;;){if(j==null){j=0;break t}if(e(j.s.yc!=null),e(j.s.Ya!=null),e(0<j.s.Wb),e((S=j.l)!=null),e((R=S.ma)!=null),j.xb!=0){if(j.ca=R.ba,j.tb=R.tb,e(j.ca!=null),!Ol(R.Oa,S,kc)){j.a=2;break r}if(!va(j,S.width)||S.da)break r;if((S.da||st(j.ca.S))&&ci(),11>j.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),j.ca.f.kb.F!=null&&ci()),j.Pb&&0<j.s.ua&&j.s.vb.X==null&&!z(j.s.vb,j.s.Wa.Xa)){j.a=1;break r}j.xb=0}if(!li(j,j.V,j.Ba,j.c,j.i,S.o,As))break r;R.Dc=j.Ma,j=1;break t}e(j.a!=0),j=0}j=!j}j&&(p=c.a)}else p=c.a}else{if((c=new Pd)==null){U=1;break e}if(c.Fa=R.na,c.P=R.P,c.qc=R.Sa,Ti(c,j)){if((p=Cs(j.width,j.height,U.Oa,U.ba))==0){if(c.Aa=0,S=U.Oa,e((R=c)!=null),S!=null){if(0<(J=0>(J=S.Md)?0:100<J?255:255*J/100)){for(te=de=0;4>te;++te)12>(xe=R.pb[te]).lc&&(xe.ia=J*i_[0>xe.lc?0:xe.lc]>>3),de|=xe.ia;de&&(alert("todo:VP8InitRandom"),R.ia=1)}R.Ga=S.Id,100<R.Ga?R.Ga=100:0>R.Ga&&(R.Ga=0)}(function(re,pe){if(re==null)return 0;if(pe==null)return xr(re,2,"NULL VP8Io parameter in VP8Decode().");if(!re.cb&&!Ti(re,pe))return 0;if(e(re.cb),pe.ac==null||pe.ac(pe)){pe.ob&&(re.L=0);var ye=Ec[re.L];if(re.L==2?(re.yb=0,re.zb=0):(re.yb=pe.v-ye>>4,re.zb=pe.j-ye>>4,0>re.yb&&(re.yb=0),0>re.zb&&(re.zb=0)),re.Va=pe.o+15+ye>>4,re.Hb=pe.va+15+ye>>4,re.Hb>re.za&&(re.Hb=re.za),re.Va>re.Ub&&(re.Va=re.Ub),0<re.L){var je=re.ed;for(ye=0;4>ye;++ye){var be;if(re.Qa.Cb){var Ee=re.Qa.Lb[ye];re.Qa.Fb||(Ee+=je.Tb)}else Ee=je.Tb;for(be=0;1>=be;++be){var Pe=re.gd[ye][be],ze=Ee;if(je.Pc&&(ze+=je.vd[0],be&&(ze+=je.od[0])),0<(ze=0>ze?0:63<ze?63:ze)){var Ie=ze;0<je.wb&&(Ie=4<je.wb?Ie>>2:Ie>>1)>9-je.wb&&(Ie=9-je.wb),1>Ie&&(Ie=1),Pe.dd=Ie,Pe.tc=2*ze+Ie,Pe.ld=40<=ze?2:15<=ze?1:0}else Pe.tc=0;Pe.La=be}}}ye=0}else xr(re,6,"Frame setup failed"),ye=re.a;if(ye=ye==0){if(ye){re.$c=0,0<re.Aa||(re.Ic=s_);t:{ye=re.Ic,je=4*(Ie=re.za);var Qe=32*Ie,He=Ie+1,xt=0<re.L?Ie*(0<re.Aa?2:1):0,Ye=(re.Aa==2?2:1)*Ie;if((Pe=je+832+(be=3*(16*ye+Ec[re.L])/2*Qe)+(Ee=re.Fa!=null&&0<re.Fa.length?re.Kc.c*re.Kc.i:0))!=Pe)ye=0;else{if(Pe>re.Vb){if(re.Vb=0,re.Ec=s(Pe),re.Fc=0,re.Ec==null){ye=xr(re,1,"no memory during frame initialization.");break t}re.Vb=Pe}Pe=re.Ec,ze=re.Fc,re.Ac=Pe,re.Bc=ze,ze+=je,re.Gd=a(Qe,ic),re.Hd=0,re.rb=a(He+1,_l),re.sb=1,re.wa=xt?a(xt,Gn):null,re.Y=0,re.D.Nb=0,re.D.wa=re.wa,re.D.Y=re.Y,0<re.Aa&&(re.D.Y+=Ie),e(!0),re.oc=Pe,re.pc=ze,ze+=832,re.ya=a(Ye,bl),re.aa=0,re.D.ya=re.ya,re.D.aa=re.aa,re.Aa==2&&(re.D.aa+=Ie),re.R=16*Ie,re.B=8*Ie,Ie=(Qe=Ec[re.L])*re.R,Qe=Qe/2*re.B,re.sa=Pe,re.ta=ze+Ie,re.qa=re.sa,re.ra=re.ta+16*ye*re.R+Qe,re.Ha=re.qa,re.Ia=re.ra+8*ye*re.B+Qe,re.$c=0,ze+=be,re.mb=Ee?Pe:null,re.nb=Ee?ze:null,e(ze+Ee<=re.Fc+re.Vb),oc(re),i(re.Ac,re.Bc,0,je),ye=1}}if(ye){if(pe.ka=0,pe.y=re.sa,pe.O=re.ta,pe.f=re.qa,pe.N=re.ra,pe.ea=re.Ha,pe.Vd=re.Ia,pe.fa=re.R,pe.Rc=re.B,pe.F=null,pe.J=0,!H1){for(ye=-255;255>=ye;++ye)M1[255+ye]=0>ye?-ye:ye;for(ye=-1020;1020>=ye;++ye)q1[1020+ye]=-128>ye?-128:127<ye?127:ye;for(ye=-112;112>=ye;++ye)$1[112+ye]=-16>ye?-16:15<ye?15:ye;for(ye=-255;510>=ye;++ye)W1[255+ye]=0>ye?0:255<ye?255:ye;H1=1}Rs=ho,La=Od,zi=Oi,Ot=uc,$t=cc,Yn=Td,pr=mc,Cr=xa,os=O,Ul=ne,yo=gc,wc=w,T1=ae,O1=ge,I1=ba,R1=Cl,z1=fc,F1=pc,hi[0]=Md,hi[1]=Id,hi[2]=Bd,hi[3]=Ud,hi[4]=Zi,hi[5]=qd,hi[6]=Xi,hi[7]=$d,hi[8]=Sl,hi[9]=fo,zs[0]=Fd,zs[1]=zd,zs[2]=xl,zs[3]=hc,zs[4]=wa,zs[5]=kl,zs[6]=Dd,ls[0]=Hd,ls[1]=Rd,ls[2]=_a,ls[3]=Wd,ls[4]=Al,ls[5]=Nl,ls[6]=dc,ye=1}else ye=0}ye&&(ye=function(Nt,Lr){for(Nt.M=0;Nt.M<Nt.Va;++Nt.M){var kt,Ze=Nt.Jc[Nt.M&Nt.Xb],Be=Nt.m,mr=Nt;for(kt=0;kt<mr.za;++kt){var _t=Be,jt=mr,Yt=jt.Ac,$r=jt.Bc+4*kt,un=jt.zc,lr=jt.ya[jt.aa+kt];if(jt.Qa.Bb?lr.$b=Ae(_t,jt.Pa.jb[0])?2+Ae(_t,jt.Pa.jb[2]):Ae(_t,jt.Pa.jb[1]):lr.$b=0,jt.kc&&(lr.Ad=Ae(_t,jt.Bd)),lr.Za=!Ae(_t,145)+0,lr.Za){var Xr=lr.Ob,cn=0;for(jt=0;4>jt;++jt){var Pr,Ct=un[0+jt];for(Pr=0;4>Pr;++Pr){Ct=Ww[Yt[$r+Pr]][Ct];for(var Rt=J1[Ae(_t,Ct[0])];0<Rt;)Rt=J1[2*Rt+Ae(_t,Ct[Rt])];Ct=-Rt,Yt[$r+Pr]=Ct}n(Xr,cn,Yt,$r,4),cn+=4,un[0+jt]=Ct}}else Ct=Ae(_t,156)?Ae(_t,128)?1:3:Ae(_t,163)?2:0,lr.Ob[0]=Ct,i(Yt,$r,Ct,4),i(un,0,Ct,4);lr.Dd=Ae(_t,142)?Ae(_t,114)?Ae(_t,183)?1:3:2:0}if(mr.m.Ka)return xr(Nt,7,"Premature end-of-partition0 encountered.");for(;Nt.ja<Nt.za;++Nt.ja){if(mr=Ze,_t=(Be=Nt).rb[Be.sb-1],Yt=Be.rb[Be.sb+Be.ja],kt=Be.ya[Be.aa+Be.ja],$r=Be.kc?kt.Ad:0)_t.la=Yt.la=0,kt.Za||(_t.Na=Yt.Na=0),kt.Hc=0,kt.Gc=0,kt.ia=0;else{var ur,zt;if(_t=Yt,Yt=mr,$r=Be.Pa.Xc,un=Be.ya[Be.aa+Be.ja],lr=Be.pb[un.$b],jt=un.ad,Xr=0,cn=Be.rb[Be.sb-1],Ct=Pr=0,i(jt,Xr,0,384),un.Za)var Wr=0,di=$r[3];else{Rt=s(16);var gr=_t.Na+cn.Na;if(gr=ql(Yt,$r[1],gr,lr.Eb,0,Rt,0),_t.Na=cn.Na=(0<gr)+0,1<gr)Rs(Rt,0,jt,Xr);else{var gn=Rt[0]+3>>3;for(Rt=0;256>Rt;Rt+=16)jt[Xr+Rt]=gn}Wr=1,di=$r[0]}var Wt=15&_t.la,Tr=15&cn.la;for(Rt=0;4>Rt;++Rt){var En=1&Tr;for(gn=zt=0;4>gn;++gn)Wt=Wt>>1|(En=(gr=ql(Yt,di,gr=En+(1&Wt),lr.Sc,Wr,jt,Xr))>Wr)<<7,zt=zt<<2|(3<gr?3:1<gr?2:jt[Xr+0]!=0),Xr+=16;Wt>>=4,Tr=Tr>>1|En<<7,Pr=(Pr<<8|zt)>>>0}for(di=Wt,Wr=Tr>>4,ur=0;4>ur;ur+=2){for(zt=0,Wt=_t.la>>4+ur,Tr=cn.la>>4+ur,Rt=0;2>Rt;++Rt){for(En=1&Tr,gn=0;2>gn;++gn)gr=En+(1&Wt),Wt=Wt>>1|(En=0<(gr=ql(Yt,$r[2],gr,lr.Qc,0,jt,Xr)))<<3,zt=zt<<2|(3<gr?3:1<gr?2:jt[Xr+0]!=0),Xr+=16;Wt>>=2,Tr=Tr>>1|En<<5}Ct|=zt<<4*ur,di|=Wt<<4<<ur,Wr|=(240&Tr)<<ur}_t.la=di,cn.la=Wr,un.Hc=Pr,un.Gc=Ct,un.ia=43690&Ct?0:lr.ia,$r=!(Pr|Ct)}if(0<Be.L&&(Be.wa[Be.Y+Be.ja]=Be.gd[kt.$b][kt.Za],Be.wa[Be.Y+Be.ja].La|=!$r),mr.Ka)return xr(Nt,7,"Premature end-of-file encountered.")}if(oc(Nt),Be=Lr,mr=1,kt=(Ze=Nt).D,_t=0<Ze.L&&Ze.M>=Ze.zb&&Ze.M<=Ze.Va,Ze.Aa==0)t:{if(kt.M=Ze.M,kt.uc=_t,Jn(Ze,kt),mr=1,kt=(zt=Ze.D).Nb,_t=(Ct=Ec[Ze.L])*Ze.R,Yt=Ct/2*Ze.B,Rt=16*kt*Ze.R,gn=8*kt*Ze.B,$r=Ze.sa,un=Ze.ta-_t+Rt,lr=Ze.qa,jt=Ze.ra-Yt+gn,Xr=Ze.Ha,cn=Ze.Ia-Yt+gn,Tr=(Wt=zt.M)==0,Pr=Wt>=Ze.Va-1,Ze.Aa==2&&Jn(Ze,zt),zt.uc)for(En=(gr=Ze).D.M,e(gr.D.uc),zt=gr.yb;zt<gr.Hb;++zt){Wr=zt,di=En;var hn=(Cn=(Hr=gr).D).Nb;ur=Hr.R;var Cn=Cn.wa[Cn.Y+Wr],Ln=Hr.sa,vn=Hr.ta+16*hn*ur+16*Wr,Pn=Cn.dd,Gt=Cn.tc;if(Gt!=0)if(e(3<=Gt),Hr.L==1)0<Wr&&R1(Ln,vn,ur,Gt+4),Cn.La&&F1(Ln,vn,ur,Gt),0<di&&I1(Ln,vn,ur,Gt+4),Cn.La&&z1(Ln,vn,ur,Gt);else{var Tn=Hr.B,fi=Hr.qa,Pa=Hr.ra+8*hn*Tn+8*Wr,us=Hr.Ha,Hr=Hr.Ia+8*hn*Tn+8*Wr;hn=Cn.ld,0<Wr&&(Cr(Ln,vn,ur,Gt+4,Pn,hn),Ul(fi,Pa,us,Hr,Tn,Gt+4,Pn,hn)),Cn.La&&(wc(Ln,vn,ur,Gt,Pn,hn),O1(fi,Pa,us,Hr,Tn,Gt,Pn,hn)),0<di&&(pr(Ln,vn,ur,Gt+4,Pn,hn),os(fi,Pa,us,Hr,Tn,Gt+4,Pn,hn)),Cn.La&&(yo(Ln,vn,ur,Gt,Pn,hn),T1(fi,Pa,us,Hr,Tn,Gt,Pn,hn))}}if(Ze.ia&&alert("todo:DitherRow"),Be.put!=null){if(zt=16*Wt,Wt=16*(Wt+1),Tr?(Be.y=Ze.sa,Be.O=Ze.ta+Rt,Be.f=Ze.qa,Be.N=Ze.ra+gn,Be.ea=Ze.Ha,Be.W=Ze.Ia+gn):(zt-=Ct,Be.y=$r,Be.O=un,Be.f=lr,Be.N=jt,Be.ea=Xr,Be.W=cn),Pr||(Wt-=Ct),Wt>Be.o&&(Wt=Be.o),Be.F=null,Be.J=null,Ze.Fa!=null&&0<Ze.Fa.length&&zt<Wt&&(Be.J=Vt(Ze,Be,zt,Wt-zt),Be.F=Ze.mb,Be.F==null&&Be.F.length==0)){mr=xr(Ze,3,"Could not decode alpha data.");break t}zt<Be.j&&(Ct=Be.j-zt,zt=Be.j,e(!(1&Ct)),Be.O+=Ze.R*Ct,Be.N+=Ze.B*(Ct>>1),Be.W+=Ze.B*(Ct>>1),Be.F!=null&&(Be.J+=Be.width*Ct)),zt<Wt&&(Be.O+=Be.v,Be.N+=Be.v>>1,Be.W+=Be.v>>1,Be.F!=null&&(Be.J+=Be.v),Be.ka=zt-Be.j,Be.U=Be.va-Be.v,Be.T=Wt-zt,mr=Be.put(Be))}kt+1!=Ze.Ic||Pr||(n(Ze.sa,Ze.ta-_t,$r,un+16*Ze.R,_t),n(Ze.qa,Ze.ra-Yt,lr,jt+8*Ze.B,Yt),n(Ze.Ha,Ze.Ia-Yt,Xr,cn+8*Ze.B,Yt))}if(!mr)return xr(Nt,6,"Output aborted.")}return 1}(re,pe)),pe.bc!=null&&pe.bc(pe),ye&=1}return ye?(re.cb=0,ye):0})(c,j)||(p=c.a)}}else p=c.a}p==0&&U.Oa!=null&&U.Oa.fd&&(p=Il(U.ba))}U=p}F=U!=0?null:11>F?W.f.RGBA.eb:W.f.kb.y}else F=null;return F};var nm=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(P,G){for(var I="",L=0;L<4;L++)I+=String.fromCharCode(P[G++]);return I}function d(P,G){return P[G+0]|P[G+1]<<8}function m(P,G){return(P[G+0]|P[G+1]<<8|P[G+2]<<16)>>>0}function v(P,G){return(P[G+0]|P[G+1]<<8|P[G+2]<<16|P[G+3]<<24)>>>0}new l;var h=[0],b=[0],y=[],k=new l,g=t,_=function(P,G){var I={},L=0,M=!1,N=0,Q=0;if(I.frames=[],!function(E,$){for(var V=0;V<4;V++)if(E[$+V]!="RIFF".charCodeAt(V))return!0;return!1}(P,G)){for(v(P,G+=4),G+=8;G<P.length;){var fe=u(P,G),se=v(P,G+=4);G+=4;var ie=se+(1&se);switch(fe){case"VP8 ":case"VP8L":I.frames[L]===void 0&&(I.frames[L]={}),(Y=I.frames[L]).src_off=M?Q:G-8,Y.src_size=N+se+8,L++,M&&(M=!1,N=0,Q=0);break;case"VP8X":(Y=I.header={}).feature_flags=P[G];var K=G+4;Y.canvas_width=1+m(P,K),K+=3,Y.canvas_height=1+m(P,K),K+=3;break;case"ALPH":M=!0,N=ie+8,Q=G-8;break;case"ANIM":(Y=I.header).bgcolor=v(P,G),K=G+4,Y.loop_count=d(P,K),K+=2;break;case"ANMF":var ue,Y;(Y=I.frames[L]={}).offset_x=2*m(P,G),G+=3,Y.offset_y=2*m(P,G),G+=3,Y.width=1+m(P,G),G+=3,Y.height=1+m(P,G),G+=3,Y.duration=m(P,G),G+=3,ue=P[G++],Y.dispose=1&ue,Y.blend=ue>>1&1}fe!="ANMF"&&(G+=ie)}return I}}(g,0);_.response=g,_.rgbaoutput=!0,_.dataurl=!1;var x=_.header?_.header:null,A=_.frames?_.frames:null;if(x){x.loop_counter=x.loop_count,h=[x.canvas_height],b=[x.canvas_width];for(var T=0;T<A.length&&A[T].blend!=0;T++);}var q=A[0],B=k.WebPDecodeRGBA(g,q.src_off,q.src_size,b,h);q.rgba=B,q.imgwidth=b[0],q.imgheight=h[0];for(var D=0;D<b[0]*h[0]*4;D++)y[D]=B[D];return this.width=b,this.height=h,this.data=y,this}(function(t){var e,r,n,i,s,a,o,l,u,d=function(E){return E=E||{},this.isStrokeTransparent=E.isStrokeTransparent||!1,this.strokeOpacity=E.strokeOpacity||1,this.strokeStyle=E.strokeStyle||"#000000",this.fillStyle=E.fillStyle||"#000000",this.isFillTransparent=E.isFillTransparent||!1,this.fillOpacity=E.fillOpacity||1,this.font=E.font||"10px sans-serif",this.textBaseline=E.textBaseline||"alphabetic",this.textAlign=E.textAlign||"left",this.lineWidth=E.lineWidth||1,this.lineJoin=E.lineJoin||"miter",this.lineCap=E.lineCap||"butt",this.path=E.path||[],this.transform=E.transform!==void 0?E.transform.clone():new l,this.globalCompositeOperation=E.globalCompositeOperation||"normal",this.globalAlpha=E.globalAlpha||1,this.clip_path=E.clip_path||[],this.currentPoint=E.currentPoint||new a,this.miterLimit=E.miterLimit||10,this.lastPoint=E.lastPoint||new a,this.lineDashOffset=E.lineDashOffset||0,this.lineDash=E.lineDash||[],this.margin=E.margin||[0,0,0,0],this.prevPageLastElemOffset=E.prevPageLastElemOffset||0,this.ignoreClearRect=typeof E.ignoreClearRect!="boolean"||E.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new m(this),e=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,a=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,u=new d}]);var m=function(E){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var $=E;Object.defineProperty(this,"pdf",{get:function(){return $}});var V=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return V},set:function(z){V=!!z}});var Z=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Z},set:function(z){Z=!!z}});var oe=0;Object.defineProperty(this,"posX",{get:function(){return oe},set:function(z){isNaN(z)||(oe=z)}});var me=0;Object.defineProperty(this,"posY",{get:function(){return me},set:function(z){isNaN(z)||(me=z)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(z){var le;typeof z=="number"?le=[z,z,z,z]:((le=new Array(4))[0]=z[0],le[1]=z.length>=2?z[1]:le[0],le[2]=z.length>=3?z[2]:le[0],le[3]=z.length>=4?z[3]:le[1]),u.margin=le}});var ve=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ve},set:function(z){ve=z}});var we=0;Object.defineProperty(this,"lastBreak",{get:function(){return we},set:function(z){we=z}});var Ae=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ae},set:function(z){Ae=z}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(z){z instanceof d&&(u=z)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(z){u.path=z}});var Te=[];Object.defineProperty(this,"ctxStack",{get:function(){return Te},set:function(z){Te=z}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(z){var le;le=v(z),this.ctx.fillStyle=le.style,this.ctx.isFillTransparent=le.a===0,this.ctx.fillOpacity=le.a,this.pdf.setFillColor(le.r,le.g,le.b,{a:le.a}),this.pdf.setTextColor(le.r,le.g,le.b,{a:le.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(z){var le=v(z);this.ctx.strokeStyle=le.style,this.ctx.isStrokeTransparent=le.a===0,this.ctx.strokeOpacity=le.a,le.a===0?this.pdf.setDrawColor(255,255,255):(le.a,this.pdf.setDrawColor(le.r,le.g,le.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(z){["butt","round","square"].indexOf(z)!==-1&&(this.ctx.lineCap=z,this.pdf.setLineCap(z))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(z){isNaN(z)||(this.ctx.lineWidth=z,this.pdf.setLineWidth(z))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(z){["bevel","round","miter"].indexOf(z)!==-1&&(this.ctx.lineJoin=z,this.pdf.setLineJoin(z))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(z){isNaN(z)||(this.ctx.miterLimit=z,this.pdf.setMiterLimit(z))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(z){this.ctx.textBaseline=z}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(z){["right","end","center","left","start"].indexOf(z)!==-1&&(this.ctx.textAlign=z)}});var ce=null,Se=null,C=null;Object.defineProperty(this,"fontFaces",{get:function(){return C},set:function(z){ce=null,Se=null,C=z}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(z){var le;if(this.ctx.font=z,(le=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(z))!==null){var X=le[1];le[2];var H=le[3],ee=le[4];le[5];var ke=le[6],_e=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(ee)[2];ee=Math.floor(_e==="px"?parseFloat(ee)*this.pdf.internal.scaleFactor:_e==="em"?parseFloat(ee)*this.pdf.getFontSize():parseFloat(ee)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(ee);var he=function($e){var Mt,nt,gt=[],wt=$e.trim();if(wt==="")return up;if(wt in Hg)return[Hg[wt]];for(;wt!=="";){switch(nt=null,Mt=(wt=Gg(wt)).charAt(0)){case'"':case"'":nt=GS(wt.substring(1),Mt);break;default:nt=KS(wt)}if(nt===null||(gt.push(nt[0]),(wt=Gg(nt[1]))!==""&&wt.charAt(0)!==","))return up;wt=wt.replace(/^,/,"")}return gt}(ke);if(this.fontFaces){var Ne=function($e,Mt){var nt=$e.getFontList(),gt=JSON.stringify(nt);if(ce===null||Se!==gt){var wt=function(At){var rt=[];return Object.keys(At).forEach(function(Ut){At[Ut].forEach(function(st){var ft=null;switch(st){case"bold":ft={family:Ut,weight:"bold"};break;case"italic":ft={family:Ut,style:"italic"};break;case"bolditalic":ft={family:Ut,weight:"bold",style:"italic"};break;case"":case"normal":ft={family:Ut}}ft!==null&&(ft.ref={name:Ut,style:st},rt.push(ft))})}),rt}(nt);ce=function(At){for(var rt={},Ut=0;Ut<At.length;++Ut){var st=lp(At[Ut]),ft=st.family,qt=st.stretch,vt=st.style,it=st.weight;rt[ft]=rt[ft]||{},rt[ft][qt]=rt[ft][qt]||{},rt[ft][qt][vt]=rt[ft][qt][vt]||{},rt[ft][qt][vt][it]=st}return rt}(wt.concat(Mt)),Se=gt}return ce}(this.pdf,this.fontFaces),Re=he.map(function($e){return{family:$e,stretch:"normal",weight:H,style:X}}),Le=function($e,Mt,nt){for(var gt=(nt=nt||{}).defaultFontFamily||"times",wt=Object.assign({},VS,nt.genericFontFamilies||{}),At=null,rt=null,Ut=0;Ut<Mt.length;++Ut)if(wt[(At=lp(Mt[Ut])).family]&&(At.family=wt[At.family]),$e.hasOwnProperty(At.family)){rt=$e[At.family];break}if(!(rt=rt||$e[gt]))throw new Error("Could not find a font-family for the rule '"+Vg(At)+"' and default family '"+gt+"'.");if(rt=function(st,ft){if(ft[st])return ft[st];var qt=A0[st],vt=qt<=A0.normal?-1:1,it=Wg(ft,Ew,qt,vt);if(!it)throw new Error("Could not find a matching font-stretch value for "+st);return it}(At.stretch,rt),rt=function(st,ft){if(ft[st])return ft[st];for(var qt=jw[st],vt=0;vt<qt.length;++vt)if(ft[qt[vt]])return ft[qt[vt]];throw new Error("Could not find a matching font-style for "+st)}(At.style,rt),!(rt=function(st,ft){if(ft[st])return ft[st];if(st===400&&ft[500])return ft[500];if(st===500&&ft[400])return ft[400];var qt=HS[st],vt=Wg(ft,Cw,qt,st<400?-1:1);if(!vt)throw new Error("Could not find a matching font-weight for value "+st);return vt}(At.weight,rt)))throw new Error("Failed to resolve a font for the rule '"+Vg(At)+"'.");return rt}(Ne,Re);this.pdf.setFont(Le.ref.name,Le.ref.style)}else{var Fe="";(H==="bold"||parseInt(H,10)>=700||X==="bold")&&(Fe="bold"),X==="italic"&&(Fe+="italic"),Fe.length===0&&(Fe="normal");for(var Je="",qe={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Me=0;Me<he.length;Me++){if(this.pdf.internal.getFont(he[Me],Fe,{noFallback:!0,disableWarning:!0})!==void 0){Je=he[Me];break}if(Fe==="bolditalic"&&this.pdf.internal.getFont(he[Me],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Je=he[Me],Fe="bold";else if(this.pdf.internal.getFont(he[Me],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Je=he[Me],Fe="normal";break}}if(Je===""){for(var ct=0;ct<he.length;ct++)if(qe[he[ct]]){Je=qe[he[ct]];break}}Je=Je===""?"Times":Je,this.pdf.setFont(Je,Fe)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(z){this.ctx.globalCompositeOperation=z}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(z){this.ctx.globalAlpha=z}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(z){this.ctx.lineDashOffset=z,Y.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(z){this.ctx.lineDash=z,Y.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(z){this.ctx.ignoreClearRect=!!z}})};m.prototype.setLineDash=function(E){this.lineDash=E},m.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},m.prototype.fill=function(){A.call(this,"fill",!1)},m.prototype.stroke=function(){A.call(this,"stroke",!1)},m.prototype.beginPath=function(){this.path=[{type:"begin"}]},m.prototype.moveTo=function(E,$){if(isNaN(E)||isNaN($))throw Ht.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var V=this.ctx.transform.applyToPoint(new a(E,$));this.path.push({type:"mt",x:V.x,y:V.y}),this.ctx.lastPoint=new a(E,$)},m.prototype.closePath=function(){var E=new a(0,0),$=0;for($=this.path.length-1;$!==-1;$--)if(this.path[$].type==="begin"&&Dt(this.path[$+1])==="object"&&typeof this.path[$+1].x=="number"){E=new a(this.path[$+1].x,this.path[$+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(E.x,E.y)},m.prototype.lineTo=function(E,$){if(isNaN(E)||isNaN($))throw Ht.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var V=this.ctx.transform.applyToPoint(new a(E,$));this.path.push({type:"lt",x:V.x,y:V.y}),this.ctx.lastPoint=new a(V.x,V.y)},m.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),A.call(this,null,!0)},m.prototype.quadraticCurveTo=function(E,$,V,Z){if(isNaN(V)||isNaN(Z)||isNaN(E)||isNaN($))throw Ht.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var oe=this.ctx.transform.applyToPoint(new a(V,Z)),me=this.ctx.transform.applyToPoint(new a(E,$));this.path.push({type:"qct",x1:me.x,y1:me.y,x:oe.x,y:oe.y}),this.ctx.lastPoint=new a(oe.x,oe.y)},m.prototype.bezierCurveTo=function(E,$,V,Z,oe,me){if(isNaN(oe)||isNaN(me)||isNaN(E)||isNaN($)||isNaN(V)||isNaN(Z))throw Ht.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ve=this.ctx.transform.applyToPoint(new a(oe,me)),we=this.ctx.transform.applyToPoint(new a(E,$)),Ae=this.ctx.transform.applyToPoint(new a(V,Z));this.path.push({type:"bct",x1:we.x,y1:we.y,x2:Ae.x,y2:Ae.y,x:ve.x,y:ve.y}),this.ctx.lastPoint=new a(ve.x,ve.y)},m.prototype.arc=function(E,$,V,Z,oe,me){if(isNaN(E)||isNaN($)||isNaN(V)||isNaN(Z)||isNaN(oe))throw Ht.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(me=!!me,!this.ctx.transform.isIdentity){var ve=this.ctx.transform.applyToPoint(new a(E,$));E=ve.x,$=ve.y;var we=this.ctx.transform.applyToPoint(new a(0,V)),Ae=this.ctx.transform.applyToPoint(new a(0,0));V=Math.sqrt(Math.pow(we.x-Ae.x,2)+Math.pow(we.y-Ae.y,2))}Math.abs(oe-Z)>=2*Math.PI&&(Z=0,oe=2*Math.PI),this.path.push({type:"arc",x:E,y:$,radius:V,startAngle:Z,endAngle:oe,counterclockwise:me})},m.prototype.arcTo=function(E,$,V,Z,oe){throw new Error("arcTo not implemented.")},m.prototype.rect=function(E,$,V,Z){if(isNaN(E)||isNaN($)||isNaN(V)||isNaN(Z))throw Ht.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(E,$),this.lineTo(E+V,$),this.lineTo(E+V,$+Z),this.lineTo(E,$+Z),this.lineTo(E,$),this.lineTo(E+V,$),this.lineTo(E,$)},m.prototype.fillRect=function(E,$,V,Z){if(isNaN(E)||isNaN($)||isNaN(V)||isNaN(Z))throw Ht.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!h.call(this)){var oe={};this.lineCap!=="butt"&&(oe.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(oe.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(E,$,V,Z),this.fill(),oe.hasOwnProperty("lineCap")&&(this.lineCap=oe.lineCap),oe.hasOwnProperty("lineJoin")&&(this.lineJoin=oe.lineJoin)}},m.prototype.strokeRect=function(E,$,V,Z){if(isNaN(E)||isNaN($)||isNaN(V)||isNaN(Z))throw Ht.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");b.call(this)||(this.beginPath(),this.rect(E,$,V,Z),this.stroke())},m.prototype.clearRect=function(E,$,V,Z){if(isNaN(E)||isNaN($)||isNaN(V)||isNaN(Z))throw Ht.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(E,$,V,Z))},m.prototype.save=function(E){E=typeof E!="boolean"||E;for(var $=this.pdf.internal.getCurrentPageInfo().pageNumber,V=0;V<this.pdf.internal.getNumberOfPages();V++)this.pdf.setPage(V+1),this.pdf.internal.out("q");if(this.pdf.setPage($),E){this.ctx.fontSize=this.pdf.internal.getFontSize();var Z=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Z}},m.prototype.restore=function(E){E=typeof E!="boolean"||E;for(var $=this.pdf.internal.getCurrentPageInfo().pageNumber,V=0;V<this.pdf.internal.getNumberOfPages();V++)this.pdf.setPage(V+1),this.pdf.internal.out("Q");this.pdf.setPage($),E&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},m.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var v=function(E){var $,V,Z,oe;if(E.isCanvasGradient===!0&&(E=E.getColor()),!E)return{r:0,g:0,b:0,a:0,style:E};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(E))$=0,V=0,Z=0,oe=0;else{var me=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(E);if(me!==null)$=parseInt(me[1]),V=parseInt(me[2]),Z=parseInt(me[3]),oe=1;else if((me=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(E))!==null)$=parseInt(me[1]),V=parseInt(me[2]),Z=parseInt(me[3]),oe=parseFloat(me[4]);else{if(oe=1,typeof E=="string"&&E.charAt(0)!=="#"){var ve=new _w(E);E=ve.ok?ve.toHex():"#000000"}E.length===4?($=E.substring(1,2),$+=$,V=E.substring(2,3),V+=V,Z=E.substring(3,4),Z+=Z):($=E.substring(1,3),V=E.substring(3,5),Z=E.substring(5,7)),$=parseInt($,16),V=parseInt(V,16),Z=parseInt(Z,16)}}return{r:$,g:V,b:Z,a:oe,style:E}},h=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},b=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};m.prototype.fillText=function(E,$,V,Z){if(isNaN($)||isNaN(V)||typeof E!="string")throw Ht.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Z=isNaN(Z)?void 0:Z,!h.call(this)){var oe=ie(this.ctx.transform.rotation),me=this.ctx.transform.scaleX;L.call(this,{text:E,x:$,y:V,scale:me,angle:oe,align:this.textAlign,maxWidth:Z})}},m.prototype.strokeText=function(E,$,V,Z){if(isNaN($)||isNaN(V)||typeof E!="string")throw Ht.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!b.call(this)){Z=isNaN(Z)?void 0:Z;var oe=ie(this.ctx.transform.rotation),me=this.ctx.transform.scaleX;L.call(this,{text:E,x:$,y:V,scale:me,renderingMode:"stroke",angle:oe,align:this.textAlign,maxWidth:Z})}},m.prototype.measureText=function(E){if(typeof E!="string")throw Ht.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var $=this.pdf,V=this.pdf.internal.scaleFactor,Z=$.internal.getFontSize(),oe=$.getStringUnitWidth(E)*Z/$.internal.scaleFactor;return new function(me){var ve=(me=me||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ve}}),this}({width:oe*=Math.round(96*V/72*1e4)/1e4})},m.prototype.scale=function(E,$){if(isNaN(E)||isNaN($))throw Ht.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var V=new l(E,0,0,$,0,0);this.ctx.transform=this.ctx.transform.multiply(V)},m.prototype.rotate=function(E){if(isNaN(E))throw Ht.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var $=new l(Math.cos(E),Math.sin(E),-Math.sin(E),Math.cos(E),0,0);this.ctx.transform=this.ctx.transform.multiply($)},m.prototype.translate=function(E,$){if(isNaN(E)||isNaN($))throw Ht.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var V=new l(1,0,0,1,E,$);this.ctx.transform=this.ctx.transform.multiply(V)},m.prototype.transform=function(E,$,V,Z,oe,me){if(isNaN(E)||isNaN($)||isNaN(V)||isNaN(Z)||isNaN(oe)||isNaN(me))throw Ht.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ve=new l(E,$,V,Z,oe,me);this.ctx.transform=this.ctx.transform.multiply(ve)},m.prototype.setTransform=function(E,$,V,Z,oe,me){E=isNaN(E)?1:E,$=isNaN($)?0:$,V=isNaN(V)?0:V,Z=isNaN(Z)?1:Z,oe=isNaN(oe)?0:oe,me=isNaN(me)?0:me,this.ctx.transform=new l(E,$,V,Z,oe,me)};var y=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};m.prototype.drawImage=function(E,$,V,Z,oe,me,ve,we,Ae){var Te=this.pdf.getImageProperties(E),ce=1,Se=1,C=1,z=1;Z!==void 0&&we!==void 0&&(C=we/Z,z=Ae/oe,ce=Te.width/Z*we/Z,Se=Te.height/oe*Ae/oe),me===void 0&&(me=$,ve=V,$=0,V=0),Z!==void 0&&we===void 0&&(we=Z,Ae=oe),Z===void 0&&we===void 0&&(we=Te.width,Ae=Te.height);var le=this.ctx.transform.decompose(),X=ie(le.rotate.shx),H=new l,ee=(H=(H=(H=H.multiply(le.translate)).multiply(le.skew)).multiply(le.scale)).applyToRectangle(new o(me-$*C,ve-V*z,Z*ce,oe*Se));if(this.autoPaging){for(var ke,_e=k.call(this,ee),he=[],Ne=0;Ne<_e.length;Ne+=1)he.indexOf(_e[Ne])===-1&&he.push(_e[Ne]);x(he);for(var Re=he[0],Le=he[he.length-1],Fe=Re;Fe<Le+1;Fe++){this.pdf.setPage(Fe);var Je=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],qe=Fe===1?this.posY+this.margin[0]:this.margin[0],Me=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ct=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],$e=Fe===1?0:Me+(Fe-2)*ct;if(this.ctx.clip_path.length!==0){var Mt=this.path;ke=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=_(ke,this.posX+this.margin[3],-$e+qe+this.ctx.prevPageLastElemOffset),T.call(this,"fill",!0),this.path=Mt}var nt=JSON.parse(JSON.stringify(ee));nt=_([nt],this.posX+this.margin[3],-$e+qe+this.ctx.prevPageLastElemOffset)[0];var gt=(Fe>Re||Fe<Le)&&y.call(this);gt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Je,ct,null).clip().discardPath()),this.pdf.addImage(E,"JPEG",nt.x,nt.y,nt.w,nt.h,null,null,X),gt&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(E,"JPEG",ee.x,ee.y,ee.w,ee.h,null,null,X)};var k=function(E,$,V){var Z=[];$=$||this.pdf.internal.pageSize.width,V=V||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var oe=this.posY+this.ctx.prevPageLastElemOffset;switch(E.type){default:case"mt":case"lt":Z.push(Math.floor((E.y+oe)/V)+1);break;case"arc":Z.push(Math.floor((E.y+oe-E.radius)/V)+1),Z.push(Math.floor((E.y+oe+E.radius)/V)+1);break;case"qct":var me=K(this.ctx.lastPoint.x,this.ctx.lastPoint.y,E.x1,E.y1,E.x,E.y);Z.push(Math.floor((me.y+oe)/V)+1),Z.push(Math.floor((me.y+me.h+oe)/V)+1);break;case"bct":var ve=ue(this.ctx.lastPoint.x,this.ctx.lastPoint.y,E.x1,E.y1,E.x2,E.y2,E.x,E.y);Z.push(Math.floor((ve.y+oe)/V)+1),Z.push(Math.floor((ve.y+ve.h+oe)/V)+1);break;case"rect":Z.push(Math.floor((E.y+oe)/V)+1),Z.push(Math.floor((E.y+E.h+oe)/V)+1)}for(var we=0;we<Z.length;we+=1)for(;this.pdf.internal.getNumberOfPages()<Z[we];)g.call(this);return Z},g=function(){var E=this.fillStyle,$=this.strokeStyle,V=this.font,Z=this.lineCap,oe=this.lineWidth,me=this.lineJoin;this.pdf.addPage(),this.fillStyle=E,this.strokeStyle=$,this.font=V,this.lineCap=Z,this.lineWidth=oe,this.lineJoin=me},_=function(E,$,V){for(var Z=0;Z<E.length;Z++)switch(E[Z].type){case"bct":E[Z].x2+=$,E[Z].y2+=V;case"qct":E[Z].x1+=$,E[Z].y1+=V;default:E[Z].x+=$,E[Z].y+=V}return E},x=function(E){return E.sort(function($,V){return $-V})},A=function(E,$){var V=this.fillStyle,Z=this.strokeStyle,oe=this.lineCap,me=this.lineWidth,ve=Math.abs(me*this.ctx.transform.scaleX),we=this.lineJoin;if(this.autoPaging){for(var Ae,Te,ce=JSON.parse(JSON.stringify(this.path)),Se=JSON.parse(JSON.stringify(this.path)),C=[],z=0;z<Se.length;z++)if(Se[z].x!==void 0)for(var le=k.call(this,Se[z]),X=0;X<le.length;X+=1)C.indexOf(le[X])===-1&&C.push(le[X]);for(var H=0;H<C.length;H++)for(;this.pdf.internal.getNumberOfPages()<C[H];)g.call(this);x(C);for(var ee=C[0],ke=C[C.length-1],_e=ee;_e<ke+1;_e++){this.pdf.setPage(_e),this.fillStyle=V,this.strokeStyle=Z,this.lineCap=oe,this.lineWidth=ve,this.lineJoin=we;var he=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ne=_e===1?this.posY+this.margin[0]:this.margin[0],Re=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Le=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Fe=_e===1?0:Re+(_e-2)*Le;if(this.ctx.clip_path.length!==0){var Je=this.path;Ae=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=_(Ae,this.posX+this.margin[3],-Fe+Ne+this.ctx.prevPageLastElemOffset),T.call(this,E,!0),this.path=Je}if(Te=JSON.parse(JSON.stringify(ce)),this.path=_(Te,this.posX+this.margin[3],-Fe+Ne+this.ctx.prevPageLastElemOffset),$===!1||_e===0){var qe=(_e>ee||_e<ke)&&y.call(this);qe&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],he,Le,null).clip().discardPath()),T.call(this,E,$),qe&&this.pdf.restoreGraphicsState()}this.lineWidth=me}this.path=ce}else this.lineWidth=ve,T.call(this,E,$),this.lineWidth=me},T=function(E,$){if((E!=="stroke"||$||!b.call(this))&&(E==="stroke"||$||!h.call(this))){for(var V,Z,oe=[],me=this.path,ve=0;ve<me.length;ve++){var we=me[ve];switch(we.type){case"begin":oe.push({begin:!0});break;case"close":oe.push({close:!0});break;case"mt":oe.push({start:we,deltas:[],abs:[]});break;case"lt":var Ae=oe.length;if(me[ve-1]&&!isNaN(me[ve-1].x)&&(V=[we.x-me[ve-1].x,we.y-me[ve-1].y],Ae>0)){for(;Ae>=0;Ae--)if(oe[Ae-1].close!==!0&&oe[Ae-1].begin!==!0){oe[Ae-1].deltas.push(V),oe[Ae-1].abs.push(we);break}}break;case"bct":V=[we.x1-me[ve-1].x,we.y1-me[ve-1].y,we.x2-me[ve-1].x,we.y2-me[ve-1].y,we.x-me[ve-1].x,we.y-me[ve-1].y],oe[oe.length-1].deltas.push(V);break;case"qct":var Te=me[ve-1].x+2/3*(we.x1-me[ve-1].x),ce=me[ve-1].y+2/3*(we.y1-me[ve-1].y),Se=we.x+2/3*(we.x1-we.x),C=we.y+2/3*(we.y1-we.y),z=we.x,le=we.y;V=[Te-me[ve-1].x,ce-me[ve-1].y,Se-me[ve-1].x,C-me[ve-1].y,z-me[ve-1].x,le-me[ve-1].y],oe[oe.length-1].deltas.push(V);break;case"arc":oe.push({deltas:[],abs:[],arc:!0}),Array.isArray(oe[oe.length-1].abs)&&oe[oe.length-1].abs.push(we)}}Z=$?null:E==="stroke"?"stroke":"fill";for(var X=!1,H=0;H<oe.length;H++)if(oe[H].arc)for(var ee=oe[H].abs,ke=0;ke<ee.length;ke++){var _e=ee[ke];_e.type==="arc"?D.call(this,_e.x,_e.y,_e.radius,_e.startAngle,_e.endAngle,_e.counterclockwise,void 0,$,!X):M.call(this,_e.x,_e.y),X=!0}else if(oe[H].close===!0)this.pdf.internal.out("h"),X=!1;else if(oe[H].begin!==!0){var he=oe[H].start.x,Ne=oe[H].start.y;N.call(this,oe[H].deltas,he,Ne),X=!0}Z&&P.call(this,Z),$&&G.call(this)}},q=function(E){var $=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,V=$*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return E-V;case"top":return E+$-V;case"hanging":return E+$-2*V;case"middle":return E+$/2-V;default:return E}},B=function(E){return E+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};m.prototype.createLinearGradient=function(){var E=function(){};return E.colorStops=[],E.addColorStop=function($,V){this.colorStops.push([$,V])},E.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},E.isCanvasGradient=!0,E},m.prototype.createPattern=function(){return this.createLinearGradient()},m.prototype.createRadialGradient=function(){return this.createLinearGradient()};var D=function(E,$,V,Z,oe,me,ve,we,Ae){for(var Te=fe.call(this,V,Z,oe,me),ce=0;ce<Te.length;ce++){var Se=Te[ce];ce===0&&(Ae?I.call(this,Se.x1+E,Se.y1+$):M.call(this,Se.x1+E,Se.y1+$)),Q.call(this,E,$,Se.x2,Se.y2,Se.x3,Se.y3,Se.x4,Se.y4)}we?G.call(this):P.call(this,ve)},P=function(E){switch(E){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},G=function(){this.pdf.clip(),this.pdf.discardPath()},I=function(E,$){this.pdf.internal.out(r(E)+" "+n($)+" m")},L=function(E){var $;switch(E.align){case"right":case"end":$="right";break;case"center":$="center";break;default:$="left"}var V,Z,oe,me=this.pdf.getTextDimensions(E.text),ve=q.call(this,E.y),we=B.call(this,ve)-me.h,Ae=this.ctx.transform.applyToPoint(new a(E.x,ve));if(this.autoPaging){var Te=this.ctx.transform.decompose(),ce=new l;ce=(ce=(ce=ce.multiply(Te.translate)).multiply(Te.skew)).multiply(Te.scale);for(var Se=this.ctx.transform.applyToRectangle(new o(E.x,ve,me.w,me.h)),C=ce.applyToRectangle(new o(E.x,we,me.w,me.h)),z=k.call(this,C),le=[],X=0;X<z.length;X+=1)le.indexOf(z[X])===-1&&le.push(z[X]);x(le);for(var H=le[0],ee=le[le.length-1],ke=H;ke<ee+1;ke++){this.pdf.setPage(ke);var _e=ke===1?this.posY+this.margin[0]:this.margin[0],he=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ne=this.pdf.internal.pageSize.height-this.margin[2],Re=Ne-this.margin[0],Le=this.pdf.internal.pageSize.width-this.margin[1],Fe=Le-this.margin[3],Je=ke===1?0:he+(ke-2)*Re;if(this.ctx.clip_path.length!==0){var qe=this.path;V=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=_(V,this.posX+this.margin[3],-1*Je+_e),T.call(this,"fill",!0),this.path=qe}var Me=_([JSON.parse(JSON.stringify(C))],this.posX+this.margin[3],-Je+_e+this.ctx.prevPageLastElemOffset)[0];E.scale>=.01&&(Z=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Z*E.scale),oe=this.lineWidth,this.lineWidth=oe*E.scale);var ct=this.autoPaging!=="text";if(ct||Me.y+Me.h<=Ne){if(ct||Me.y>=_e&&Me.x<=Le){var $e=ct?E.text:this.pdf.splitTextToSize(E.text,E.maxWidth||Le-Me.x)[0],Mt=_([JSON.parse(JSON.stringify(Se))],this.posX+this.margin[3],-Je+_e+this.ctx.prevPageLastElemOffset)[0],nt=ct&&(ke>H||ke<ee)&&y.call(this);nt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Fe,Re,null).clip().discardPath()),this.pdf.text($e,Mt.x,Mt.y,{angle:E.angle,align:$,renderingMode:E.renderingMode}),nt&&this.pdf.restoreGraphicsState()}}else Me.y<Ne&&(this.ctx.prevPageLastElemOffset+=Ne-Me.y);E.scale>=.01&&(this.pdf.setFontSize(Z),this.lineWidth=oe)}}else E.scale>=.01&&(Z=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Z*E.scale),oe=this.lineWidth,this.lineWidth=oe*E.scale),this.pdf.text(E.text,Ae.x+this.posX,Ae.y+this.posY,{angle:E.angle,align:$,renderingMode:E.renderingMode,maxWidth:E.maxWidth}),E.scale>=.01&&(this.pdf.setFontSize(Z),this.lineWidth=oe)},M=function(E,$,V,Z){V=V||0,Z=Z||0,this.pdf.internal.out(r(E+V)+" "+n($+Z)+" l")},N=function(E,$,V){return this.pdf.lines(E,$,V,null,null)},Q=function(E,$,V,Z,oe,me,ve,we){this.pdf.internal.out([e(i(V+E)),e(s(Z+$)),e(i(oe+E)),e(s(me+$)),e(i(ve+E)),e(s(we+$)),"c"].join(" "))},fe=function(E,$,V,Z){for(var oe=2*Math.PI,me=Math.PI/2;$>V;)$-=oe;var ve=Math.abs(V-$);ve<oe&&Z&&(ve=oe-ve);for(var we=[],Ae=Z?-1:1,Te=$;ve>1e-5;){var ce=Te+Ae*Math.min(ve,me);we.push(se.call(this,E,Te,ce)),ve-=Math.abs(ce-Te),Te=ce}return we},se=function(E,$,V){var Z=(V-$)/2,oe=E*Math.cos(Z),me=E*Math.sin(Z),ve=oe,we=-me,Ae=ve*ve+we*we,Te=Ae+ve*oe+we*me,ce=4/3*(Math.sqrt(2*Ae*Te)-Te)/(ve*me-we*oe),Se=ve-ce*we,C=we+ce*ve,z=Se,le=-C,X=Z+$,H=Math.cos(X),ee=Math.sin(X);return{x1:E*Math.cos($),y1:E*Math.sin($),x2:Se*H-C*ee,y2:Se*ee+C*H,x3:z*H-le*ee,y3:z*ee+le*H,x4:E*Math.cos(V),y4:E*Math.sin(V)}},ie=function(E){return 180*E/Math.PI},K=function(E,$,V,Z,oe,me){var ve=E+.5*(V-E),we=$+.5*(Z-$),Ae=oe+.5*(V-oe),Te=me+.5*(Z-me),ce=Math.min(E,oe,ve,Ae),Se=Math.max(E,oe,ve,Ae),C=Math.min($,me,we,Te),z=Math.max($,me,we,Te);return new o(ce,C,Se-ce,z-C)},ue=function(E,$,V,Z,oe,me,ve,we){var Ae,Te,ce,Se,C,z,le,X,H,ee,ke,_e,he,Ne,Re=V-E,Le=Z-$,Fe=oe-V,Je=me-Z,qe=ve-oe,Me=we-me;for(Te=0;Te<41;Te++)H=(le=(ce=E+(Ae=Te/40)*Re)+Ae*((C=V+Ae*Fe)-ce))+Ae*(C+Ae*(oe+Ae*qe-C)-le),ee=(X=(Se=$+Ae*Le)+Ae*((z=Z+Ae*Je)-Se))+Ae*(z+Ae*(me+Ae*Me-z)-X),Te==0?(ke=H,_e=ee,he=H,Ne=ee):(ke=Math.min(ke,H),_e=Math.min(_e,ee),he=Math.max(he,H),Ne=Math.max(Ne,ee));return new o(Math.round(ke),Math.round(_e),Math.round(he-ke),Math.round(Ne-_e))},Y=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var E,$,V=(E=this.ctx.lineDash,$=this.ctx.lineDashOffset,JSON.stringify({lineDash:E,lineDashOffset:$}));this.prevLineDash!==V&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=V)}}})(tt.API),function(t){var e=function(a){var o,l,u,d,m,v,h,b,y,k;for(l=[],u=0,d=(a+=o="\0\0\0\0".slice(a.length%4||4)).length;d>u;u+=4)(m=(a.charCodeAt(u)<<24)+(a.charCodeAt(u+1)<<16)+(a.charCodeAt(u+2)<<8)+a.charCodeAt(u+3))!==0?(v=(m=((m=((m=((m=(m-(k=m%85))/85)-(y=m%85))/85)-(b=m%85))/85)-(h=m%85))/85)%85,l.push(v+33,h+33,b+33,y+33,k+33)):l.push(122);return function(g,_){for(var x=_;x>0;x--)g.pop()}(l,o.length),String.fromCharCode.apply(String,l)+"~>"},r=function(a){var o,l,u,d,m,v=String,h="length",b=255,y="charCodeAt",k="slice",g="replace";for(a[k](-2),a=a[k](0,-2)[g](/\s/g,"")[g]("z","!!!!!"),u=[],d=0,m=(a+=o="uuuuu"[k](a[h]%5||5))[h];m>d;d+=5)l=52200625*(a[y](d)-33)+614125*(a[y](d+1)-33)+7225*(a[y](d+2)-33)+85*(a[y](d+3)-33)+(a[y](d+4)-33),u.push(b&l>>24,b&l>>16,b&l>>8,b&l);return function(_,x){for(var A=x;A>0;A--)_.pop()}(u,o[h]),v.fromCharCode.apply(v,u)},n=function(a){return a.split("").map(function(o){return("0"+o.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(a){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),o.test(a)===!1)return"";for(var l="",u=0;u<a.length;u+=2)l+=String.fromCharCode("0x"+(a[u]+a[u+1]));return l},s=function(a){for(var o=new Uint8Array(a.length),l=a.length;l--;)o[l]=a.charCodeAt(l);return(o=w0(o)).reduce(function(u,d){return u+String.fromCharCode(d)},"")};t.processDataByFilters=function(a,o){var l=0,u=a||"",d=[];for(typeof(o=o||[])=="string"&&(o=[o]),l=0;l<o.length;l+=1)switch(o[l]){case"ASCII85Decode":case"/ASCII85Decode":u=r(u),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=e(u),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=i(u),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=n(u),d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=s(u),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[l]+'" is not implemented')}return{data:u,reverseChain:d.reverse().join(" ")}}}(tt.API),function(t){t.loadFile=function(e,r,n){return function(i,s,a){s=s!==!1,a=typeof a=="function"?a:function(){};var o=void 0;try{o=function(l,u,d){var m=new XMLHttpRequest,v=0,h=function(b){var y=b.length,k=[],g=String.fromCharCode;for(v=0;v<y;v+=1)k.push(g(255&b.charCodeAt(v)));return k.join("")};if(m.open("GET",l,!u),m.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(m.onload=function(){m.status===200?d(h(this.responseText)):d(void 0)}),m.send(null),u&&m.status===200)return h(m.responseText)}(i,s,a)}catch{}return o}(e,r,n)},t.allowFsRead=void 0,t.loadImageFile=t.loadFile}(tt.API),function(t){function e(){return(ht.html2canvas?Promise.resolve(ht.html2canvas):Wf(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function r(){return(ht.DOMPurify?Promise.resolve(ht.DOMPurify):Wf(()=>import("./purify.es-B9ZVCkUG.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var n=function(o){var l=Dt(o);return l==="undefined"?"undefined":l==="string"||o instanceof String?"string":l==="number"||o instanceof Number?"number":l==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(o,l){var u=document.createElement(o);for(var d in l.className&&(u.className=l.className),l.innerHTML&&l.dompurify&&(u.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)u.style[d]=l.style[d];return u},s=function o(l,u){for(var d=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),m=l.firstChild;m;m=m.nextSibling)u!==!0&&m.nodeType===1&&m.nodeName==="SCRIPT"||d.appendChild(o(m,u));return l.nodeType===1&&(l.nodeName==="CANVAS"?(d.width=l.width,d.height=l.height,d.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(d.value=l.value),d.addEventListener("load",function(){d.scrollTop=l.scrollTop,d.scrollLeft=l.scrollLeft},!0)),d},a=function o(l){var u=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),d=o.convert(Promise.resolve(),u);return(d=d.setProgress(1,o,1,[o])).set(l)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(o,l){return o.__proto__=l||a.prototype,o},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(o,l){return this.then(function(){switch(l=l||function(u){switch(n(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o),l){case"string":return this.then(r).then(function(u){return this.set({src:i("div",{innerHTML:o,dompurify:u})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},a.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=s(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(l){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,l(this.prop.container,u)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(l){var u=this.opt.jsPDF,d=this.opt.fontFaces,m=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,v=Object.assign({async:!0,allowTaint:!0,scale:m,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete v.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=d,d)for(var h=0;h<d.length;++h){var b=d[h],y=b.src.find(function(k){return k.format==="truetype"});y&&u.addFont(y.url,b.ref.name,b.ref.style)}return v.windowHeight=v.windowHeight||0,v.windowHeight=v.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):v.windowHeight,u.context2d.save(!0),l(this.prop.container,v)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(o,l,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(o,l):this.outputPdf(o,l)},a.prototype.outputPdf=function(o,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,l)})},a.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},a.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(o){if(n(o)!=="object")return this;var l=Object.keys(o||{}).map(function(u){if(u in a.template.prop)return function(){this.prop[u]=o[u]};switch(u){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[u]=o[u]}}},this);return this.then(function(){return this.thenList(l)})},a.prototype.get=function(o,l){return this.then(function(){var u=o in a.template.prop?this.prop[o]:this.opt[o];return l?l(u):u})},a.prototype.setMargin=function(o){return this.then(function(){switch(n(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},a.prototype.setPageSize=function(o){function l(u,d){return Math.floor(u*d/72*96)}return this.then(function(){(o=o||tt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:l(o.inner.width,o.k),height:l(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},a.prototype.setProgress=function(o,l,u,d){return o!=null&&(this.progress.val=o),l!=null&&(this.progress.state=l),u!=null&&(this.progress.n=u),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(o,l,u,d){return this.setProgress(o?this.progress.val+o:null,l||null,u?this.progress.n+u:null,d?this.progress.stack.concat(d):null)},a.prototype.then=function(o,l){var u=this;return this.thenCore(o,l,function(d,m){return u.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(v){return u.updateProgress(null,d),v}).then(d,m).then(function(v){return u.updateProgress(1),v})})},a.prototype.thenCore=function(o,l,u){u=u||Promise.prototype.then;var d=this;o&&(o=o.bind(d)),l&&(l=l.bind(d));var m=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?d:a.convert(Object.assign({},d),Promise.prototype),v=u.call(m,o,l);return a.convert(v,d.__proto__)},a.prototype.thenExternal=function(o,l){return Promise.prototype.then.call(this,o,l)},a.prototype.thenList=function(o){var l=this;return o.forEach(function(u){l=l.thenCore(u)}),l},a.prototype.catch=function(o){o&&(o=o.bind(this));var l=Promise.prototype.catch.call(this,o);return a.convert(l,this)},a.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},a.prototype.error=function(o){return this.then(function(){throw new Error(o)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,tt.getPageSize=function(o,l,u){if(Dt(o)==="object"){var d=o;o=d.orientation,l=d.unit||l,u=d.format||u}l=l||"mm",u=u||"a4",o=(""+(o||"P")).toLowerCase();var m,v=(""+u).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":m=1;break;case"mm":m=72/25.4;break;case"cm":m=72/2.54;break;case"in":m=72;break;case"px":m=.75;break;case"pc":case"em":m=12;break;case"ex":m=6;break;default:throw"Invalid unit: "+l}var b,y=0,k=0;if(h.hasOwnProperty(v))y=h[v][1]/m,k=h[v][0]/m;else try{y=u[1],k=u[0]}catch{throw new Error("Invalid format: "+u)}if(o==="p"||o==="portrait")o="p",k>y&&(b=k,k=y,y=b);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",y>k&&(b=k,k=y,y=b)}return{width:k,height:y,unit:l,k:m,orientation:o}},t.html=function(o,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(lp):null;var u=new a(l);return l.worker?u:u.from(o).doCallback()}}(tt.API),tt.API.addJS=function(t){return Jg=t,this.internal.events.subscribe("postPutResources",function(){hh=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(hh+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Kg=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Jg+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){hh!==void 0&&Kg!==void 0&&this.internal.out("/Names <</JavaScript "+hh+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=r.outline.render().split(/\r\n/),s=0;s<i.length;s++){var a=i[s],o=n.exec(a);if(o!=null){var l=o[1];r.internal.newObjectDeferredBegin(l,!1)}r.internal.write(a)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,d=[];for(s=0;s<u;s++){var m=r.internal.newObject();d.push(m);var v=r.internal.getPageInfo(s+1);r.internal.write("<< /D["+v.objId+" 0 R /XYZ null null null]>> endobj")}var h=r.internal.newObject();for(r.internal.write("<< /Names [ "),s=0;s<d.length;s++)r.internal.write("(page_"+(s+1)+")"+d[s]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+h+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,i,s){var a={title:i,options:s,children:[]};return n==null&&(n=this.root),n.children.push(a),a},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var i=0;i<n.children.length;i++)this.genIds_r(n.children[i])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<n.children.length;s++){var a=n.children[s];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(n)),s>0&&this.line("/Prev "+this.makeRef(n.children[s-1])),s<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[s+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var o=this.count=this.count_r({count:0},a);if(o>0&&this.line("/Count "+o),a.options&&a.options.pageNumber){var l=r.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var u=0;u<n.children.length;u++)this.renderItems(n.children[u])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,i){for(var s=0;s<i.children.length;s++)n.count++,this.count_r(n,i.children[s]);return n.count}}])}(tt.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,n,i,s,a,o){var l,u=this.decode.DCT_DECODE,d=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=a||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,l=function(m){for(var v,h=256*m.charCodeAt(4)+m.charCodeAt(5),b=m.length,y={width:0,height:0,numcomponents:1},k=4;k<b;k+=2){if(k+=h,e.indexOf(m.charCodeAt(k+1))!==-1){v=256*m.charCodeAt(k+5)+m.charCodeAt(k+6),y={width:256*m.charCodeAt(k+7)+m.charCodeAt(k+8),height:v,numcomponents:m.charCodeAt(k+9)};break}h=256*m.charCodeAt(k+2)+m.charCodeAt(k+3)}return y}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),l.numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}d={data:r,width:l.width,height:l.height,colorSpace:o,bitsPerComponent:8,filter:u,index:n,alias:i}}return d}}(tt.API),tt.API.processPNG=function(t,e,r,n){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var i,s=PS(t,{checkCrc:!0}),a=s.width,o=s.height,l=s.channels,u=s.palette,d=s.depth;i=u&&l===1?function(D){for(var P=D.width,G=D.height,I=D.data,L=D.palette,M=D.depth,N=!1,Q=[],fe=[],se=void 0,ie=!1,K=0,ue=0;ue<L.length;ue++){var Y=Q2(L[ue],4),E=Y[0],$=Y[1],V=Y[2],Z=Y[3];Q.push(E,$,V),Z!=null&&(Z===0?(K++,fe.length<1&&fe.push(ue)):Z<255&&(ie=!0))}if(ie||K>1){N=!0,fe=void 0;var oe=P*G;se=new Uint8Array(oe);for(var me=new DataView(I.buffer),ve=0;ve<oe;ve++){var we=cp(me,ve,M),Ae=Q2(L[we],4)[3];se[ve]=Ae}}else K===0&&(fe=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:N?8:void 0,colorBytes:I,alphaBytes:se,needSMask:N,palette:Q,mask:fe}}(s):l===2||l===4?function(D){for(var P=D.data,G=D.width,I=D.height,L=D.channels,M=D.depth,N=L===2?"DeviceGray":"DeviceRGB",Q=L-1,fe=G*I,se=Q,ie=fe*se,K=1*fe,ue=Math.ceil(ie*M/8),Y=Math.ceil(K*M/8),E=new Uint8Array(ue),$=new Uint8Array(Y),V=new DataView(P.buffer),Z=new DataView(E.buffer),oe=new DataView($.buffer),me=!1,ve=0;ve<fe;ve++){for(var we=ve*L,Ae=0;Ae<se;Ae++)iv(Z,cp(V,we+Ae,M),ve*se+Ae,M);var Te=cp(V,we+se,M);Te<(1<<M)-1&&(me=!0),iv(oe,Te,1*ve,M)}return{colorSpace:N,colorsPerPixel:Q,sMaskBitsPerComponent:me?M:void 0,colorBytes:E,alphaBytes:$,needSMask:me}}(s):function(D){var P=D.data,G=D.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:G,colorsPerPixel:G==="DeviceGray"?1:3,colorBytes:P instanceof Uint16Array?function(I){for(var L=I.length,M=new Uint8Array(2*L),N=new DataView(M.buffer,M.byteOffset,M.byteLength),Q=0;Q<L;Q++)N.setUint16(2*Q,I[Q],!1);return M}(P):P,needSMask:!1}}(s);var m,v,h,b=i,y=b.colorSpace,k=b.colorsPerPixel,g=b.sMaskBitsPerComponent,_=b.colorBytes,x=b.alphaBytes,A=b.needSMask,T=b.palette,q=b.mask,B=null;return n!==tt.API.image_compression.NONE&&typeof w0=="function"?(B=function(D){var P;switch(D){case tt.API.image_compression.FAST:P=11;break;case tt.API.image_compression.MEDIUM:P=13;break;case tt.API.image_compression.SLOW:P=14;break;default:P=12}return P}(n),m=this.decode.FLATE_DECODE,v="/Predictor ".concat(B," /Colors ").concat(k," /BitsPerComponent ").concat(d," /Columns ").concat(a),t=Qg(_,Math.ceil(a*k*d/8),k,d,n),A&&(h=Qg(x,Math.ceil(a*g/8),1,g,n))):(m=void 0,v=void 0,t=_,A&&(h=x)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(h&&this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),{alias:r,data:t,index:e,filter:m,decodeParameters:v,transparency:q,palette:T,sMask:h,predictor:B,width:a,height:o,bitsPerComponent:d,sMaskBitsPerComponent:g,colorSpace:y}}},function(t){t.processGIF89A=function(e,r,n,i){var s=new XS(e),a=s.width,o=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var u={data:l,width:a,height:o},d=new hp(100).encode(u,100);return t.processJPEG.call(this,d,r,n,i)},t.processGIF87A=t.processGIF89A}(tt.API),mi.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:n,blue:r,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},mi.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(r){Ht.log("bit decode error:"+r)}},mi.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+8*i*4,o=0;o<8&&8*i+o<this.width;o++){var l=this.palette[s>>7-o&1];this.data[a+4*o]=l.blue,this.data[a+4*o+1]=l.green,this.data[a+4*o+2]=l.red,this.data[a+4*o+3]=255}r!==0&&(this.pos+=4-r)}},mi.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<t;i++){var s=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+2*i*4,o=s>>4,l=15&s,u=this.palette[o];if(this.data[a]=u.blue,this.data[a+1]=u.green,this.data[a+2]=u.red,this.data[a+3]=255,2*i+1>=this.width)break;u=this.palette[l],this.data[a+4]=u.blue,this.data[a+4+1]=u.green,this.data[a+4+2]=u.red,this.data[a+4+3]=255}e!==0&&(this.pos+=4-e)}},mi.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+4*n;if(i<this.palette.length){var a=this.palette[i];this.data[s]=a.red,this.data[s+1]=a.green,this.data[s+2]=a.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}t!==0&&(this.pos+=4-t)}},mi.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&e)/e*255|0,o=(s>>5&e)/e*255|0,l=(s>>10&e)/e*255|0,u=s>>15?255:0,d=n*this.width*4+4*i;this.data[d]=l,this.data[d+1]=o,this.data[d+2]=a,this.data[d+3]=u}this.pos+=t}},mi.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&e)/e*255|0,l=(a>>5&r)/r*255|0,u=(a>>11)/e*255|0,d=i*this.width*4+4*s;this.data[d]=u,this.data[d+1]=l,this.data[d+2]=o,this.data[d+3]=255}this.pos+=t}},mi.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*r;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=n,this.data[a+3]=255}this.pos+=this.width%4}},mi.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*r;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=n,this.data[o+3]=a}},mi.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,r,n,i){var s=new mi(e,!1),a=s.width,o=s.height,l={data:s.getData(),width:a,height:o},u=new hp(100).encode(l,100);return t.processJPEG.call(this,u,r,n,i)}}(tt.API),av.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,r,n,i){var s=new av(e),a=s.width,o=s.height,l={data:s.getData(),width:a,height:o},u=new hp(100).encode(l,100);return t.processJPEG.call(this,u,r,n,i)}}(tt.API),tt.API.processRGBA=function(t,e,r){for(var n=t.data,i=n.length,s=new Uint8Array(i/4*3),a=new Uint8Array(i/4),o=0,l=0,u=0;u<i;u+=4){var d=n[u],m=n[u+1],v=n[u+2],h=n[u+3];s[o++]=d,s[o++]=m,s[o++]=v,a[l++]=h}var b=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:b,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},tt.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Co=tt.API,dh=Co.getCharWidthsArray=function(t,e){var r,n,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),a=e.charSpace||this.internal.getCharSpace(),o=e.widths?e.widths:i.metadata.Unicode.widths,l=o.fof?o.fof:1,u=e.kerning?e.kerning:i.metadata.Unicode.kerning,d=u.fof?u.fof:1,m=e.doKerning!==!1,v=0,h=t.length,b=0,y=o[0]||l,k=[];for(r=0;r<h;r++)n=t.charCodeAt(r),typeof i.metadata.widthOfString=="function"?k.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+a*(1e3/s)||0)/1e3):(v=m&&Dt(u[n])==="object"&&!isNaN(parseInt(u[n][b],10))?u[n][b]/d:0,k.push((o[n]||y)/l+v)),b=n;return k},Yg=Co.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return Co.processArabic&&(t=Co.processArabic(t)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(t,r,i)/r:dh.apply(this,arguments).reduce(function(s,a){return s+a},0)},Zg=function(t,e,r,n){for(var i=[],s=0,a=t.length,o=0;s!==a&&o+e[s]<r;)o+=e[s],s++;i.push(t.slice(0,s));var l=s;for(o=0;s!==a;)o+e[s]>n&&(i.push(t.slice(l,s)),o=0,l=s),o+=e[s],s++;return l!==s&&i.push(t.slice(l,s)),i},Xg=function(t,e,r){r||(r={});var n,i,s,a,o,l,u,d=[],m=[d],v=r.textIndent||0,h=0,b=0,y=t.split(" "),k=dh.apply(this,[" ",r])[0];if(l=r.lineIndent===-1?y[0].length+2:r.lineIndent||0){var g=Array(l).join(" "),_=[];y.map(function(A){(A=A.split(/\s*\n/)).length>1?_=_.concat(A.map(function(T,q){return(q&&T.length?`
`:"")+T})):_.push(A[0])}),y=_,l=Yg.apply(this,[g,r])}for(s=0,a=y.length;s<a;s++){var x=0;if(n=y[s],l&&n[0]==`
`&&(n=n.substr(1),x=1),v+h+(b=(i=dh.apply(this,[n,r])).reduce(function(A,T){return A+T},0))>e||x){if(b>e){for(o=Zg.apply(this,[n,i,e-(v+h),e]),d.push(o.shift()),d=[o.pop()];o.length;)m.push([o.shift()]);b=i.slice(n.length-(d[0]?d[0].length:0)).reduce(function(A,T){return A+T},0)}else d=[n];m.push(d),v=b+l,h=k}else d.push(n),v+=h+b,h=k}return u=l?function(A,T){return(T?g:"")+A.join(" ")}:function(A){return A.join(" ")},m.map(u)},Co.splitTextToSize=function(t,e,r){var n,i=(r=r||{}).fontSize||this.internal.getFontSize(),s=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var m=this.internal.getFont(d.fontName,d.fontStyle),v="Unicode";return m.metadata[v]?{widths:m.metadata[v].widths||{0:1},kerning:m.metadata[v].kerning||{}}:{font:m.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(t)?t:String(t).split(/\r?\n/);var a=1*this.internal.scaleFactor*e/i;s.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=r.lineIndent;var o,l,u=[];for(o=0,l=n.length;o<l;o++)u=u.concat(Xg.apply(this,[n[o],a,s]));return u},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",r="klmnopqrstuvwxyz",n={},i={},s=0;s<16;s++)n[r[s]]=e[s],i[e[s]]=r[s];var a=function(v){return"0x"+parseInt(v,10).toString(16)},o=t.__fontmetrics__.compress=function(v){var h,b,y,k,g=["{"];for(var _ in v){if(h=v[_],isNaN(parseInt(_,10))?b="'"+_+"'":(_=parseInt(_,10),b=(b=a(_).slice(2)).slice(0,-1)+i[b.slice(-1)]),typeof h=="number")h<0?(y=a(h).slice(3),k="-"):(y=a(h).slice(2),k=""),y=k+y.slice(0,-1)+i[y.slice(-1)];else{if(Dt(h)!=="object")throw new Error("Don't know what to do with value type "+Dt(h)+".");y=o(h)}g.push(b+y)}return g.push("}"),g.join("")},l=t.__fontmetrics__.uncompress=function(v){if(typeof v!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,b,y,k,g={},_=1,x=g,A=[],T="",q="",B=v.length-1,D=1;D<B;D+=1)(k=v[D])=="'"?h?(y=h.join(""),h=void 0):h=[]:h?h.push(k):k=="{"?(A.push([x,y]),x={},y=void 0):k=="}"?((b=A.pop())[0][b[1]]=x,y=void 0,x=b[0]):k=="-"?_=-1:y===void 0?n.hasOwnProperty(k)?(T+=n[k],y=parseInt(T,16)*_,_=1,T=""):T+=k:n.hasOwnProperty(k)?(q+=n[k],x[y]=parseInt(q,16)*_,_=1,y=void 0,q=""):q+=k;return g},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},m={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(v){var h=v.font,b=m.Unicode[h.postScriptName];b&&(h.metadata.Unicode={},h.metadata.Unicode.widths=b.widths,h.metadata.Unicode.kerning=b.kerning);var y=d.Unicode[h.postScriptName];y&&(h.metadata.Unicode.encoding=y,h.encoding=y.codePages[0])}])}(tt.API),function(t){var e=function(r){for(var n=r.length,i=new Uint8Array(n),s=0;s<n;s++)i[s]=r.charCodeAt(s);return i};t.API.events.push(["addFont",function(r){var n=void 0,i=r.font,s=r.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(n=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(a,o){o=/^\x00\x01\x00\x00/.test(o)?e(o):e(jh(o)),a.metadata=t.API.TTFFont.open(o),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(i,n)}}])}(tt),tt.API.addSvgAsImage=function(t,e,r,n,i,s,a,o){if(isNaN(e)||isNaN(r))throw Ht.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(i))throw Ht.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=n,l.height=i;var u=l.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,l.width,l.height);var d={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},m=this;return(ht.canvg?Promise.resolve(ht.canvg):Wf(()=>import("./index.es-79NKz7Uj.js"),[])).catch(function(v){return Promise.reject(new Error("Could not load canvg: "+v))}).then(function(v){return v.default?v.default:v}).then(function(v){return v.fromString(u,t,d)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(v){return v.render(d)}).then(function(){m.addImage(l.toDataURL("image/jpeg",1),e,r,n,i,a,o)})},tt.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(e,r);return this},tt.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var n,i,s,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(a),l=[],u=0,d=0,m=0;function v(b,y){var k,g=!1;for(k=0;k<b.length;k+=1)b[k]===y&&(g=!0);return g}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var h=o.length;for(m=0;m<h;m+=1)r[o[m]].value=r[o[m]].defaultValue,r[o[m]].explicitSet=!1}if(Dt(t)==="object"){for(i in t)if(s=t[i],v(o,i)&&s!==void 0){if(r[i].type==="boolean"&&typeof s=="boolean")r[i].value=s;else if(r[i].type==="name"&&v(r[i].valueSet,s))r[i].value=s;else if(r[i].type==="integer"&&Number.isInteger(s))r[i].value=s;else if(r[i].type==="array"){for(u=0;u<s.length;u+=1)if(n=!0,s[u].length===1&&typeof s[u][0]=="number")l.push(String(s[u]-1));else if(s[u].length>1){for(d=0;d<s[u].length;d+=1)typeof s[u][d]!="number"&&(n=!1);n===!0&&l.push([s[u][0]-1,s[u][1]-1].join(" "))}r[i].value="["+l.join(" ")+"]"}else r[i].value=r[i].defaultValue;r[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var b,y=[];for(b in r)r[b].explicitSet===!0&&(r[b].type==="name"?y.push("/"+b+" /"+r[b].value):y.push("/"+b+" "+r[b].value));y.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+y.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(t){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(n)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),u=s.length+a.length+o.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(i+s+a+o+l),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(n,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",e)),this}}(tt.API),function(t){var e=t.API,r=e.pdfEscape16=function(s,a){for(var o,l=a.metadata.Unicode.widths,u=["","0","00","000","0000"],d=[""],m=0,v=s.length;m<v;++m){if(o=a.metadata.characterToGlyph(s.charCodeAt(m)),a.metadata.glyIdsUsed.push(o),a.metadata.toUnicode[o]=s.charCodeAt(m),l.indexOf(o)==-1&&(l.push(o),l.push([parseInt(a.metadata.widthOfGlyph(o),10)])),o=="0")return d.join("");o=o.toString(16),d.push(u[4-o.length],o)}return d.join("")},n=function(s){var a,o,l,u,d,m,v;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],m=0,v=(o=Object.keys(s).sort(function(h,b){return h-b})).length;m<v;m++)a=o[m],l.length>=100&&(d+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[a]!==void 0&&s[a]!==null&&typeof s[a].toString=="function"&&(u=("0000"+s[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),l.push("<"+a+"><"+u+">"));return l.length&&(d+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),d+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(a){var o=a.font,l=a.out,u=a.newObject,d=a.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="Identity-H"){for(var m=o.metadata.Unicode.widths,v=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),h="",b=0;b<v.length;b++)h+=String.fromCharCode(v[b]);var y=u();d({data:h,addLength1:!0,objectId:y}),l("endobj");var k=u();d({data:n(o.metadata.toUnicode),addLength1:!0,objectId:k}),l("endobj");var g=u();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+Ro(o.fontName)),l("/FontFile2 "+y+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/Flags "+o.metadata.flags),l("/StemV "+o.metadata.stemV),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l(">>"),l("endobj");var _=u();l("<<"),l("/Type /Font"),l("/BaseFont /"+Ro(o.fontName)),l("/FontDescriptor "+g+" 0 R"),l("/W "+t.API.PDFObject.convert(m)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+o.encoding+")"),l(">>"),l(">>"),l("endobj"),o.objectNumber=u(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+k+" 0 R"),l("/BaseFont /"+Ro(o.fontName)),l("/Encoding /"+o.encoding),l("/DescendantFonts ["+_+" 0 R]"),l(">>"),l("endobj"),o.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(a){var o=a.font,l=a.out,u=a.newObject,d=a.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var m=o.metadata.rawData,v="",h=0;h<m.length;h++)v+=String.fromCharCode(m[h]);var b=u();d({data:v,addLength1:!0,objectId:b}),l("endobj");var y=u();d({data:n(o.metadata.toUnicode),addLength1:!0,objectId:y}),l("endobj");var k=u();l("<<"),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l("/StemV "+o.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+b+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/FontName /"+Ro(o.fontName)),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l(">>"),l("endobj"),o.objectNumber=u();for(var g=0;g<o.metadata.hmtx.widths.length;g++)o.metadata.hmtx.widths[g]=parseInt(o.metadata.hmtx.widths[g]*(1e3/o.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+y+" 0 R/BaseFont/"+Ro(o.fontName)+"/FontDescriptor "+k+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),l("endobj"),o.isAlreadyPutted=!0}})(s)}]);var i=function(s){var a,o=s.text||"",l=s.x,u=s.y,d=s.options||{},m=s.mutex||{},v=m.pdfEscape,h=m.activeFontKey,b=m.fonts,y=h,k="",g=0,_="",x=b[y].encoding;if(b[y].encoding!=="Identity-H")return{text:o,x:l,y:u,options:d,mutex:m};for(_=o,y=h,Array.isArray(o)&&(_=o[0]),g=0;g<_.length;g+=1)b[y].metadata.hasOwnProperty("cmap")&&(a=b[y].metadata.cmap.unicode.codeMap[_[g].charCodeAt(0)]),a||_[g].charCodeAt(0)<256&&b[y].metadata.hasOwnProperty("Unicode")?k+=_[g]:k+="";var A="";return parseInt(y.slice(1))<14||x==="WinAnsiEncoding"?A=v(k,y).split("").map(function(T){return T.charCodeAt(0).toString(16)}).join(""):x==="Identity-H"&&(A=r(k,b[y])),m.isHex=!0,{text:A,x:l,y:u,options:d,mutex:m}};e.events.push(["postProcessText",function(s){var a=s.text||"",o=[],l={text:a,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(a)){var u=0;for(u=0;u<a.length;u+=1)Array.isArray(a[u])&&a[u].length===3?o.push([i(Object.assign({},l,{text:a[u][0]})).text,a[u][1],a[u][2]]):o.push(i(Object.assign({},l,{text:a[u]})).text);s.text=o}else s.text=i(Object.assign({},l,{text:a})).text}])}(tt),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,n){return e.call(this),this.internal.vFS[r]=n,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(tt.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(n){var i,s,a,o,l,u,d,m=e,v=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],b={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},y={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},k=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],g=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),_=!1,x=0;this.__bidiEngine__={};var A=function(I){var L=I.charCodeAt(),M=L>>8,N=y[M];return N!==void 0?m[256*N+(255&L)]:M===252||M===253?"AL":g.test(M)?"L":M===8?"R":"N"},T=function(I){for(var L,M=0;M<I.length;M++){if((L=A(I.charAt(M)))==="L")return!1;if(L==="R")return!0}return!1},q=function(I,L,M,N){var Q,fe,se,ie,K=L[N];switch(K){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":_=!1;break;case"N":case"AN":break;case"EN":_&&(K="AN");break;case"AL":_=!0,K="R";break;case"WS":case"BN":K="N";break;case"CS":N<1||N+1>=L.length||(Q=M[N-1])!=="EN"&&Q!=="AN"||(fe=L[N+1])!=="EN"&&fe!=="AN"?K="N":_&&(fe="AN"),K=fe===Q?fe:"N";break;case"ES":K=(Q=N>0?M[N-1]:"B")==="EN"&&N+1<L.length&&L[N+1]==="EN"?"EN":"N";break;case"ET":if(N>0&&M[N-1]==="EN"){K="EN";break}if(_){K="N";break}for(se=N+1,ie=L.length;se<ie&&L[se]==="ET";)se++;K=se<ie&&L[se]==="EN"?"EN":"N";break;case"NSM":if(a&&!o){for(ie=L.length,se=N+1;se<ie&&L[se]==="NSM";)se++;if(se<ie){var ue=I[N],Y=ue>=1425&&ue<=2303||ue===64286;if(Q=L[se],Y&&(Q==="R"||Q==="AL")){K="R";break}}}K=N<1||(Q=L[N-1])==="B"?"N":M[N-1];break;case"B":_=!1,i=!0,K=x;break;case"S":s=!0,K="N"}return K},B=function(I,L,M){var N=I.split("");return M&&D(N,M,{hiLevel:x}),N.reverse(),L&&L.reverse(),N.join("")},D=function(I,L,M){var N,Q,fe,se,ie,K=-1,ue=I.length,Y=0,E=[],$=x?h:v,V=[];for(_=!1,i=!1,s=!1,Q=0;Q<ue;Q++)V[Q]=A(I[Q]);for(fe=0;fe<ue;fe++){if(ie=Y,E[fe]=q(I,V,E,fe),N=240&(Y=$[ie][b[E[fe]]]),Y&=15,L[fe]=se=$[Y][5],N>0)if(N===16){for(Q=K;Q<fe;Q++)L[Q]=1;K=-1}else K=-1;if($[Y][6])K===-1&&(K=fe);else if(K>-1){for(Q=K;Q<fe;Q++)L[Q]=se;K=-1}V[fe]==="B"&&(L[fe]=0),M.hiLevel|=se}s&&function(Z,oe,me){for(var ve=0;ve<me;ve++)if(Z[ve]==="S"){oe[ve]=x;for(var we=ve-1;we>=0&&Z[we]==="WS";we--)oe[we]=x}}(V,L,ue)},P=function(I,L,M,N,Q){if(!(Q.hiLevel<I)){if(I===1&&x===1&&!i)return L.reverse(),void(M&&M.reverse());for(var fe,se,ie,K,ue=L.length,Y=0;Y<ue;){if(N[Y]>=I){for(ie=Y+1;ie<ue&&N[ie]>=I;)ie++;for(K=Y,se=ie-1;K<se;K++,se--)fe=L[K],L[K]=L[se],L[se]=fe,M&&(fe=M[K],M[K]=M[se],M[se]=fe);Y=ie}Y++}}},G=function(I,L,M){var N=I.split(""),Q={hiLevel:x};return M||(M=[]),D(N,M,Q),function(fe,se,ie){if(ie.hiLevel!==0&&d)for(var K,ue=0;ue<fe.length;ue++)se[ue]===1&&(K=k.indexOf(fe[ue]))>=0&&(fe[ue]=k[K+1])}(N,M,Q),P(2,N,L,M,Q),P(1,N,L,M,Q),N.join("")};return this.__bidiEngine__.doBidiReorder=function(I,L,M){if(function(Q,fe){if(fe)for(var se=0;se<Q.length;se++)fe[se]=se;o===void 0&&(o=T(Q)),u===void 0&&(u=T(Q))}(I,L),a||!l||u)if(a&&l&&o^u)x=o?1:0,I=B(I,L,M);else if(!a&&l&&u)x=o?1:0,I=G(I,L,M),I=B(I,L);else if(!a||o||l||u){if(a&&!l&&o^u)I=B(I,L),o?(x=0,I=G(I,L,M)):(x=1,I=G(I,L,M),I=B(I,L));else if(a&&o&&!l&&u)x=1,I=G(I,L,M),I=B(I,L);else if(!a&&!l&&o^u){var N=d;o?(x=1,I=G(I,L,M),x=0,d=!1,I=G(I,L,M),d=N):(x=0,I=G(I,L,M),I=B(I,L),x=1,d=!1,I=G(I,L,M),d=N,I=B(I,L))}}else x=0,I=G(I,L,M);else x=o?1:0,I=G(I,L,M);return I},this.__bidiEngine__.setOptions=function(I){I&&(a=I.isInputVisual,l=I.isOutputVisual,o=I.isInputRtl,u=I.isOutputRtl,d=I.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(n){var i=n.text;n.x,n.y;var s=n.options||{};n.mutex,s.lang;var a=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,r.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var o=0;for(a=[],o=0;o<i.length;o+=1)Object.prototype.toString.call(i[o])==="[object Array]"?a.push([r.doBidiReorder(i[o][0]),i[o][1],i[o][2]]):a.push([r.doBidiReorder(i[o])]);n.text=a}else n.text=r.doBidiReorder(i);r.setOptions({isInputVisual:!0})}])}(tt),tt.API.TTFFont=function(){function t(e){var r;if(this.rawData=e,r=this.contents=new ca(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new fN(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new QS(this.contents),this.head=new tN(this),this.name=new aN(this),this.cmap=new Pw(this),this.toUnicode={},this.hhea=new rN(this),this.maxp=new oN(this),this.hmtx=new lN(this),this.post=new iN(this),this.os2=new nN(this),this.loca=new dN(this),this.glyf=new uN(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,n,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,o,l,u;for(u=[],a=0,o=(l=this.bbox).length;a<o;a++)e=l[a],u.push(Math.round(e*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),32768&(r=i>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,n){var i,s,a,o;for(a=0,s=0,o=(e=""+e).length;0<=o?s<o:s>o;s=0<=o?++s:--s)i=e.charCodeAt(s),a+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/r)||0;return a*(r/1e3)},t.prototype.lineHeight=function(e,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},t}();var ji,ca=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,n;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(e){var r,n,i;for(i=[],r=0,n=e.length;0<=n?r<n:r>n;r=0<=n?++r:--r)i.push(this.writeByte(e.charCodeAt(r)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,n,i,s,a,o,l;return e=this.readByte(),r=this.readByte(),n=this.readByte(),i=this.readByte(),s=this.readByte(),a=this.readByte(),o=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^s)+65536*(255^a)+256*(255^o)+(255^l)+1):72057594037927940*e+281474976710656*r+1099511627776*n+4294967296*i+16777216*s+65536*a+256*o+l},t.prototype.writeLongLong=function(e){var r,n;return r=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,n;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r.push(this.readByte());return r},t.prototype.write=function(e){var r,n,i,s;for(s=[],n=0,i=e.length;n<i;n++)r=e[n],s.push(this.writeByte(r));return s},t}(),QS=function(){var t;function e(r){var n,i,s;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(r){var n,i,s,a,o,l,u,d,m,v,h,b,y;for(y in h=Object.keys(r).length,l=Math.log(2),m=16*Math.floor(Math.log(h)/l),a=Math.floor(m/l),d=16*h-m,(i=new ca).writeInt(this.scalarType),i.writeShort(h),i.writeShort(m),i.writeShort(a),i.writeShort(d),s=16*h,u=i.pos+s,o=null,b=[],r)for(v=r[y],i.writeString(y),i.writeInt(t(v)),i.writeInt(u),i.writeInt(v.length),b=b.concat(v),y==="head"&&(o=u),u+=v.length;u%4;)b.push(0),u++;return i.write(b),n=2981146554-t(i.data),i.pos=o+8,i.writeUInt32(n),i.data},t=function(r){var n,i,s,a;for(r=Tw.call(r);r.length%4;)r.push(0);for(s=new ca(r),i=0,n=0,a=r.length;n<a;n=n+=4)i+=s.readUInt32();return 4294967295&i},e}(),eN={}.hasOwnProperty,Vi=function(t,e){for(var r in e)eN.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};ji=function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var tN=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Vi(t,ji),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var r;return(r=new ca).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(e),r.writeShort(this.glyphDataFormat),r.data},t}(),ov=function(){function t(e,r){var n,i,s,a,o,l,u,d,m,v,h,b,y,k,g,_,x;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),m=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(h=e.readUInt16(),v=h/2,e.pos+=6,s=function(){var A,T;for(T=[],l=A=0;0<=v?A<v:A>v;l=0<=v?++A:--A)T.push(e.readUInt16());return T}(),e.pos+=2,y=function(){var A,T;for(T=[],l=A=0;0<=v?A<v:A>v;l=0<=v?++A:--A)T.push(e.readUInt16());return T}(),u=function(){var A,T;for(T=[],l=A=0;0<=v?A<v:A>v;l=0<=v?++A:--A)T.push(e.readUInt16());return T}(),d=function(){var A,T;for(T=[],l=A=0;0<=v?A<v:A>v;l=0<=v?++A:--A)T.push(e.readUInt16());return T}(),i=(this.length-e.pos+this.offset)/2,o=function(){var A,T;for(T=[],l=A=0;0<=i?A<i:A>i;l=0<=i?++A:--A)T.push(e.readUInt16());return T}(),l=g=0,x=s.length;g<x;l=++g)for(k=s[l],n=_=b=y[l];b<=k?_<=k:_>=k;n=b<=k?++_:--_)d[l]===0?a=n+u[l]:(a=o[d[l]/2+(n-b)-(v-l)]||0)!==0&&(a+=u[l]),this.codeMap[n]=65535&a}e.pos=m}return t.encode=function(e,r){var n,i,s,a,o,l,u,d,m,v,h,b,y,k,g,_,x,A,T,q,B,D,P,G,I,L,M,N,Q,fe,se,ie,K,ue,Y,E,$,V,Z,oe,me,ve,we,Ae,Te,ce;switch(N=new ca,a=Object.keys(e).sort(function(Se,C){return Se-C}),r){case"macroman":for(y=0,k=function(){var Se=[];for(b=0;b<256;++b)Se.push(0);return Se}(),_={0:0},s={},Q=0,K=a.length;Q<K;Q++)_[we=e[i=a[Q]]]==null&&(_[we]=++y),s[i]={old:e[i],new:_[e[i]]},k[i]=_[e[i]];return N.writeUInt16(1),N.writeUInt16(0),N.writeUInt32(12),N.writeUInt16(0),N.writeUInt16(262),N.writeUInt16(0),N.write(k),{charMap:s,subtable:N.data,maxGlyphID:y+1};case"unicode":for(L=[],m=[],x=0,_={},n={},g=u=null,fe=0,ue=a.length;fe<ue;fe++)_[T=e[i=a[fe]]]==null&&(_[T]=++x),n[i]={old:T,new:_[T]},o=_[T]-i,g!=null&&o===u||(g&&m.push(g),L.push(i),u=o),g=i;for(g&&m.push(g),m.push(65535),L.push(65535),G=2*(P=L.length),D=2*Math.pow(Math.log(P)/Math.LN2,2),v=Math.log(D/2)/Math.LN2,B=2*P-D,l=[],q=[],h=[],b=se=0,Y=L.length;se<Y;b=++se){if(I=L[b],d=m[b],I===65535){l.push(0),q.push(0);break}if(I-(M=n[I].new)>=32768)for(l.push(0),q.push(2*(h.length+P-b)),i=ie=I;I<=d?ie<=d:ie>=d;i=I<=d?++ie:--ie)h.push(n[i].new);else l.push(M-I),q.push(0)}for(N.writeUInt16(3),N.writeUInt16(1),N.writeUInt32(12),N.writeUInt16(4),N.writeUInt16(16+8*P+2*h.length),N.writeUInt16(0),N.writeUInt16(G),N.writeUInt16(D),N.writeUInt16(v),N.writeUInt16(B),me=0,E=m.length;me<E;me++)i=m[me],N.writeUInt16(i);for(N.writeUInt16(0),ve=0,$=L.length;ve<$;ve++)i=L[ve],N.writeUInt16(i);for(Ae=0,V=l.length;Ae<V;Ae++)o=l[Ae],N.writeUInt16(o);for(Te=0,Z=q.length;Te<Z;Te++)A=q[Te],N.writeUInt16(A);for(ce=0,oe=h.length;ce<oe;ce++)y=h[ce],N.writeUInt16(y);return{charMap:n,subtable:N.data,maxGlyphID:x+1}}},t}(),Pw=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Vi(t,ji),t.prototype.tag="cmap",t.prototype.parse=function(e){var r,n,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=i?n<i:n>i;n=0<=i?++n:--n)r=new ov(e,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},t.encode=function(e,r){var n,i;return r==null&&(r="macroman"),n=ov.encode(e,r),(i=new ca).writeUInt16(0),i.writeUInt16(1),n.table=i.data.concat(n.subtable),n},t}(),rN=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Vi(t,ji),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),nN=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Vi(t,ji),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var r,n;for(n=[],r=0;r<10;++r)n.push(e.readByte());return n}(),this.charRange=function(){var r,n;for(n=[],r=0;r<4;++r)n.push(e.readInt());return n}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(e.readInt());return n}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),iN=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Vi(t,ji),t.prototype.tag="post",t.prototype.parse=function(e){var r,n,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(n=e.readUInt16(),this.glyphNameIndex=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)r=e.readByte(),i.push(this.names.push(e.readString(r)));return i;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 262144:return this.map=(function(){var a,o,l;for(l=[],s=a=0,o=this.file.maxp.numGlyphs;0<=o?a<o:a>o;s=0<=o?++a:--a)l.push(e.readUInt32());return l}).call(this)}},t}(),sN=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},aN=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Vi(t,ji),t.prototype.tag="name",t.prototype.parse=function(e){var r,n,i,s,a,o,l,u,d,m,v;for(e.pos=this.offset,e.readShort(),r=e.readShort(),o=e.readShort(),n=[],s=0;0<=r?s<r:s>r;s=0<=r?++s:--s)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+o+e.readShort()});for(l={},s=d=0,m=n.length;d<m;s=++d)i=n[s],e.pos=i.offset,u=e.readString(i.length),a=new sN(u,i),l[v=i.nameID]==null&&(l[v]=[]),l[i.nameID].push(a);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},t}(),oN=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Vi(t,ji),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),lN=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Vi(t,ji),t.prototype.tag="hmtx",t.prototype.parse=function(e){var r,n,i,s,a,o,l;for(e.pos=this.offset,this.metrics=[],r=0,o=this.file.hhea.numberOfMetrics;0<=o?r<o:r>o;r=0<=o?++r:--r)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,d;for(d=[],r=u=0;0<=i?u<i:u>i;r=0<=i?++u:--u)d.push(e.readInt16());return d}(),this.widths=(function(){var u,d,m,v;for(v=[],u=0,d=(m=this.metrics).length;u<d;u++)s=m[u],v.push(s.advance);return v}).call(this),n=this.widths[this.widths.length-1],l=[],r=a=0;0<=i?a<i:a>i;r=0<=i?++a:--a)l.push(this.widths.push(n));return l},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),Tw=[].slice,uN=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Vi(t,ji),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var r,n,i,s,a,o,l,u,d,m;return e in this.cache?this.cache[e]:(s=this.file.loca,r=this.file.contents,n=s.indexOf(e),(i=s.lengthOf(e))===0?this.cache[e]=null:(r.pos=this.offset+n,a=(o=new ca(r.read(i))).readShort(),u=o.readShort(),m=o.readShort(),l=o.readShort(),d=o.readShort(),this.cache[e]=a===-1?new hN(o,u,m,l,d):new cN(o,a,u,m,l,d),this.cache[e]))},t.prototype.encode=function(e,r,n){var i,s,a,o,l;for(a=[],s=[],o=0,l=r.length;o<l;o++)i=e[r[o]],s.push(a.length),i&&(a=a.concat(i.encode(n)));return s.push(a.length),{table:a,offsets:s}},t}(),cN=function(){function t(e,r,n,i,s,a){this.raw=e,this.numberOfContours=r,this.xMin=n,this.yMin=i,this.xMax=s,this.yMax=a,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),hN=function(){function t(e,r,n,i,s){var a,o;for(this.raw=e,this.xMin=r,this.yMin=n,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;o=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&o;)a.pos+=1&o?4:2,128&o?a.pos+=8:64&o?a.pos+=4:8&o&&(a.pos+=2)}return t.prototype.encode=function(){var e,r,n;for(r=new ca(Tw.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)r.pos=this.glyphOffsets[e];return r.data},t}(),dN=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Vi(t,ji),t.prototype.tag="loca",t.prototype.parse=function(e){var r,n;return e.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var i,s;for(s=[],n=0,i=this.length;n<i;n+=2)s.push(2*e.readUInt16());return s}).call(this):(function(){var i,s;for(s=[],n=0,i=this.length;n<i;n+=4)s.push(e.readUInt32());return s}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,r){for(var n=new Uint32Array(this.offsets.length),i=0,s=0,a=0;a<n.length;++a)if(n[a]=i,s<r.length&&r[s]==a){++s,n[a]=i;var o=this.offsets[a],l=this.offsets[a+1]-o;l>0&&(i+=l)}for(var u=new Array(4*n.length),d=0;d<n.length;++d)u[4*d+3]=255&n[d],u[4*d+2]=(65280&n[d])>>8,u[4*d+1]=(16711680&n[d])>>16,u[4*d]=(4278190080&n[d])>>24;return u},t}(),fN=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,n,i,s;for(r in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)n=s[r],e[r]=i[n];return e},t.prototype.glyphsFor=function(e){var r,n,i,s,a,o,l;for(i={},a=0,o=e.length;a<o;a++)i[s=e[a]]=this.font.glyf.glyphFor(s);for(s in r=[],i)(n=i[s])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(s in l=this.glyphsFor(r))n=l[s],i[s]=n;return i},t.prototype.encode=function(e,r){var n,i,s,a,o,l,u,d,m,v,h,b,y,k,g;for(i in n=Pw.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(e),h={0:0},g=n.charMap)h[(l=g[i]).old]=l.new;for(b in v=n.maxGlyphID,a)b in h||(h[b]=v++);return d=function(_){var x,A;for(x in A={},_)A[_[x]]=x;return A}(h),m=Object.keys(d).sort(function(_,x){return _-x}),y=function(){var _,x,A;for(A=[],_=0,x=m.length;_<x;_++)o=m[_],A.push(d[o]);return A}(),s=this.font.glyf.encode(a,y,h),u=this.font.loca.encode(s.offsets,y),k={cmap:this.font.cmap.raw(),glyf:s.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(k["OS/2"]=this.font.os2.raw()),this.font.directory.encode(k)},t}();tt.API.PDFObject=function(){var t;function e(){}return t=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},e.convert=function(r){var n,i,s,a;if(Array.isArray(r))return"["+function(){var o,l,u;for(u=[],o=0,l=r.length;o<l;o++)n=r[o],u.push(e.convert(n));return u}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(i in s=["<<"],r)a=r[i],s.push("/"+i+" "+e.convert(a));return s.push(">>"),s.join(`
`)}return""+r},e}();function fh(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Ow={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(t,e){(function(r){t.exports=r()})(function(){return function r(n,i,s){function a(u,d){if(!i[u]){if(!n[u]){var m=typeof fh=="function"&&fh;if(!d&&m)return m(u,!0);if(o)return o(u,!0);var v=new Error("Cannot find module '"+u+"'");throw v.code="MODULE_NOT_FOUND",v}var h=i[u]={exports:{}};n[u][0].call(h.exports,function(b){var y=n[u][1][b];return a(y||b)},h,h.exports,r,n,i,s)}return i[u].exports}for(var o=typeof fh=="function"&&fh,l=0;l<s.length;l++)a(s[l]);return a}({1:[function(r,n,i){var s=r("./utils"),a=r("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(l){for(var u,d,m,v,h,b,y,k=[],g=0,_=l.length,x=_,A=s.getTypeOf(l)!=="string";g<l.length;)x=_-g,m=A?(u=l[g++],d=g<_?l[g++]:0,g<_?l[g++]:0):(u=l.charCodeAt(g++),d=g<_?l.charCodeAt(g++):0,g<_?l.charCodeAt(g++):0),v=u>>2,h=(3&u)<<4|d>>4,b=1<x?(15&d)<<2|m>>6:64,y=2<x?63&m:64,k.push(o.charAt(v)+o.charAt(h)+o.charAt(b)+o.charAt(y));return k.join("")},i.decode=function(l){var u,d,m,v,h,b,y=0,k=0,g="data:";if(l.substr(0,g.length)===g)throw new Error("Invalid base64 input, it looks like a data url.");var _,x=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===o.charAt(64)&&x--,l.charAt(l.length-2)===o.charAt(64)&&x--,x%1!=0)throw new Error("Invalid base64 input, bad content length.");for(_=a.uint8array?new Uint8Array(0|x):new Array(0|x);y<l.length;)u=o.indexOf(l.charAt(y++))<<2|(v=o.indexOf(l.charAt(y++)))>>4,d=(15&v)<<4|(h=o.indexOf(l.charAt(y++)))>>2,m=(3&h)<<6|(b=o.indexOf(l.charAt(y++))),_[k++]=u,h!==64&&(_[k++]=d),b!==64&&(_[k++]=m);return _}},{"./support":30,"./utils":32}],2:[function(r,n,i){var s=r("./external"),a=r("./stream/DataWorker"),o=r("./stream/Crc32Probe"),l=r("./stream/DataLengthProbe");function u(d,m,v,h,b){this.compressedSize=d,this.uncompressedSize=m,this.crc32=v,this.compression=h,this.compressedContent=b}u.prototype={getContentWorker:function(){var d=new a(s.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),m=this;return d.on("end",function(){if(this.streamInfo.data_length!==m.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),d},getCompressedWorker:function(){return new a(s.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},u.createWorkerFrom=function(d,m,v){return d.pipe(new o).pipe(new l("uncompressedSize")).pipe(m.compressWorker(v)).pipe(new l("compressedSize")).withStreamInfo("compression",m)},n.exports=u},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(r,n,i){var s=r("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new s("STORE compression")},uncompressWorker:function(){return new s("STORE decompression")}},i.DEFLATE=r("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(r,n,i){var s=r("./utils"),a=function(){for(var o,l=[],u=0;u<256;u++){o=u;for(var d=0;d<8;d++)o=1&o?3988292384^o>>>1:o>>>1;l[u]=o}return l}();n.exports=function(o,l){return o!==void 0&&o.length?s.getTypeOf(o)!=="string"?function(u,d,m,v){var h=a,b=v+m;u^=-1;for(var y=v;y<b;y++)u=u>>>8^h[255&(u^d[y])];return-1^u}(0|l,o,o.length,0):function(u,d,m,v){var h=a,b=v+m;u^=-1;for(var y=v;y<b;y++)u=u>>>8^h[255&(u^d.charCodeAt(y))];return-1^u}(0|l,o,o.length,0):0}},{"./utils":32}],5:[function(r,n,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(r,n,i){var s=null;s=typeof Promise<"u"?Promise:r("lie"),n.exports={Promise:s}},{lie:37}],7:[function(r,n,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",a=r("pako"),o=r("./utils"),l=r("./stream/GenericWorker"),u=s?"uint8array":"array";function d(m,v){l.call(this,"FlateWorker/"+m),this._pako=null,this._pakoAction=m,this._pakoOptions=v,this.meta={}}i.magic="\b\0",o.inherits(d,l),d.prototype.processChunk=function(m){this.meta=m.meta,this._pako===null&&this._createPako(),this._pako.push(o.transformTo(u,m.data),!1)},d.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},d.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},d.prototype._createPako=function(){this._pako=new a[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var m=this;this._pako.onData=function(v){m.push({data:v,meta:m.meta})}},i.compressWorker=function(m){return new d("Deflate",m)},i.uncompressWorker=function(){return new d("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(r,n,i){function s(h,b){var y,k="";for(y=0;y<b;y++)k+=String.fromCharCode(255&h),h>>>=8;return k}function a(h,b,y,k,g,_){var x,A,T=h.file,q=h.compression,B=_!==u.utf8encode,D=o.transformTo("string",_(T.name)),P=o.transformTo("string",u.utf8encode(T.name)),G=T.comment,I=o.transformTo("string",_(G)),L=o.transformTo("string",u.utf8encode(G)),M=P.length!==T.name.length,N=L.length!==G.length,Q="",fe="",se="",ie=T.dir,K=T.date,ue={crc32:0,compressedSize:0,uncompressedSize:0};b&&!y||(ue.crc32=h.crc32,ue.compressedSize=h.compressedSize,ue.uncompressedSize=h.uncompressedSize);var Y=0;b&&(Y|=8),B||!M&&!N||(Y|=2048);var E=0,$=0;ie&&(E|=16),g==="UNIX"?($=798,E|=function(Z,oe){var me=Z;return Z||(me=oe?16893:33204),(65535&me)<<16}(T.unixPermissions,ie)):($=20,E|=function(Z){return 63&(Z||0)}(T.dosPermissions)),x=K.getUTCHours(),x<<=6,x|=K.getUTCMinutes(),x<<=5,x|=K.getUTCSeconds()/2,A=K.getUTCFullYear()-1980,A<<=4,A|=K.getUTCMonth()+1,A<<=5,A|=K.getUTCDate(),M&&(fe=s(1,1)+s(d(D),4)+P,Q+="up"+s(fe.length,2)+fe),N&&(se=s(1,1)+s(d(I),4)+L,Q+="uc"+s(se.length,2)+se);var V="";return V+=`
\0`,V+=s(Y,2),V+=q.magic,V+=s(x,2),V+=s(A,2),V+=s(ue.crc32,4),V+=s(ue.compressedSize,4),V+=s(ue.uncompressedSize,4),V+=s(D.length,2),V+=s(Q.length,2),{fileRecord:m.LOCAL_FILE_HEADER+V+D+Q,dirRecord:m.CENTRAL_FILE_HEADER+s($,2)+V+s(I.length,2)+"\0\0\0\0"+s(E,4)+s(k,4)+D+Q+I}}var o=r("../utils"),l=r("../stream/GenericWorker"),u=r("../utf8"),d=r("../crc32"),m=r("../signature");function v(h,b,y,k){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=b,this.zipPlatform=y,this.encodeFileName=k,this.streamFiles=h,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}o.inherits(v,l),v.prototype.push=function(h){var b=h.meta.percent||0,y=this.entriesCount,k=this._sources.length;this.accumulate?this.contentBuffer.push(h):(this.bytesWritten+=h.data.length,l.prototype.push.call(this,{data:h.data,meta:{currentFile:this.currentFile,percent:y?(b+100*(y-k-1))/y:100}}))},v.prototype.openedSource=function(h){this.currentSourceOffset=this.bytesWritten,this.currentFile=h.file.name;var b=this.streamFiles&&!h.file.dir;if(b){var y=a(h,b,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:y.fileRecord,meta:{percent:0}})}else this.accumulate=!0},v.prototype.closedSource=function(h){this.accumulate=!1;var b=this.streamFiles&&!h.file.dir,y=a(h,b,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(y.dirRecord),b)this.push({data:function(k){return m.DATA_DESCRIPTOR+s(k.crc32,4)+s(k.compressedSize,4)+s(k.uncompressedSize,4)}(h),meta:{percent:100}});else for(this.push({data:y.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},v.prototype.flush=function(){for(var h=this.bytesWritten,b=0;b<this.dirRecords.length;b++)this.push({data:this.dirRecords[b],meta:{percent:100}});var y=this.bytesWritten-h,k=function(g,_,x,A,T){var q=o.transformTo("string",T(A));return m.CENTRAL_DIRECTORY_END+"\0\0\0\0"+s(g,2)+s(g,2)+s(_,4)+s(x,4)+s(q.length,2)+q}(this.dirRecords.length,y,h,this.zipComment,this.encodeFileName);this.push({data:k,meta:{percent:100}})},v.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},v.prototype.registerPrevious=function(h){this._sources.push(h);var b=this;return h.on("data",function(y){b.processChunk(y)}),h.on("end",function(){b.closedSource(b.previous.streamInfo),b._sources.length?b.prepareNextSource():b.end()}),h.on("error",function(y){b.error(y)}),this},v.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},v.prototype.error=function(h){var b=this._sources;if(!l.prototype.error.call(this,h))return!1;for(var y=0;y<b.length;y++)try{b[y].error(h)}catch{}return!0},v.prototype.lock=function(){l.prototype.lock.call(this);for(var h=this._sources,b=0;b<h.length;b++)h[b].lock()},n.exports=v},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(r,n,i){var s=r("../compressions"),a=r("./ZipFileWorker");i.generateWorker=function(o,l,u){var d=new a(l.streamFiles,u,l.platform,l.encodeFileName),m=0;try{o.forEach(function(v,h){m++;var b=function(_,x){var A=_||x,T=s[A];if(!T)throw new Error(A+" is not a valid compression method !");return T}(h.options.compression,l.compression),y=h.options.compressionOptions||l.compressionOptions||{},k=h.dir,g=h.date;h._compressWorker(b,y).withStreamInfo("file",{name:v,dir:k,date:g,comment:h.comment||"",unixPermissions:h.unixPermissions,dosPermissions:h.dosPermissions}).pipe(d)}),d.entriesCount=m}catch(v){d.error(v)}return d}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(r,n,i){function s(){if(!(this instanceof s))return new s;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var a=new s;for(var o in this)typeof this[o]!="function"&&(a[o]=this[o]);return a}}(s.prototype=r("./object")).loadAsync=r("./load"),s.support=r("./support"),s.defaults=r("./defaults"),s.version="3.10.1",s.loadAsync=function(a,o){return new s().loadAsync(a,o)},s.external=r("./external"),n.exports=s},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(r,n,i){var s=r("./utils"),a=r("./external"),o=r("./utf8"),l=r("./zipEntries"),u=r("./stream/Crc32Probe"),d=r("./nodejsUtils");function m(v){return new a.Promise(function(h,b){var y=v.decompressed.getContentWorker().pipe(new u);y.on("error",function(k){b(k)}).on("end",function(){y.streamInfo.crc32!==v.decompressed.crc32?b(new Error("Corrupted zip : CRC32 mismatch")):h()}).resume()})}n.exports=function(v,h){var b=this;return h=s.extend(h||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),d.isNode&&d.isStream(v)?a.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):s.prepareContent("the loaded zip file",v,!0,h.optimizedBinaryString,h.base64).then(function(y){var k=new l(h);return k.load(y),k}).then(function(y){var k=[a.Promise.resolve(y)],g=y.files;if(h.checkCRC32)for(var _=0;_<g.length;_++)k.push(m(g[_]));return a.Promise.all(k)}).then(function(y){for(var k=y.shift(),g=k.files,_=0;_<g.length;_++){var x=g[_],A=x.fileNameStr,T=s.resolve(x.fileNameStr);b.file(T,x.decompressed,{binary:!0,optimizedBinaryString:!0,date:x.date,dir:x.dir,comment:x.fileCommentStr.length?x.fileCommentStr:null,unixPermissions:x.unixPermissions,dosPermissions:x.dosPermissions,createFolders:h.createFolders}),x.dir||(b.file(T).unsafeOriginalName=A)}return k.zipComment.length&&(b.comment=k.zipComment),b})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(r,n,i){var s=r("../utils"),a=r("../stream/GenericWorker");function o(l,u){a.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(u)}s.inherits(o,a),o.prototype._bindStream=function(l){var u=this;(this._stream=l).pause(),l.on("data",function(d){u.push({data:d,meta:{percent:0}})}).on("error",function(d){u.isPaused?this.generatedError=d:u.error(d)}).on("end",function(){u.isPaused?u._upstreamEnded=!0:u.end()})},o.prototype.pause=function(){return!!a.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},n.exports=o},{"../stream/GenericWorker":28,"../utils":32}],13:[function(r,n,i){var s=r("readable-stream").Readable;function a(o,l,u){s.call(this,l),this._helper=o;var d=this;o.on("data",function(m,v){d.push(m)||d._helper.pause(),u&&u(v)}).on("error",function(m){d.emit("error",m)}).on("end",function(){d.push(null)})}r("../utils").inherits(a,s),a.prototype._read=function(){this._helper.resume()},n.exports=a},{"../utils":32,"readable-stream":16}],14:[function(r,n,i){n.exports={isNode:typeof Buffer<"u",newBufferFrom:function(s,a){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(s,a);if(typeof s=="number")throw new Error('The "data" argument must not be a number');return new Buffer(s,a)},allocBuffer:function(s){if(Buffer.alloc)return Buffer.alloc(s);var a=new Buffer(s);return a.fill(0),a},isBuffer:function(s){return Buffer.isBuffer(s)},isStream:function(s){return s&&typeof s.on=="function"&&typeof s.pause=="function"&&typeof s.resume=="function"}}},{}],15:[function(r,n,i){function s(T,q,B){var D,P=o.getTypeOf(q),G=o.extend(B||{},d);G.date=G.date||new Date,G.compression!==null&&(G.compression=G.compression.toUpperCase()),typeof G.unixPermissions=="string"&&(G.unixPermissions=parseInt(G.unixPermissions,8)),G.unixPermissions&&16384&G.unixPermissions&&(G.dir=!0),G.dosPermissions&&16&G.dosPermissions&&(G.dir=!0),G.dir&&(T=g(T)),G.createFolders&&(D=k(T))&&_.call(this,D,!0);var I=P==="string"&&G.binary===!1&&G.base64===!1;B&&B.binary!==void 0||(G.binary=!I),(q instanceof m&&q.uncompressedSize===0||G.dir||!q||q.length===0)&&(G.base64=!1,G.binary=!0,q="",G.compression="STORE",P="string");var L=null;L=q instanceof m||q instanceof l?q:b.isNode&&b.isStream(q)?new y(T,q):o.prepareContent(T,q,G.binary,G.optimizedBinaryString,G.base64);var M=new v(T,L,G);this.files[T]=M}var a=r("./utf8"),o=r("./utils"),l=r("./stream/GenericWorker"),u=r("./stream/StreamHelper"),d=r("./defaults"),m=r("./compressedObject"),v=r("./zipObject"),h=r("./generate"),b=r("./nodejsUtils"),y=r("./nodejs/NodejsStreamInputAdapter"),k=function(T){T.slice(-1)==="/"&&(T=T.substring(0,T.length-1));var q=T.lastIndexOf("/");return 0<q?T.substring(0,q):""},g=function(T){return T.slice(-1)!=="/"&&(T+="/"),T},_=function(T,q){return q=q!==void 0?q:d.createFolders,T=g(T),this.files[T]||s.call(this,T,null,{dir:!0,createFolders:q}),this.files[T]};function x(T){return Object.prototype.toString.call(T)==="[object RegExp]"}var A={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(T){var q,B,D;for(q in this.files)D=this.files[q],(B=q.slice(this.root.length,q.length))&&q.slice(0,this.root.length)===this.root&&T(B,D)},filter:function(T){var q=[];return this.forEach(function(B,D){T(B,D)&&q.push(D)}),q},file:function(T,q,B){if(arguments.length!==1)return T=this.root+T,s.call(this,T,q,B),this;if(x(T)){var D=T;return this.filter(function(G,I){return!I.dir&&D.test(G)})}var P=this.files[this.root+T];return P&&!P.dir?P:null},folder:function(T){if(!T)return this;if(x(T))return this.filter(function(P,G){return G.dir&&T.test(P)});var q=this.root+T,B=_.call(this,q),D=this.clone();return D.root=B.name,D},remove:function(T){T=this.root+T;var q=this.files[T];if(q||(T.slice(-1)!=="/"&&(T+="/"),q=this.files[T]),q&&!q.dir)delete this.files[T];else for(var B=this.filter(function(P,G){return G.name.slice(0,T.length)===T}),D=0;D<B.length;D++)delete this.files[B[D].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(T){var q,B={};try{if((B=o.extend(T||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:a.utf8encode})).type=B.type.toLowerCase(),B.compression=B.compression.toUpperCase(),B.type==="binarystring"&&(B.type="string"),!B.type)throw new Error("No output type specified.");o.checkSupport(B.type),B.platform!=="darwin"&&B.platform!=="freebsd"&&B.platform!=="linux"&&B.platform!=="sunos"||(B.platform="UNIX"),B.platform==="win32"&&(B.platform="DOS");var D=B.comment||this.comment||"";q=h.generateWorker(this,B,D)}catch(P){(q=new l("error")).error(P)}return new u(q,B.type||"string",B.mimeType)},generateAsync:function(T,q){return this.generateInternalStream(T).accumulate(q)},generateNodeStream:function(T,q){return(T=T||{}).type||(T.type="nodebuffer"),this.generateInternalStream(T).toNodejsStream(q)}};n.exports=A},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(r,n,i){n.exports=r("stream")},{stream:void 0}],17:[function(r,n,i){var s=r("./DataReader");function a(o){s.call(this,o);for(var l=0;l<this.data.length;l++)o[l]=255&o[l]}r("../utils").inherits(a,s),a.prototype.byteAt=function(o){return this.data[this.zero+o]},a.prototype.lastIndexOfSignature=function(o){for(var l=o.charCodeAt(0),u=o.charCodeAt(1),d=o.charCodeAt(2),m=o.charCodeAt(3),v=this.length-4;0<=v;--v)if(this.data[v]===l&&this.data[v+1]===u&&this.data[v+2]===d&&this.data[v+3]===m)return v-this.zero;return-1},a.prototype.readAndCheckSignature=function(o){var l=o.charCodeAt(0),u=o.charCodeAt(1),d=o.charCodeAt(2),m=o.charCodeAt(3),v=this.readData(4);return l===v[0]&&u===v[1]&&d===v[2]&&m===v[3]},a.prototype.readData=function(o){if(this.checkOffset(o),o===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},n.exports=a},{"../utils":32,"./DataReader":18}],18:[function(r,n,i){var s=r("../utils");function a(o){this.data=o,this.length=o.length,this.index=0,this.zero=0}a.prototype={checkOffset:function(o){this.checkIndex(this.index+o)},checkIndex:function(o){if(this.length<this.zero+o||o<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+o+"). Corrupted zip ?")},setIndex:function(o){this.checkIndex(o),this.index=o},skip:function(o){this.setIndex(this.index+o)},byteAt:function(){},readInt:function(o){var l,u=0;for(this.checkOffset(o),l=this.index+o-1;l>=this.index;l--)u=(u<<8)+this.byteAt(l);return this.index+=o,u},readString:function(o){return s.transformTo("string",this.readData(o))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var o=this.readInt(4);return new Date(Date.UTC(1980+(o>>25&127),(o>>21&15)-1,o>>16&31,o>>11&31,o>>5&63,(31&o)<<1))}},n.exports=a},{"../utils":32}],19:[function(r,n,i){var s=r("./Uint8ArrayReader");function a(o){s.call(this,o)}r("../utils").inherits(a,s),a.prototype.readData=function(o){this.checkOffset(o);var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},n.exports=a},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(r,n,i){var s=r("./DataReader");function a(o){s.call(this,o)}r("../utils").inherits(a,s),a.prototype.byteAt=function(o){return this.data.charCodeAt(this.zero+o)},a.prototype.lastIndexOfSignature=function(o){return this.data.lastIndexOf(o)-this.zero},a.prototype.readAndCheckSignature=function(o){return o===this.readData(4)},a.prototype.readData=function(o){this.checkOffset(o);var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},n.exports=a},{"../utils":32,"./DataReader":18}],21:[function(r,n,i){var s=r("./ArrayReader");function a(o){s.call(this,o)}r("../utils").inherits(a,s),a.prototype.readData=function(o){if(this.checkOffset(o),o===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},n.exports=a},{"../utils":32,"./ArrayReader":17}],22:[function(r,n,i){var s=r("../utils"),a=r("../support"),o=r("./ArrayReader"),l=r("./StringReader"),u=r("./NodeBufferReader"),d=r("./Uint8ArrayReader");n.exports=function(m){var v=s.getTypeOf(m);return s.checkSupport(v),v!=="string"||a.uint8array?v==="nodebuffer"?new u(m):a.uint8array?new d(s.transformTo("uint8array",m)):new o(s.transformTo("array",m)):new l(m)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(r,n,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(r,n,i){var s=r("./GenericWorker"),a=r("../utils");function o(l){s.call(this,"ConvertWorker to "+l),this.destType=l}a.inherits(o,s),o.prototype.processChunk=function(l){this.push({data:a.transformTo(this.destType,l.data),meta:l.meta})},n.exports=o},{"../utils":32,"./GenericWorker":28}],25:[function(r,n,i){var s=r("./GenericWorker"),a=r("../crc32");function o(){s.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}r("../utils").inherits(o,s),o.prototype.processChunk=function(l){this.streamInfo.crc32=a(l.data,this.streamInfo.crc32||0),this.push(l)},n.exports=o},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(r,n,i){var s=r("../utils"),a=r("./GenericWorker");function o(l){a.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}s.inherits(o,a),o.prototype.processChunk=function(l){if(l){var u=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=u+l.data.length}a.prototype.processChunk.call(this,l)},n.exports=o},{"../utils":32,"./GenericWorker":28}],27:[function(r,n,i){var s=r("../utils"),a=r("./GenericWorker");function o(l){a.call(this,"DataWorker");var u=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(d){u.dataIsReady=!0,u.data=d,u.max=d&&d.length||0,u.type=s.getTypeOf(d),u.isPaused||u._tickAndRepeat()},function(d){u.error(d)})}s.inherits(o,a),o.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,s.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(s.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,u=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,u);break;case"uint8array":l=this.data.subarray(this.index,u);break;case"array":case"nodebuffer":l=this.data.slice(this.index,u)}return this.index=u,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},n.exports=o},{"../utils":32,"./GenericWorker":28}],28:[function(r,n,i){function s(a){this.name=a||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}s.prototype={push:function(a){this.emit("data",a)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(a){this.emit("error",a)}return!0},error:function(a){return!this.isFinished&&(this.isPaused?this.generatedError=a:(this.isFinished=!0,this.emit("error",a),this.previous&&this.previous.error(a),this.cleanUp()),!0)},on:function(a,o){return this._listeners[a].push(o),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(a,o){if(this._listeners[a])for(var l=0;l<this._listeners[a].length;l++)this._listeners[a][l].call(this,o)},pipe:function(a){return a.registerPrevious(this)},registerPrevious:function(a){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=a.streamInfo,this.mergeStreamInfo(),this.previous=a;var o=this;return a.on("data",function(l){o.processChunk(l)}),a.on("end",function(){o.end()}),a.on("error",function(l){o.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var a=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),a=!0),this.previous&&this.previous.resume(),!a},flush:function(){},processChunk:function(a){this.push(a)},withStreamInfo:function(a,o){return this.extraStreamInfo[a]=o,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var a in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,a)&&(this.streamInfo[a]=this.extraStreamInfo[a])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var a="Worker "+this.name;return this.previous?this.previous+" -> "+a:a}},n.exports=s},{}],29:[function(r,n,i){var s=r("../utils"),a=r("./ConvertWorker"),o=r("./GenericWorker"),l=r("../base64"),u=r("../support"),d=r("../external"),m=null;if(u.nodestream)try{m=r("../nodejs/NodejsStreamOutputAdapter")}catch{}function v(b,y){return new d.Promise(function(k,g){var _=[],x=b._internalType,A=b._outputType,T=b._mimeType;b.on("data",function(q,B){_.push(q),y&&y(B)}).on("error",function(q){_=[],g(q)}).on("end",function(){try{var q=function(B,D,P){switch(B){case"blob":return s.newBlob(s.transformTo("arraybuffer",D),P);case"base64":return l.encode(D);default:return s.transformTo(B,D)}}(A,function(B,D){var P,G=0,I=null,L=0;for(P=0;P<D.length;P++)L+=D[P].length;switch(B){case"string":return D.join("");case"array":return Array.prototype.concat.apply([],D);case"uint8array":for(I=new Uint8Array(L),P=0;P<D.length;P++)I.set(D[P],G),G+=D[P].length;return I;case"nodebuffer":return Buffer.concat(D);default:throw new Error("concat : unsupported type '"+B+"'")}}(x,_),T);k(q)}catch(B){g(B)}_=[]}).resume()})}function h(b,y,k){var g=y;switch(y){case"blob":case"arraybuffer":g="uint8array";break;case"base64":g="string"}try{this._internalType=g,this._outputType=y,this._mimeType=k,s.checkSupport(g),this._worker=b.pipe(new a(g)),b.lock()}catch(_){this._worker=new o("error"),this._worker.error(_)}}h.prototype={accumulate:function(b){return v(this,b)},on:function(b,y){var k=this;return b==="data"?this._worker.on(b,function(g){y.call(k,g.data,g.meta)}):this._worker.on(b,function(){s.delay(y,arguments,k)}),this},resume:function(){return s.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(b){if(s.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new m(this,{objectMode:this._outputType!=="nodebuffer"},b)}},n.exports=h},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(r,n,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var s=new ArrayBuffer(0);try{i.blob=new Blob([s],{type:"application/zip"}).size===0}catch{try{var a=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);a.append(s),i.blob=a.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!r("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(r,n,i){for(var s=r("./utils"),a=r("./support"),o=r("./nodejsUtils"),l=r("./stream/GenericWorker"),u=new Array(256),d=0;d<256;d++)u[d]=252<=d?6:248<=d?5:240<=d?4:224<=d?3:192<=d?2:1;u[254]=u[254]=1;function m(){l.call(this,"utf-8 decode"),this.leftOver=null}function v(){l.call(this,"utf-8 encode")}i.utf8encode=function(h){return a.nodebuffer?o.newBufferFrom(h,"utf-8"):function(b){var y,k,g,_,x,A=b.length,T=0;for(_=0;_<A;_++)(64512&(k=b.charCodeAt(_)))==55296&&_+1<A&&(64512&(g=b.charCodeAt(_+1)))==56320&&(k=65536+(k-55296<<10)+(g-56320),_++),T+=k<128?1:k<2048?2:k<65536?3:4;for(y=a.uint8array?new Uint8Array(T):new Array(T),_=x=0;x<T;_++)(64512&(k=b.charCodeAt(_)))==55296&&_+1<A&&(64512&(g=b.charCodeAt(_+1)))==56320&&(k=65536+(k-55296<<10)+(g-56320),_++),k<128?y[x++]=k:(k<2048?y[x++]=192|k>>>6:(k<65536?y[x++]=224|k>>>12:(y[x++]=240|k>>>18,y[x++]=128|k>>>12&63),y[x++]=128|k>>>6&63),y[x++]=128|63&k);return y}(h)},i.utf8decode=function(h){return a.nodebuffer?s.transformTo("nodebuffer",h).toString("utf-8"):function(b){var y,k,g,_,x=b.length,A=new Array(2*x);for(y=k=0;y<x;)if((g=b[y++])<128)A[k++]=g;else if(4<(_=u[g]))A[k++]=65533,y+=_-1;else{for(g&=_===2?31:_===3?15:7;1<_&&y<x;)g=g<<6|63&b[y++],_--;1<_?A[k++]=65533:g<65536?A[k++]=g:(g-=65536,A[k++]=55296|g>>10&1023,A[k++]=56320|1023&g)}return A.length!==k&&(A.subarray?A=A.subarray(0,k):A.length=k),s.applyFromCharCode(A)}(h=s.transformTo(a.uint8array?"uint8array":"array",h))},s.inherits(m,l),m.prototype.processChunk=function(h){var b=s.transformTo(a.uint8array?"uint8array":"array",h.data);if(this.leftOver&&this.leftOver.length){if(a.uint8array){var y=b;(b=new Uint8Array(y.length+this.leftOver.length)).set(this.leftOver,0),b.set(y,this.leftOver.length)}else b=this.leftOver.concat(b);this.leftOver=null}var k=function(_,x){var A;for((x=x||_.length)>_.length&&(x=_.length),A=x-1;0<=A&&(192&_[A])==128;)A--;return A<0||A===0?x:A+u[_[A]]>x?A:x}(b),g=b;k!==b.length&&(a.uint8array?(g=b.subarray(0,k),this.leftOver=b.subarray(k,b.length)):(g=b.slice(0,k),this.leftOver=b.slice(k,b.length))),this.push({data:i.utf8decode(g),meta:h.meta})},m.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=m,s.inherits(v,l),v.prototype.processChunk=function(h){this.push({data:i.utf8encode(h.data),meta:h.meta})},i.Utf8EncodeWorker=v},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(r,n,i){var s=r("./support"),a=r("./base64"),o=r("./nodejsUtils"),l=r("./external");function u(y){return y}function d(y,k){for(var g=0;g<y.length;++g)k[g]=255&y.charCodeAt(g);return k}r("setimmediate"),i.newBlob=function(y,k){i.checkSupport("blob");try{return new Blob([y],{type:k})}catch{try{var g=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return g.append(y),g.getBlob(k)}catch{throw new Error("Bug : can't construct the Blob.")}}};var m={stringifyByChunk:function(y,k,g){var _=[],x=0,A=y.length;if(A<=g)return String.fromCharCode.apply(null,y);for(;x<A;)k==="array"||k==="nodebuffer"?_.push(String.fromCharCode.apply(null,y.slice(x,Math.min(x+g,A)))):_.push(String.fromCharCode.apply(null,y.subarray(x,Math.min(x+g,A)))),x+=g;return _.join("")},stringifyByChar:function(y){for(var k="",g=0;g<y.length;g++)k+=String.fromCharCode(y[g]);return k},applyCanBeUsed:{uint8array:function(){try{return s.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return s.nodebuffer&&String.fromCharCode.apply(null,o.allocBuffer(1)).length===1}catch{return!1}}()}};function v(y){var k=65536,g=i.getTypeOf(y),_=!0;if(g==="uint8array"?_=m.applyCanBeUsed.uint8array:g==="nodebuffer"&&(_=m.applyCanBeUsed.nodebuffer),_)for(;1<k;)try{return m.stringifyByChunk(y,g,k)}catch{k=Math.floor(k/2)}return m.stringifyByChar(y)}function h(y,k){for(var g=0;g<y.length;g++)k[g]=y[g];return k}i.applyFromCharCode=v;var b={};b.string={string:u,array:function(y){return d(y,new Array(y.length))},arraybuffer:function(y){return b.string.uint8array(y).buffer},uint8array:function(y){return d(y,new Uint8Array(y.length))},nodebuffer:function(y){return d(y,o.allocBuffer(y.length))}},b.array={string:v,array:u,arraybuffer:function(y){return new Uint8Array(y).buffer},uint8array:function(y){return new Uint8Array(y)},nodebuffer:function(y){return o.newBufferFrom(y)}},b.arraybuffer={string:function(y){return v(new Uint8Array(y))},array:function(y){return h(new Uint8Array(y),new Array(y.byteLength))},arraybuffer:u,uint8array:function(y){return new Uint8Array(y)},nodebuffer:function(y){return o.newBufferFrom(new Uint8Array(y))}},b.uint8array={string:v,array:function(y){return h(y,new Array(y.length))},arraybuffer:function(y){return y.buffer},uint8array:u,nodebuffer:function(y){return o.newBufferFrom(y)}},b.nodebuffer={string:v,array:function(y){return h(y,new Array(y.length))},arraybuffer:function(y){return b.nodebuffer.uint8array(y).buffer},uint8array:function(y){return h(y,new Uint8Array(y.length))},nodebuffer:u},i.transformTo=function(y,k){if(k=k||"",!y)return k;i.checkSupport(y);var g=i.getTypeOf(k);return b[g][y](k)},i.resolve=function(y){for(var k=y.split("/"),g=[],_=0;_<k.length;_++){var x=k[_];x==="."||x===""&&_!==0&&_!==k.length-1||(x===".."?g.pop():g.push(x))}return g.join("/")},i.getTypeOf=function(y){return typeof y=="string"?"string":Object.prototype.toString.call(y)==="[object Array]"?"array":s.nodebuffer&&o.isBuffer(y)?"nodebuffer":s.uint8array&&y instanceof Uint8Array?"uint8array":s.arraybuffer&&y instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(y){if(!s[y.toLowerCase()])throw new Error(y+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(y){var k,g,_="";for(g=0;g<(y||"").length;g++)_+="\\x"+((k=y.charCodeAt(g))<16?"0":"")+k.toString(16).toUpperCase();return _},i.delay=function(y,k,g){setImmediate(function(){y.apply(g||null,k||[])})},i.inherits=function(y,k){function g(){}g.prototype=k.prototype,y.prototype=new g},i.extend=function(){var y,k,g={};for(y=0;y<arguments.length;y++)for(k in arguments[y])Object.prototype.hasOwnProperty.call(arguments[y],k)&&g[k]===void 0&&(g[k]=arguments[y][k]);return g},i.prepareContent=function(y,k,g,_,x){return l.Promise.resolve(k).then(function(A){return s.blob&&(A instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(A))!==-1)&&typeof FileReader<"u"?new l.Promise(function(T,q){var B=new FileReader;B.onload=function(D){T(D.target.result)},B.onerror=function(D){q(D.target.error)},B.readAsArrayBuffer(A)}):A}).then(function(A){var T=i.getTypeOf(A);return T?(T==="arraybuffer"?A=i.transformTo("uint8array",A):T==="string"&&(x?A=a.decode(A):g&&_!==!0&&(A=function(q){return d(q,s.uint8array?new Uint8Array(q.length):new Array(q.length))}(A))),A):l.Promise.reject(new Error("Can't read the data of '"+y+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(r,n,i){var s=r("./reader/readerFor"),a=r("./utils"),o=r("./signature"),l=r("./zipEntry"),u=r("./support");function d(m){this.files=[],this.loadOptions=m}d.prototype={checkSignature:function(m){if(!this.reader.readAndCheckSignature(m)){this.reader.index-=4;var v=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+a.pretty(v)+", expected "+a.pretty(m)+")")}},isSignature:function(m,v){var h=this.reader.index;this.reader.setIndex(m);var b=this.reader.readString(4)===v;return this.reader.setIndex(h),b},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var m=this.reader.readData(this.zipCommentLength),v=u.uint8array?"uint8array":"array",h=a.transformTo(v,m);this.zipComment=this.loadOptions.decodeFileName(h)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var m,v,h,b=this.zip64EndOfCentralSize-44;0<b;)m=this.reader.readInt(2),v=this.reader.readInt(4),h=this.reader.readData(v),this.zip64ExtensibleData[m]={id:m,length:v,value:h}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var m,v;for(m=0;m<this.files.length;m++)v=this.files[m],this.reader.setIndex(v.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),v.readLocalPart(this.reader),v.handleUTF8(),v.processAttributes()},readCentralDir:function(){var m;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(m=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(m);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var m=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(m<0)throw this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(m);var v=m;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===a.MAX_VALUE_16BITS||this.diskWithCentralDirStart===a.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===a.MAX_VALUE_16BITS||this.centralDirRecords===a.MAX_VALUE_16BITS||this.centralDirSize===a.MAX_VALUE_32BITS||this.centralDirOffset===a.MAX_VALUE_32BITS){if(this.zip64=!0,(m=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(m),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var h=this.centralDirOffset+this.centralDirSize;this.zip64&&(h+=20,h+=12+this.zip64EndOfCentralSize);var b=v-h;if(0<b)this.isSignature(v,o.CENTRAL_FILE_HEADER)||(this.reader.zero=b);else if(b<0)throw new Error("Corrupted zip: missing "+Math.abs(b)+" bytes.")},prepareReader:function(m){this.reader=s(m)},load:function(m){this.prepareReader(m),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},n.exports=d},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(r,n,i){var s=r("./reader/readerFor"),a=r("./utils"),o=r("./compressedObject"),l=r("./crc32"),u=r("./utf8"),d=r("./compressions"),m=r("./support");function v(h,b){this.options=h,this.loadOptions=b}v.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(h){var b,y;if(h.skip(22),this.fileNameLength=h.readInt(2),y=h.readInt(2),this.fileName=h.readData(this.fileNameLength),h.skip(y),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((b=function(k){for(var g in d)if(Object.prototype.hasOwnProperty.call(d,g)&&d[g].magic===k)return d[g];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+a.pretty(this.compressionMethod)+" unknown (inner file : "+a.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,b,h.readData(this.compressedSize))},readCentralPart:function(h){this.versionMadeBy=h.readInt(2),h.skip(2),this.bitFlag=h.readInt(2),this.compressionMethod=h.readString(2),this.date=h.readDate(),this.crc32=h.readInt(4),this.compressedSize=h.readInt(4),this.uncompressedSize=h.readInt(4);var b=h.readInt(2);if(this.extraFieldsLength=h.readInt(2),this.fileCommentLength=h.readInt(2),this.diskNumberStart=h.readInt(2),this.internalFileAttributes=h.readInt(2),this.externalFileAttributes=h.readInt(4),this.localHeaderOffset=h.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");h.skip(b),this.readExtraFields(h),this.parseZIP64ExtraField(h),this.fileComment=h.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var h=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),h==0&&(this.dosPermissions=63&this.externalFileAttributes),h==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var h=s(this.extraFields[1].value);this.uncompressedSize===a.MAX_VALUE_32BITS&&(this.uncompressedSize=h.readInt(8)),this.compressedSize===a.MAX_VALUE_32BITS&&(this.compressedSize=h.readInt(8)),this.localHeaderOffset===a.MAX_VALUE_32BITS&&(this.localHeaderOffset=h.readInt(8)),this.diskNumberStart===a.MAX_VALUE_32BITS&&(this.diskNumberStart=h.readInt(4))}},readExtraFields:function(h){var b,y,k,g=h.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});h.index+4<g;)b=h.readInt(2),y=h.readInt(2),k=h.readData(y),this.extraFields[b]={id:b,length:y,value:k};h.setIndex(g)},handleUTF8:function(){var h=m.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=u.utf8decode(this.fileName),this.fileCommentStr=u.utf8decode(this.fileComment);else{var b=this.findExtraFieldUnicodePath();if(b!==null)this.fileNameStr=b;else{var y=a.transformTo(h,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(y)}var k=this.findExtraFieldUnicodeComment();if(k!==null)this.fileCommentStr=k;else{var g=a.transformTo(h,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(g)}}},findExtraFieldUnicodePath:function(){var h=this.extraFields[28789];if(h){var b=s(h.value);return b.readInt(1)!==1||l(this.fileName)!==b.readInt(4)?null:u.utf8decode(b.readData(h.length-5))}return null},findExtraFieldUnicodeComment:function(){var h=this.extraFields[25461];if(h){var b=s(h.value);return b.readInt(1)!==1||l(this.fileComment)!==b.readInt(4)?null:u.utf8decode(b.readData(h.length-5))}return null}},n.exports=v},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(r,n,i){function s(b,y,k){this.name=b,this.dir=k.dir,this.date=k.date,this.comment=k.comment,this.unixPermissions=k.unixPermissions,this.dosPermissions=k.dosPermissions,this._data=y,this._dataBinary=k.binary,this.options={compression:k.compression,compressionOptions:k.compressionOptions}}var a=r("./stream/StreamHelper"),o=r("./stream/DataWorker"),l=r("./utf8"),u=r("./compressedObject"),d=r("./stream/GenericWorker");s.prototype={internalStream:function(b){var y=null,k="string";try{if(!b)throw new Error("No output type specified.");var g=(k=b.toLowerCase())==="string"||k==="text";k!=="binarystring"&&k!=="text"||(k="string"),y=this._decompressWorker();var _=!this._dataBinary;_&&!g&&(y=y.pipe(new l.Utf8EncodeWorker)),!_&&g&&(y=y.pipe(new l.Utf8DecodeWorker))}catch(x){(y=new d("error")).error(x)}return new a(y,k,"")},async:function(b,y){return this.internalStream(b).accumulate(y)},nodeStream:function(b,y){return this.internalStream(b||"nodebuffer").toNodejsStream(y)},_compressWorker:function(b,y){if(this._data instanceof u&&this._data.compression.magic===b.magic)return this._data.getCompressedWorker();var k=this._decompressWorker();return this._dataBinary||(k=k.pipe(new l.Utf8EncodeWorker)),u.createWorkerFrom(k,b,y)},_decompressWorker:function(){return this._data instanceof u?this._data.getContentWorker():this._data instanceof d?this._data:new o(this._data)}};for(var m=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],v=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},h=0;h<m.length;h++)s.prototype[m[h]]=v;n.exports=s},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(r,n,i){(function(s){var a,o,l=s.MutationObserver||s.WebKitMutationObserver;if(l){var u=0,d=new l(b),m=s.document.createTextNode("");d.observe(m,{characterData:!0}),a=function(){m.data=u=++u%2}}else if(s.setImmediate||s.MessageChannel===void 0)a="document"in s&&"onreadystatechange"in s.document.createElement("script")?function(){var y=s.document.createElement("script");y.onreadystatechange=function(){b(),y.onreadystatechange=null,y.parentNode.removeChild(y),y=null},s.document.documentElement.appendChild(y)}:function(){setTimeout(b,0)};else{var v=new s.MessageChannel;v.port1.onmessage=b,a=function(){v.port2.postMessage(0)}}var h=[];function b(){var y,k;o=!0;for(var g=h.length;g;){for(k=h,h=[],y=-1;++y<g;)k[y]();g=h.length}o=!1}n.exports=function(y){h.push(y)!==1||o||a()}}).call(this,typeof zc<"u"?zc:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(r,n,i){var s=r("immediate");function a(){}var o={},l=["REJECTED"],u=["FULFILLED"],d=["PENDING"];function m(g){if(typeof g!="function")throw new TypeError("resolver must be a function");this.state=d,this.queue=[],this.outcome=void 0,g!==a&&y(this,g)}function v(g,_,x){this.promise=g,typeof _=="function"&&(this.onFulfilled=_,this.callFulfilled=this.otherCallFulfilled),typeof x=="function"&&(this.onRejected=x,this.callRejected=this.otherCallRejected)}function h(g,_,x){s(function(){var A;try{A=_(x)}catch(T){return o.reject(g,T)}A===g?o.reject(g,new TypeError("Cannot resolve promise with itself")):o.resolve(g,A)})}function b(g){var _=g&&g.then;if(g&&(typeof g=="object"||typeof g=="function")&&typeof _=="function")return function(){_.apply(g,arguments)}}function y(g,_){var x=!1;function A(B){x||(x=!0,o.reject(g,B))}function T(B){x||(x=!0,o.resolve(g,B))}var q=k(function(){_(T,A)});q.status==="error"&&A(q.value)}function k(g,_){var x={};try{x.value=g(_),x.status="success"}catch(A){x.status="error",x.value=A}return x}(n.exports=m).prototype.finally=function(g){if(typeof g!="function")return this;var _=this.constructor;return this.then(function(x){return _.resolve(g()).then(function(){return x})},function(x){return _.resolve(g()).then(function(){throw x})})},m.prototype.catch=function(g){return this.then(null,g)},m.prototype.then=function(g,_){if(typeof g!="function"&&this.state===u||typeof _!="function"&&this.state===l)return this;var x=new this.constructor(a);return this.state!==d?h(x,this.state===u?g:_,this.outcome):this.queue.push(new v(x,g,_)),x},v.prototype.callFulfilled=function(g){o.resolve(this.promise,g)},v.prototype.otherCallFulfilled=function(g){h(this.promise,this.onFulfilled,g)},v.prototype.callRejected=function(g){o.reject(this.promise,g)},v.prototype.otherCallRejected=function(g){h(this.promise,this.onRejected,g)},o.resolve=function(g,_){var x=k(b,_);if(x.status==="error")return o.reject(g,x.value);var A=x.value;if(A)y(g,A);else{g.state=u,g.outcome=_;for(var T=-1,q=g.queue.length;++T<q;)g.queue[T].callFulfilled(_)}return g},o.reject=function(g,_){g.state=l,g.outcome=_;for(var x=-1,A=g.queue.length;++x<A;)g.queue[x].callRejected(_);return g},m.resolve=function(g){return g instanceof this?g:o.resolve(new this(a),g)},m.reject=function(g){var _=new this(a);return o.reject(_,g)},m.all=function(g){var _=this;if(Object.prototype.toString.call(g)!=="[object Array]")return this.reject(new TypeError("must be an array"));var x=g.length,A=!1;if(!x)return this.resolve([]);for(var T=new Array(x),q=0,B=-1,D=new this(a);++B<x;)P(g[B],B);return D;function P(G,I){_.resolve(G).then(function(L){T[I]=L,++q!==x||A||(A=!0,o.resolve(D,T))},function(L){A||(A=!0,o.reject(D,L))})}},m.race=function(g){var _=this;if(Object.prototype.toString.call(g)!=="[object Array]")return this.reject(new TypeError("must be an array"));var x=g.length,A=!1;if(!x)return this.resolve([]);for(var T=-1,q=new this(a);++T<x;)B=g[T],_.resolve(B).then(function(D){A||(A=!0,o.resolve(q,D))},function(D){A||(A=!0,o.reject(q,D))});var B;return q}},{immediate:36}],38:[function(r,n,i){var s={};(0,r("./lib/utils/common").assign)(s,r("./lib/deflate"),r("./lib/inflate"),r("./lib/zlib/constants")),n.exports=s},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(r,n,i){var s=r("./zlib/deflate"),a=r("./utils/common"),o=r("./utils/strings"),l=r("./zlib/messages"),u=r("./zlib/zstream"),d=Object.prototype.toString,m=0,v=-1,h=0,b=8;function y(g){if(!(this instanceof y))return new y(g);this.options=a.assign({level:v,method:b,chunkSize:16384,windowBits:15,memLevel:8,strategy:h,to:""},g||{});var _=this.options;_.raw&&0<_.windowBits?_.windowBits=-_.windowBits:_.gzip&&0<_.windowBits&&_.windowBits<16&&(_.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var x=s.deflateInit2(this.strm,_.level,_.method,_.windowBits,_.memLevel,_.strategy);if(x!==m)throw new Error(l[x]);if(_.header&&s.deflateSetHeader(this.strm,_.header),_.dictionary){var A;if(A=typeof _.dictionary=="string"?o.string2buf(_.dictionary):d.call(_.dictionary)==="[object ArrayBuffer]"?new Uint8Array(_.dictionary):_.dictionary,(x=s.deflateSetDictionary(this.strm,A))!==m)throw new Error(l[x]);this._dict_set=!0}}function k(g,_){var x=new y(_);if(x.push(g,!0),x.err)throw x.msg||l[x.err];return x.result}y.prototype.push=function(g,_){var x,A,T=this.strm,q=this.options.chunkSize;if(this.ended)return!1;A=_===~~_?_:_===!0?4:0,typeof g=="string"?T.input=o.string2buf(g):d.call(g)==="[object ArrayBuffer]"?T.input=new Uint8Array(g):T.input=g,T.next_in=0,T.avail_in=T.input.length;do{if(T.avail_out===0&&(T.output=new a.Buf8(q),T.next_out=0,T.avail_out=q),(x=s.deflate(T,A))!==1&&x!==m)return this.onEnd(x),!(this.ended=!0);T.avail_out!==0&&(T.avail_in!==0||A!==4&&A!==2)||(this.options.to==="string"?this.onData(o.buf2binstring(a.shrinkBuf(T.output,T.next_out))):this.onData(a.shrinkBuf(T.output,T.next_out)))}while((0<T.avail_in||T.avail_out===0)&&x!==1);return A===4?(x=s.deflateEnd(this.strm),this.onEnd(x),this.ended=!0,x===m):A!==2||(this.onEnd(m),!(T.avail_out=0))},y.prototype.onData=function(g){this.chunks.push(g)},y.prototype.onEnd=function(g){g===m&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=g,this.msg=this.strm.msg},i.Deflate=y,i.deflate=k,i.deflateRaw=function(g,_){return(_=_||{}).raw=!0,k(g,_)},i.gzip=function(g,_){return(_=_||{}).gzip=!0,k(g,_)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(r,n,i){var s=r("./zlib/inflate"),a=r("./utils/common"),o=r("./utils/strings"),l=r("./zlib/constants"),u=r("./zlib/messages"),d=r("./zlib/zstream"),m=r("./zlib/gzheader"),v=Object.prototype.toString;function h(y){if(!(this instanceof h))return new h(y);this.options=a.assign({chunkSize:16384,windowBits:0,to:""},y||{});var k=this.options;k.raw&&0<=k.windowBits&&k.windowBits<16&&(k.windowBits=-k.windowBits,k.windowBits===0&&(k.windowBits=-15)),!(0<=k.windowBits&&k.windowBits<16)||y&&y.windowBits||(k.windowBits+=32),15<k.windowBits&&k.windowBits<48&&!(15&k.windowBits)&&(k.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var g=s.inflateInit2(this.strm,k.windowBits);if(g!==l.Z_OK)throw new Error(u[g]);this.header=new m,s.inflateGetHeader(this.strm,this.header)}function b(y,k){var g=new h(k);if(g.push(y,!0),g.err)throw g.msg||u[g.err];return g.result}h.prototype.push=function(y,k){var g,_,x,A,T,q,B=this.strm,D=this.options.chunkSize,P=this.options.dictionary,G=!1;if(this.ended)return!1;_=k===~~k?k:k===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof y=="string"?B.input=o.binstring2buf(y):v.call(y)==="[object ArrayBuffer]"?B.input=new Uint8Array(y):B.input=y,B.next_in=0,B.avail_in=B.input.length;do{if(B.avail_out===0&&(B.output=new a.Buf8(D),B.next_out=0,B.avail_out=D),(g=s.inflate(B,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&P&&(q=typeof P=="string"?o.string2buf(P):v.call(P)==="[object ArrayBuffer]"?new Uint8Array(P):P,g=s.inflateSetDictionary(this.strm,q)),g===l.Z_BUF_ERROR&&G===!0&&(g=l.Z_OK,G=!1),g!==l.Z_STREAM_END&&g!==l.Z_OK)return this.onEnd(g),!(this.ended=!0);B.next_out&&(B.avail_out!==0&&g!==l.Z_STREAM_END&&(B.avail_in!==0||_!==l.Z_FINISH&&_!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(x=o.utf8border(B.output,B.next_out),A=B.next_out-x,T=o.buf2string(B.output,x),B.next_out=A,B.avail_out=D-A,A&&a.arraySet(B.output,B.output,x,A,0),this.onData(T)):this.onData(a.shrinkBuf(B.output,B.next_out)))),B.avail_in===0&&B.avail_out===0&&(G=!0)}while((0<B.avail_in||B.avail_out===0)&&g!==l.Z_STREAM_END);return g===l.Z_STREAM_END&&(_=l.Z_FINISH),_===l.Z_FINISH?(g=s.inflateEnd(this.strm),this.onEnd(g),this.ended=!0,g===l.Z_OK):_!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(B.avail_out=0))},h.prototype.onData=function(y){this.chunks.push(y)},h.prototype.onEnd=function(y){y===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=y,this.msg=this.strm.msg},i.Inflate=h,i.inflate=b,i.inflateRaw=function(y,k){return(k=k||{}).raw=!0,b(y,k)},i.ungzip=b},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(r,n,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(l){for(var u=Array.prototype.slice.call(arguments,1);u.length;){var d=u.shift();if(d){if(typeof d!="object")throw new TypeError(d+"must be non-object");for(var m in d)d.hasOwnProperty(m)&&(l[m]=d[m])}}return l},i.shrinkBuf=function(l,u){return l.length===u?l:l.subarray?l.subarray(0,u):(l.length=u,l)};var a={arraySet:function(l,u,d,m,v){if(u.subarray&&l.subarray)l.set(u.subarray(d,d+m),v);else for(var h=0;h<m;h++)l[v+h]=u[d+h]},flattenChunks:function(l){var u,d,m,v,h,b;for(u=m=0,d=l.length;u<d;u++)m+=l[u].length;for(b=new Uint8Array(m),u=v=0,d=l.length;u<d;u++)h=l[u],b.set(h,v),v+=h.length;return b}},o={arraySet:function(l,u,d,m,v){for(var h=0;h<m;h++)l[v+h]=u[d+h]},flattenChunks:function(l){return[].concat.apply([],l)}};i.setTyped=function(l){l?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,a)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,o))},i.setTyped(s)},{}],42:[function(r,n,i){var s=r("./common"),a=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch{a=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{o=!1}for(var l=new s.Buf8(256),u=0;u<256;u++)l[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;function d(m,v){if(v<65537&&(m.subarray&&o||!m.subarray&&a))return String.fromCharCode.apply(null,s.shrinkBuf(m,v));for(var h="",b=0;b<v;b++)h+=String.fromCharCode(m[b]);return h}l[254]=l[254]=1,i.string2buf=function(m){var v,h,b,y,k,g=m.length,_=0;for(y=0;y<g;y++)(64512&(h=m.charCodeAt(y)))==55296&&y+1<g&&(64512&(b=m.charCodeAt(y+1)))==56320&&(h=65536+(h-55296<<10)+(b-56320),y++),_+=h<128?1:h<2048?2:h<65536?3:4;for(v=new s.Buf8(_),y=k=0;k<_;y++)(64512&(h=m.charCodeAt(y)))==55296&&y+1<g&&(64512&(b=m.charCodeAt(y+1)))==56320&&(h=65536+(h-55296<<10)+(b-56320),y++),h<128?v[k++]=h:(h<2048?v[k++]=192|h>>>6:(h<65536?v[k++]=224|h>>>12:(v[k++]=240|h>>>18,v[k++]=128|h>>>12&63),v[k++]=128|h>>>6&63),v[k++]=128|63&h);return v},i.buf2binstring=function(m){return d(m,m.length)},i.binstring2buf=function(m){for(var v=new s.Buf8(m.length),h=0,b=v.length;h<b;h++)v[h]=m.charCodeAt(h);return v},i.buf2string=function(m,v){var h,b,y,k,g=v||m.length,_=new Array(2*g);for(h=b=0;h<g;)if((y=m[h++])<128)_[b++]=y;else if(4<(k=l[y]))_[b++]=65533,h+=k-1;else{for(y&=k===2?31:k===3?15:7;1<k&&h<g;)y=y<<6|63&m[h++],k--;1<k?_[b++]=65533:y<65536?_[b++]=y:(y-=65536,_[b++]=55296|y>>10&1023,_[b++]=56320|1023&y)}return d(_,b)},i.utf8border=function(m,v){var h;for((v=v||m.length)>m.length&&(v=m.length),h=v-1;0<=h&&(192&m[h])==128;)h--;return h<0||h===0?v:h+l[m[h]]>v?h:v}},{"./common":41}],43:[function(r,n,i){n.exports=function(s,a,o,l){for(var u=65535&s|0,d=s>>>16&65535|0,m=0;o!==0;){for(o-=m=2e3<o?2e3:o;d=d+(u=u+a[l++]|0)|0,--m;);u%=65521,d%=65521}return u|d<<16|0}},{}],44:[function(r,n,i){n.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(r,n,i){var s=function(){for(var a,o=[],l=0;l<256;l++){a=l;for(var u=0;u<8;u++)a=1&a?3988292384^a>>>1:a>>>1;o[l]=a}return o}();n.exports=function(a,o,l,u){var d=s,m=u+l;a^=-1;for(var v=u;v<m;v++)a=a>>>8^d[255&(a^o[v])];return-1^a}},{}],46:[function(r,n,i){var s,a=r("../utils/common"),o=r("./trees"),l=r("./adler32"),u=r("./crc32"),d=r("./messages"),m=0,v=4,h=0,b=-2,y=-1,k=4,g=2,_=8,x=9,A=286,T=30,q=19,B=2*A+1,D=15,P=3,G=258,I=G+P+1,L=42,M=113,N=1,Q=2,fe=3,se=4;function ie(C,z){return C.msg=d[z],z}function K(C){return(C<<1)-(4<C?9:0)}function ue(C){for(var z=C.length;0<=--z;)C[z]=0}function Y(C){var z=C.state,le=z.pending;le>C.avail_out&&(le=C.avail_out),le!==0&&(a.arraySet(C.output,z.pending_buf,z.pending_out,le,C.next_out),C.next_out+=le,z.pending_out+=le,C.total_out+=le,C.avail_out-=le,z.pending-=le,z.pending===0&&(z.pending_out=0))}function E(C,z){o._tr_flush_block(C,0<=C.block_start?C.block_start:-1,C.strstart-C.block_start,z),C.block_start=C.strstart,Y(C.strm)}function $(C,z){C.pending_buf[C.pending++]=z}function V(C,z){C.pending_buf[C.pending++]=z>>>8&255,C.pending_buf[C.pending++]=255&z}function Z(C,z){var le,X,H=C.max_chain_length,ee=C.strstart,ke=C.prev_length,_e=C.nice_match,he=C.strstart>C.w_size-I?C.strstart-(C.w_size-I):0,Ne=C.window,Re=C.w_mask,Le=C.prev,Fe=C.strstart+G,Je=Ne[ee+ke-1],qe=Ne[ee+ke];C.prev_length>=C.good_match&&(H>>=2),_e>C.lookahead&&(_e=C.lookahead);do if(Ne[(le=z)+ke]===qe&&Ne[le+ke-1]===Je&&Ne[le]===Ne[ee]&&Ne[++le]===Ne[ee+1]){ee+=2,le++;do;while(Ne[++ee]===Ne[++le]&&Ne[++ee]===Ne[++le]&&Ne[++ee]===Ne[++le]&&Ne[++ee]===Ne[++le]&&Ne[++ee]===Ne[++le]&&Ne[++ee]===Ne[++le]&&Ne[++ee]===Ne[++le]&&Ne[++ee]===Ne[++le]&&ee<Fe);if(X=G-(Fe-ee),ee=Fe-G,ke<X){if(C.match_start=z,_e<=(ke=X))break;Je=Ne[ee+ke-1],qe=Ne[ee+ke]}}while((z=Le[z&Re])>he&&--H!=0);return ke<=C.lookahead?ke:C.lookahead}function oe(C){var z,le,X,H,ee,ke,_e,he,Ne,Re,Le=C.w_size;do{if(H=C.window_size-C.lookahead-C.strstart,C.strstart>=Le+(Le-I)){for(a.arraySet(C.window,C.window,Le,Le,0),C.match_start-=Le,C.strstart-=Le,C.block_start-=Le,z=le=C.hash_size;X=C.head[--z],C.head[z]=Le<=X?X-Le:0,--le;);for(z=le=Le;X=C.prev[--z],C.prev[z]=Le<=X?X-Le:0,--le;);H+=Le}if(C.strm.avail_in===0)break;if(ke=C.strm,_e=C.window,he=C.strstart+C.lookahead,Ne=H,Re=void 0,Re=ke.avail_in,Ne<Re&&(Re=Ne),le=Re===0?0:(ke.avail_in-=Re,a.arraySet(_e,ke.input,ke.next_in,Re,he),ke.state.wrap===1?ke.adler=l(ke.adler,_e,Re,he):ke.state.wrap===2&&(ke.adler=u(ke.adler,_e,Re,he)),ke.next_in+=Re,ke.total_in+=Re,Re),C.lookahead+=le,C.lookahead+C.insert>=P)for(ee=C.strstart-C.insert,C.ins_h=C.window[ee],C.ins_h=(C.ins_h<<C.hash_shift^C.window[ee+1])&C.hash_mask;C.insert&&(C.ins_h=(C.ins_h<<C.hash_shift^C.window[ee+P-1])&C.hash_mask,C.prev[ee&C.w_mask]=C.head[C.ins_h],C.head[C.ins_h]=ee,ee++,C.insert--,!(C.lookahead+C.insert<P)););}while(C.lookahead<I&&C.strm.avail_in!==0)}function me(C,z){for(var le,X;;){if(C.lookahead<I){if(oe(C),C.lookahead<I&&z===m)return N;if(C.lookahead===0)break}if(le=0,C.lookahead>=P&&(C.ins_h=(C.ins_h<<C.hash_shift^C.window[C.strstart+P-1])&C.hash_mask,le=C.prev[C.strstart&C.w_mask]=C.head[C.ins_h],C.head[C.ins_h]=C.strstart),le!==0&&C.strstart-le<=C.w_size-I&&(C.match_length=Z(C,le)),C.match_length>=P)if(X=o._tr_tally(C,C.strstart-C.match_start,C.match_length-P),C.lookahead-=C.match_length,C.match_length<=C.max_lazy_match&&C.lookahead>=P){for(C.match_length--;C.strstart++,C.ins_h=(C.ins_h<<C.hash_shift^C.window[C.strstart+P-1])&C.hash_mask,le=C.prev[C.strstart&C.w_mask]=C.head[C.ins_h],C.head[C.ins_h]=C.strstart,--C.match_length!=0;);C.strstart++}else C.strstart+=C.match_length,C.match_length=0,C.ins_h=C.window[C.strstart],C.ins_h=(C.ins_h<<C.hash_shift^C.window[C.strstart+1])&C.hash_mask;else X=o._tr_tally(C,0,C.window[C.strstart]),C.lookahead--,C.strstart++;if(X&&(E(C,!1),C.strm.avail_out===0))return N}return C.insert=C.strstart<P-1?C.strstart:P-1,z===v?(E(C,!0),C.strm.avail_out===0?fe:se):C.last_lit&&(E(C,!1),C.strm.avail_out===0)?N:Q}function ve(C,z){for(var le,X,H;;){if(C.lookahead<I){if(oe(C),C.lookahead<I&&z===m)return N;if(C.lookahead===0)break}if(le=0,C.lookahead>=P&&(C.ins_h=(C.ins_h<<C.hash_shift^C.window[C.strstart+P-1])&C.hash_mask,le=C.prev[C.strstart&C.w_mask]=C.head[C.ins_h],C.head[C.ins_h]=C.strstart),C.prev_length=C.match_length,C.prev_match=C.match_start,C.match_length=P-1,le!==0&&C.prev_length<C.max_lazy_match&&C.strstart-le<=C.w_size-I&&(C.match_length=Z(C,le),C.match_length<=5&&(C.strategy===1||C.match_length===P&&4096<C.strstart-C.match_start)&&(C.match_length=P-1)),C.prev_length>=P&&C.match_length<=C.prev_length){for(H=C.strstart+C.lookahead-P,X=o._tr_tally(C,C.strstart-1-C.prev_match,C.prev_length-P),C.lookahead-=C.prev_length-1,C.prev_length-=2;++C.strstart<=H&&(C.ins_h=(C.ins_h<<C.hash_shift^C.window[C.strstart+P-1])&C.hash_mask,le=C.prev[C.strstart&C.w_mask]=C.head[C.ins_h],C.head[C.ins_h]=C.strstart),--C.prev_length!=0;);if(C.match_available=0,C.match_length=P-1,C.strstart++,X&&(E(C,!1),C.strm.avail_out===0))return N}else if(C.match_available){if((X=o._tr_tally(C,0,C.window[C.strstart-1]))&&E(C,!1),C.strstart++,C.lookahead--,C.strm.avail_out===0)return N}else C.match_available=1,C.strstart++,C.lookahead--}return C.match_available&&(X=o._tr_tally(C,0,C.window[C.strstart-1]),C.match_available=0),C.insert=C.strstart<P-1?C.strstart:P-1,z===v?(E(C,!0),C.strm.avail_out===0?fe:se):C.last_lit&&(E(C,!1),C.strm.avail_out===0)?N:Q}function we(C,z,le,X,H){this.good_length=C,this.max_lazy=z,this.nice_length=le,this.max_chain=X,this.func=H}function Ae(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=_,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new a.Buf16(2*B),this.dyn_dtree=new a.Buf16(2*(2*T+1)),this.bl_tree=new a.Buf16(2*(2*q+1)),ue(this.dyn_ltree),ue(this.dyn_dtree),ue(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new a.Buf16(D+1),this.heap=new a.Buf16(2*A+1),ue(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new a.Buf16(2*A+1),ue(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Te(C){var z;return C&&C.state?(C.total_in=C.total_out=0,C.data_type=g,(z=C.state).pending=0,z.pending_out=0,z.wrap<0&&(z.wrap=-z.wrap),z.status=z.wrap?L:M,C.adler=z.wrap===2?0:1,z.last_flush=m,o._tr_init(z),h):ie(C,b)}function ce(C){var z=Te(C);return z===h&&function(le){le.window_size=2*le.w_size,ue(le.head),le.max_lazy_match=s[le.level].max_lazy,le.good_match=s[le.level].good_length,le.nice_match=s[le.level].nice_length,le.max_chain_length=s[le.level].max_chain,le.strstart=0,le.block_start=0,le.lookahead=0,le.insert=0,le.match_length=le.prev_length=P-1,le.match_available=0,le.ins_h=0}(C.state),z}function Se(C,z,le,X,H,ee){if(!C)return b;var ke=1;if(z===y&&(z=6),X<0?(ke=0,X=-X):15<X&&(ke=2,X-=16),H<1||x<H||le!==_||X<8||15<X||z<0||9<z||ee<0||k<ee)return ie(C,b);X===8&&(X=9);var _e=new Ae;return(C.state=_e).strm=C,_e.wrap=ke,_e.gzhead=null,_e.w_bits=X,_e.w_size=1<<_e.w_bits,_e.w_mask=_e.w_size-1,_e.hash_bits=H+7,_e.hash_size=1<<_e.hash_bits,_e.hash_mask=_e.hash_size-1,_e.hash_shift=~~((_e.hash_bits+P-1)/P),_e.window=new a.Buf8(2*_e.w_size),_e.head=new a.Buf16(_e.hash_size),_e.prev=new a.Buf16(_e.w_size),_e.lit_bufsize=1<<H+6,_e.pending_buf_size=4*_e.lit_bufsize,_e.pending_buf=new a.Buf8(_e.pending_buf_size),_e.d_buf=1*_e.lit_bufsize,_e.l_buf=3*_e.lit_bufsize,_e.level=z,_e.strategy=ee,_e.method=le,ce(C)}s=[new we(0,0,0,0,function(C,z){var le=65535;for(le>C.pending_buf_size-5&&(le=C.pending_buf_size-5);;){if(C.lookahead<=1){if(oe(C),C.lookahead===0&&z===m)return N;if(C.lookahead===0)break}C.strstart+=C.lookahead,C.lookahead=0;var X=C.block_start+le;if((C.strstart===0||C.strstart>=X)&&(C.lookahead=C.strstart-X,C.strstart=X,E(C,!1),C.strm.avail_out===0)||C.strstart-C.block_start>=C.w_size-I&&(E(C,!1),C.strm.avail_out===0))return N}return C.insert=0,z===v?(E(C,!0),C.strm.avail_out===0?fe:se):(C.strstart>C.block_start&&(E(C,!1),C.strm.avail_out),N)}),new we(4,4,8,4,me),new we(4,5,16,8,me),new we(4,6,32,32,me),new we(4,4,16,16,ve),new we(8,16,32,32,ve),new we(8,16,128,128,ve),new we(8,32,128,256,ve),new we(32,128,258,1024,ve),new we(32,258,258,4096,ve)],i.deflateInit=function(C,z){return Se(C,z,_,15,8,0)},i.deflateInit2=Se,i.deflateReset=ce,i.deflateResetKeep=Te,i.deflateSetHeader=function(C,z){return C&&C.state?C.state.wrap!==2?b:(C.state.gzhead=z,h):b},i.deflate=function(C,z){var le,X,H,ee;if(!C||!C.state||5<z||z<0)return C?ie(C,b):b;if(X=C.state,!C.output||!C.input&&C.avail_in!==0||X.status===666&&z!==v)return ie(C,C.avail_out===0?-5:b);if(X.strm=C,le=X.last_flush,X.last_flush=z,X.status===L)if(X.wrap===2)C.adler=0,$(X,31),$(X,139),$(X,8),X.gzhead?($(X,(X.gzhead.text?1:0)+(X.gzhead.hcrc?2:0)+(X.gzhead.extra?4:0)+(X.gzhead.name?8:0)+(X.gzhead.comment?16:0)),$(X,255&X.gzhead.time),$(X,X.gzhead.time>>8&255),$(X,X.gzhead.time>>16&255),$(X,X.gzhead.time>>24&255),$(X,X.level===9?2:2<=X.strategy||X.level<2?4:0),$(X,255&X.gzhead.os),X.gzhead.extra&&X.gzhead.extra.length&&($(X,255&X.gzhead.extra.length),$(X,X.gzhead.extra.length>>8&255)),X.gzhead.hcrc&&(C.adler=u(C.adler,X.pending_buf,X.pending,0)),X.gzindex=0,X.status=69):($(X,0),$(X,0),$(X,0),$(X,0),$(X,0),$(X,X.level===9?2:2<=X.strategy||X.level<2?4:0),$(X,3),X.status=M);else{var ke=_+(X.w_bits-8<<4)<<8;ke|=(2<=X.strategy||X.level<2?0:X.level<6?1:X.level===6?2:3)<<6,X.strstart!==0&&(ke|=32),ke+=31-ke%31,X.status=M,V(X,ke),X.strstart!==0&&(V(X,C.adler>>>16),V(X,65535&C.adler)),C.adler=1}if(X.status===69)if(X.gzhead.extra){for(H=X.pending;X.gzindex<(65535&X.gzhead.extra.length)&&(X.pending!==X.pending_buf_size||(X.gzhead.hcrc&&X.pending>H&&(C.adler=u(C.adler,X.pending_buf,X.pending-H,H)),Y(C),H=X.pending,X.pending!==X.pending_buf_size));)$(X,255&X.gzhead.extra[X.gzindex]),X.gzindex++;X.gzhead.hcrc&&X.pending>H&&(C.adler=u(C.adler,X.pending_buf,X.pending-H,H)),X.gzindex===X.gzhead.extra.length&&(X.gzindex=0,X.status=73)}else X.status=73;if(X.status===73)if(X.gzhead.name){H=X.pending;do{if(X.pending===X.pending_buf_size&&(X.gzhead.hcrc&&X.pending>H&&(C.adler=u(C.adler,X.pending_buf,X.pending-H,H)),Y(C),H=X.pending,X.pending===X.pending_buf_size)){ee=1;break}ee=X.gzindex<X.gzhead.name.length?255&X.gzhead.name.charCodeAt(X.gzindex++):0,$(X,ee)}while(ee!==0);X.gzhead.hcrc&&X.pending>H&&(C.adler=u(C.adler,X.pending_buf,X.pending-H,H)),ee===0&&(X.gzindex=0,X.status=91)}else X.status=91;if(X.status===91)if(X.gzhead.comment){H=X.pending;do{if(X.pending===X.pending_buf_size&&(X.gzhead.hcrc&&X.pending>H&&(C.adler=u(C.adler,X.pending_buf,X.pending-H,H)),Y(C),H=X.pending,X.pending===X.pending_buf_size)){ee=1;break}ee=X.gzindex<X.gzhead.comment.length?255&X.gzhead.comment.charCodeAt(X.gzindex++):0,$(X,ee)}while(ee!==0);X.gzhead.hcrc&&X.pending>H&&(C.adler=u(C.adler,X.pending_buf,X.pending-H,H)),ee===0&&(X.status=103)}else X.status=103;if(X.status===103&&(X.gzhead.hcrc?(X.pending+2>X.pending_buf_size&&Y(C),X.pending+2<=X.pending_buf_size&&($(X,255&C.adler),$(X,C.adler>>8&255),C.adler=0,X.status=M)):X.status=M),X.pending!==0){if(Y(C),C.avail_out===0)return X.last_flush=-1,h}else if(C.avail_in===0&&K(z)<=K(le)&&z!==v)return ie(C,-5);if(X.status===666&&C.avail_in!==0)return ie(C,-5);if(C.avail_in!==0||X.lookahead!==0||z!==m&&X.status!==666){var _e=X.strategy===2?function(he,Ne){for(var Re;;){if(he.lookahead===0&&(oe(he),he.lookahead===0)){if(Ne===m)return N;break}if(he.match_length=0,Re=o._tr_tally(he,0,he.window[he.strstart]),he.lookahead--,he.strstart++,Re&&(E(he,!1),he.strm.avail_out===0))return N}return he.insert=0,Ne===v?(E(he,!0),he.strm.avail_out===0?fe:se):he.last_lit&&(E(he,!1),he.strm.avail_out===0)?N:Q}(X,z):X.strategy===3?function(he,Ne){for(var Re,Le,Fe,Je,qe=he.window;;){if(he.lookahead<=G){if(oe(he),he.lookahead<=G&&Ne===m)return N;if(he.lookahead===0)break}if(he.match_length=0,he.lookahead>=P&&0<he.strstart&&(Le=qe[Fe=he.strstart-1])===qe[++Fe]&&Le===qe[++Fe]&&Le===qe[++Fe]){Je=he.strstart+G;do;while(Le===qe[++Fe]&&Le===qe[++Fe]&&Le===qe[++Fe]&&Le===qe[++Fe]&&Le===qe[++Fe]&&Le===qe[++Fe]&&Le===qe[++Fe]&&Le===qe[++Fe]&&Fe<Je);he.match_length=G-(Je-Fe),he.match_length>he.lookahead&&(he.match_length=he.lookahead)}if(he.match_length>=P?(Re=o._tr_tally(he,1,he.match_length-P),he.lookahead-=he.match_length,he.strstart+=he.match_length,he.match_length=0):(Re=o._tr_tally(he,0,he.window[he.strstart]),he.lookahead--,he.strstart++),Re&&(E(he,!1),he.strm.avail_out===0))return N}return he.insert=0,Ne===v?(E(he,!0),he.strm.avail_out===0?fe:se):he.last_lit&&(E(he,!1),he.strm.avail_out===0)?N:Q}(X,z):s[X.level].func(X,z);if(_e!==fe&&_e!==se||(X.status=666),_e===N||_e===fe)return C.avail_out===0&&(X.last_flush=-1),h;if(_e===Q&&(z===1?o._tr_align(X):z!==5&&(o._tr_stored_block(X,0,0,!1),z===3&&(ue(X.head),X.lookahead===0&&(X.strstart=0,X.block_start=0,X.insert=0))),Y(C),C.avail_out===0))return X.last_flush=-1,h}return z!==v?h:X.wrap<=0?1:(X.wrap===2?($(X,255&C.adler),$(X,C.adler>>8&255),$(X,C.adler>>16&255),$(X,C.adler>>24&255),$(X,255&C.total_in),$(X,C.total_in>>8&255),$(X,C.total_in>>16&255),$(X,C.total_in>>24&255)):(V(X,C.adler>>>16),V(X,65535&C.adler)),Y(C),0<X.wrap&&(X.wrap=-X.wrap),X.pending!==0?h:1)},i.deflateEnd=function(C){var z;return C&&C.state?(z=C.state.status)!==L&&z!==69&&z!==73&&z!==91&&z!==103&&z!==M&&z!==666?ie(C,b):(C.state=null,z===M?ie(C,-3):h):b},i.deflateSetDictionary=function(C,z){var le,X,H,ee,ke,_e,he,Ne,Re=z.length;if(!C||!C.state||(ee=(le=C.state).wrap)===2||ee===1&&le.status!==L||le.lookahead)return b;for(ee===1&&(C.adler=l(C.adler,z,Re,0)),le.wrap=0,Re>=le.w_size&&(ee===0&&(ue(le.head),le.strstart=0,le.block_start=0,le.insert=0),Ne=new a.Buf8(le.w_size),a.arraySet(Ne,z,Re-le.w_size,le.w_size,0),z=Ne,Re=le.w_size),ke=C.avail_in,_e=C.next_in,he=C.input,C.avail_in=Re,C.next_in=0,C.input=z,oe(le);le.lookahead>=P;){for(X=le.strstart,H=le.lookahead-(P-1);le.ins_h=(le.ins_h<<le.hash_shift^le.window[X+P-1])&le.hash_mask,le.prev[X&le.w_mask]=le.head[le.ins_h],le.head[le.ins_h]=X,X++,--H;);le.strstart=X,le.lookahead=P-1,oe(le)}return le.strstart+=le.lookahead,le.block_start=le.strstart,le.insert=le.lookahead,le.lookahead=0,le.match_length=le.prev_length=P-1,le.match_available=0,C.next_in=_e,C.input=he,C.avail_in=ke,le.wrap=ee,h},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(r,n,i){n.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(r,n,i){n.exports=function(s,a){var o,l,u,d,m,v,h,b,y,k,g,_,x,A,T,q,B,D,P,G,I,L,M,N,Q;o=s.state,l=s.next_in,N=s.input,u=l+(s.avail_in-5),d=s.next_out,Q=s.output,m=d-(a-s.avail_out),v=d+(s.avail_out-257),h=o.dmax,b=o.wsize,y=o.whave,k=o.wnext,g=o.window,_=o.hold,x=o.bits,A=o.lencode,T=o.distcode,q=(1<<o.lenbits)-1,B=(1<<o.distbits)-1;e:do{x<15&&(_+=N[l++]<<x,x+=8,_+=N[l++]<<x,x+=8),D=A[_&q];t:for(;;){if(_>>>=P=D>>>24,x-=P,(P=D>>>16&255)===0)Q[d++]=65535&D;else{if(!(16&P)){if(!(64&P)){D=A[(65535&D)+(_&(1<<P)-1)];continue t}if(32&P){o.mode=12;break e}s.msg="invalid literal/length code",o.mode=30;break e}G=65535&D,(P&=15)&&(x<P&&(_+=N[l++]<<x,x+=8),G+=_&(1<<P)-1,_>>>=P,x-=P),x<15&&(_+=N[l++]<<x,x+=8,_+=N[l++]<<x,x+=8),D=T[_&B];r:for(;;){if(_>>>=P=D>>>24,x-=P,!(16&(P=D>>>16&255))){if(!(64&P)){D=T[(65535&D)+(_&(1<<P)-1)];continue r}s.msg="invalid distance code",o.mode=30;break e}if(I=65535&D,x<(P&=15)&&(_+=N[l++]<<x,(x+=8)<P&&(_+=N[l++]<<x,x+=8)),h<(I+=_&(1<<P)-1)){s.msg="invalid distance too far back",o.mode=30;break e}if(_>>>=P,x-=P,(P=d-m)<I){if(y<(P=I-P)&&o.sane){s.msg="invalid distance too far back",o.mode=30;break e}if(M=g,(L=0)===k){if(L+=b-P,P<G){for(G-=P;Q[d++]=g[L++],--P;);L=d-I,M=Q}}else if(k<P){if(L+=b+k-P,(P-=k)<G){for(G-=P;Q[d++]=g[L++],--P;);if(L=0,k<G){for(G-=P=k;Q[d++]=g[L++],--P;);L=d-I,M=Q}}}else if(L+=k-P,P<G){for(G-=P;Q[d++]=g[L++],--P;);L=d-I,M=Q}for(;2<G;)Q[d++]=M[L++],Q[d++]=M[L++],Q[d++]=M[L++],G-=3;G&&(Q[d++]=M[L++],1<G&&(Q[d++]=M[L++]))}else{for(L=d-I;Q[d++]=Q[L++],Q[d++]=Q[L++],Q[d++]=Q[L++],2<(G-=3););G&&(Q[d++]=Q[L++],1<G&&(Q[d++]=Q[L++]))}break}}break}}while(l<u&&d<v);l-=G=x>>3,_&=(1<<(x-=G<<3))-1,s.next_in=l,s.next_out=d,s.avail_in=l<u?u-l+5:5-(l-u),s.avail_out=d<v?v-d+257:257-(d-v),o.hold=_,o.bits=x}},{}],49:[function(r,n,i){var s=r("../utils/common"),a=r("./adler32"),o=r("./crc32"),l=r("./inffast"),u=r("./inftrees"),d=1,m=2,v=0,h=-2,b=1,y=852,k=592;function g(L){return(L>>>24&255)+(L>>>8&65280)+((65280&L)<<8)+((255&L)<<24)}function _(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new s.Buf16(320),this.work=new s.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function x(L){var M;return L&&L.state?(M=L.state,L.total_in=L.total_out=M.total=0,L.msg="",M.wrap&&(L.adler=1&M.wrap),M.mode=b,M.last=0,M.havedict=0,M.dmax=32768,M.head=null,M.hold=0,M.bits=0,M.lencode=M.lendyn=new s.Buf32(y),M.distcode=M.distdyn=new s.Buf32(k),M.sane=1,M.back=-1,v):h}function A(L){var M;return L&&L.state?((M=L.state).wsize=0,M.whave=0,M.wnext=0,x(L)):h}function T(L,M){var N,Q;return L&&L.state?(Q=L.state,M<0?(N=0,M=-M):(N=1+(M>>4),M<48&&(M&=15)),M&&(M<8||15<M)?h:(Q.window!==null&&Q.wbits!==M&&(Q.window=null),Q.wrap=N,Q.wbits=M,A(L))):h}function q(L,M){var N,Q;return L?(Q=new _,(L.state=Q).window=null,(N=T(L,M))!==v&&(L.state=null),N):h}var B,D,P=!0;function G(L){if(P){var M;for(B=new s.Buf32(512),D=new s.Buf32(32),M=0;M<144;)L.lens[M++]=8;for(;M<256;)L.lens[M++]=9;for(;M<280;)L.lens[M++]=7;for(;M<288;)L.lens[M++]=8;for(u(d,L.lens,0,288,B,0,L.work,{bits:9}),M=0;M<32;)L.lens[M++]=5;u(m,L.lens,0,32,D,0,L.work,{bits:5}),P=!1}L.lencode=B,L.lenbits=9,L.distcode=D,L.distbits=5}function I(L,M,N,Q){var fe,se=L.state;return se.window===null&&(se.wsize=1<<se.wbits,se.wnext=0,se.whave=0,se.window=new s.Buf8(se.wsize)),Q>=se.wsize?(s.arraySet(se.window,M,N-se.wsize,se.wsize,0),se.wnext=0,se.whave=se.wsize):(Q<(fe=se.wsize-se.wnext)&&(fe=Q),s.arraySet(se.window,M,N-Q,fe,se.wnext),(Q-=fe)?(s.arraySet(se.window,M,N-Q,Q,0),se.wnext=Q,se.whave=se.wsize):(se.wnext+=fe,se.wnext===se.wsize&&(se.wnext=0),se.whave<se.wsize&&(se.whave+=fe))),0}i.inflateReset=A,i.inflateReset2=T,i.inflateResetKeep=x,i.inflateInit=function(L){return q(L,15)},i.inflateInit2=q,i.inflate=function(L,M){var N,Q,fe,se,ie,K,ue,Y,E,$,V,Z,oe,me,ve,we,Ae,Te,ce,Se,C,z,le,X,H=0,ee=new s.Buf8(4),ke=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!L||!L.state||!L.output||!L.input&&L.avail_in!==0)return h;(N=L.state).mode===12&&(N.mode=13),ie=L.next_out,fe=L.output,ue=L.avail_out,se=L.next_in,Q=L.input,K=L.avail_in,Y=N.hold,E=N.bits,$=K,V=ue,z=v;e:for(;;)switch(N.mode){case b:if(N.wrap===0){N.mode=13;break}for(;E<16;){if(K===0)break e;K--,Y+=Q[se++]<<E,E+=8}if(2&N.wrap&&Y===35615){ee[N.check=0]=255&Y,ee[1]=Y>>>8&255,N.check=o(N.check,ee,2,0),E=Y=0,N.mode=2;break}if(N.flags=0,N.head&&(N.head.done=!1),!(1&N.wrap)||(((255&Y)<<8)+(Y>>8))%31){L.msg="incorrect header check",N.mode=30;break}if((15&Y)!=8){L.msg="unknown compression method",N.mode=30;break}if(E-=4,C=8+(15&(Y>>>=4)),N.wbits===0)N.wbits=C;else if(C>N.wbits){L.msg="invalid window size",N.mode=30;break}N.dmax=1<<C,L.adler=N.check=1,N.mode=512&Y?10:12,E=Y=0;break;case 2:for(;E<16;){if(K===0)break e;K--,Y+=Q[se++]<<E,E+=8}if(N.flags=Y,(255&N.flags)!=8){L.msg="unknown compression method",N.mode=30;break}if(57344&N.flags){L.msg="unknown header flags set",N.mode=30;break}N.head&&(N.head.text=Y>>8&1),512&N.flags&&(ee[0]=255&Y,ee[1]=Y>>>8&255,N.check=o(N.check,ee,2,0)),E=Y=0,N.mode=3;case 3:for(;E<32;){if(K===0)break e;K--,Y+=Q[se++]<<E,E+=8}N.head&&(N.head.time=Y),512&N.flags&&(ee[0]=255&Y,ee[1]=Y>>>8&255,ee[2]=Y>>>16&255,ee[3]=Y>>>24&255,N.check=o(N.check,ee,4,0)),E=Y=0,N.mode=4;case 4:for(;E<16;){if(K===0)break e;K--,Y+=Q[se++]<<E,E+=8}N.head&&(N.head.xflags=255&Y,N.head.os=Y>>8),512&N.flags&&(ee[0]=255&Y,ee[1]=Y>>>8&255,N.check=o(N.check,ee,2,0)),E=Y=0,N.mode=5;case 5:if(1024&N.flags){for(;E<16;){if(K===0)break e;K--,Y+=Q[se++]<<E,E+=8}N.length=Y,N.head&&(N.head.extra_len=Y),512&N.flags&&(ee[0]=255&Y,ee[1]=Y>>>8&255,N.check=o(N.check,ee,2,0)),E=Y=0}else N.head&&(N.head.extra=null);N.mode=6;case 6:if(1024&N.flags&&(K<(Z=N.length)&&(Z=K),Z&&(N.head&&(C=N.head.extra_len-N.length,N.head.extra||(N.head.extra=new Array(N.head.extra_len)),s.arraySet(N.head.extra,Q,se,Z,C)),512&N.flags&&(N.check=o(N.check,Q,Z,se)),K-=Z,se+=Z,N.length-=Z),N.length))break e;N.length=0,N.mode=7;case 7:if(2048&N.flags){if(K===0)break e;for(Z=0;C=Q[se+Z++],N.head&&C&&N.length<65536&&(N.head.name+=String.fromCharCode(C)),C&&Z<K;);if(512&N.flags&&(N.check=o(N.check,Q,Z,se)),K-=Z,se+=Z,C)break e}else N.head&&(N.head.name=null);N.length=0,N.mode=8;case 8:if(4096&N.flags){if(K===0)break e;for(Z=0;C=Q[se+Z++],N.head&&C&&N.length<65536&&(N.head.comment+=String.fromCharCode(C)),C&&Z<K;);if(512&N.flags&&(N.check=o(N.check,Q,Z,se)),K-=Z,se+=Z,C)break e}else N.head&&(N.head.comment=null);N.mode=9;case 9:if(512&N.flags){for(;E<16;){if(K===0)break e;K--,Y+=Q[se++]<<E,E+=8}if(Y!==(65535&N.check)){L.msg="header crc mismatch",N.mode=30;break}E=Y=0}N.head&&(N.head.hcrc=N.flags>>9&1,N.head.done=!0),L.adler=N.check=0,N.mode=12;break;case 10:for(;E<32;){if(K===0)break e;K--,Y+=Q[se++]<<E,E+=8}L.adler=N.check=g(Y),E=Y=0,N.mode=11;case 11:if(N.havedict===0)return L.next_out=ie,L.avail_out=ue,L.next_in=se,L.avail_in=K,N.hold=Y,N.bits=E,2;L.adler=N.check=1,N.mode=12;case 12:if(M===5||M===6)break e;case 13:if(N.last){Y>>>=7&E,E-=7&E,N.mode=27;break}for(;E<3;){if(K===0)break e;K--,Y+=Q[se++]<<E,E+=8}switch(N.last=1&Y,E-=1,3&(Y>>>=1)){case 0:N.mode=14;break;case 1:if(G(N),N.mode=20,M!==6)break;Y>>>=2,E-=2;break e;case 2:N.mode=17;break;case 3:L.msg="invalid block type",N.mode=30}Y>>>=2,E-=2;break;case 14:for(Y>>>=7&E,E-=7&E;E<32;){if(K===0)break e;K--,Y+=Q[se++]<<E,E+=8}if((65535&Y)!=(Y>>>16^65535)){L.msg="invalid stored block lengths",N.mode=30;break}if(N.length=65535&Y,E=Y=0,N.mode=15,M===6)break e;case 15:N.mode=16;case 16:if(Z=N.length){if(K<Z&&(Z=K),ue<Z&&(Z=ue),Z===0)break e;s.arraySet(fe,Q,se,Z,ie),K-=Z,se+=Z,ue-=Z,ie+=Z,N.length-=Z;break}N.mode=12;break;case 17:for(;E<14;){if(K===0)break e;K--,Y+=Q[se++]<<E,E+=8}if(N.nlen=257+(31&Y),Y>>>=5,E-=5,N.ndist=1+(31&Y),Y>>>=5,E-=5,N.ncode=4+(15&Y),Y>>>=4,E-=4,286<N.nlen||30<N.ndist){L.msg="too many length or distance symbols",N.mode=30;break}N.have=0,N.mode=18;case 18:for(;N.have<N.ncode;){for(;E<3;){if(K===0)break e;K--,Y+=Q[se++]<<E,E+=8}N.lens[ke[N.have++]]=7&Y,Y>>>=3,E-=3}for(;N.have<19;)N.lens[ke[N.have++]]=0;if(N.lencode=N.lendyn,N.lenbits=7,le={bits:N.lenbits},z=u(0,N.lens,0,19,N.lencode,0,N.work,le),N.lenbits=le.bits,z){L.msg="invalid code lengths set",N.mode=30;break}N.have=0,N.mode=19;case 19:for(;N.have<N.nlen+N.ndist;){for(;we=(H=N.lencode[Y&(1<<N.lenbits)-1])>>>16&255,Ae=65535&H,!((ve=H>>>24)<=E);){if(K===0)break e;K--,Y+=Q[se++]<<E,E+=8}if(Ae<16)Y>>>=ve,E-=ve,N.lens[N.have++]=Ae;else{if(Ae===16){for(X=ve+2;E<X;){if(K===0)break e;K--,Y+=Q[se++]<<E,E+=8}if(Y>>>=ve,E-=ve,N.have===0){L.msg="invalid bit length repeat",N.mode=30;break}C=N.lens[N.have-1],Z=3+(3&Y),Y>>>=2,E-=2}else if(Ae===17){for(X=ve+3;E<X;){if(K===0)break e;K--,Y+=Q[se++]<<E,E+=8}E-=ve,C=0,Z=3+(7&(Y>>>=ve)),Y>>>=3,E-=3}else{for(X=ve+7;E<X;){if(K===0)break e;K--,Y+=Q[se++]<<E,E+=8}E-=ve,C=0,Z=11+(127&(Y>>>=ve)),Y>>>=7,E-=7}if(N.have+Z>N.nlen+N.ndist){L.msg="invalid bit length repeat",N.mode=30;break}for(;Z--;)N.lens[N.have++]=C}}if(N.mode===30)break;if(N.lens[256]===0){L.msg="invalid code -- missing end-of-block",N.mode=30;break}if(N.lenbits=9,le={bits:N.lenbits},z=u(d,N.lens,0,N.nlen,N.lencode,0,N.work,le),N.lenbits=le.bits,z){L.msg="invalid literal/lengths set",N.mode=30;break}if(N.distbits=6,N.distcode=N.distdyn,le={bits:N.distbits},z=u(m,N.lens,N.nlen,N.ndist,N.distcode,0,N.work,le),N.distbits=le.bits,z){L.msg="invalid distances set",N.mode=30;break}if(N.mode=20,M===6)break e;case 20:N.mode=21;case 21:if(6<=K&&258<=ue){L.next_out=ie,L.avail_out=ue,L.next_in=se,L.avail_in=K,N.hold=Y,N.bits=E,l(L,V),ie=L.next_out,fe=L.output,ue=L.avail_out,se=L.next_in,Q=L.input,K=L.avail_in,Y=N.hold,E=N.bits,N.mode===12&&(N.back=-1);break}for(N.back=0;we=(H=N.lencode[Y&(1<<N.lenbits)-1])>>>16&255,Ae=65535&H,!((ve=H>>>24)<=E);){if(K===0)break e;K--,Y+=Q[se++]<<E,E+=8}if(we&&!(240&we)){for(Te=ve,ce=we,Se=Ae;we=(H=N.lencode[Se+((Y&(1<<Te+ce)-1)>>Te)])>>>16&255,Ae=65535&H,!(Te+(ve=H>>>24)<=E);){if(K===0)break e;K--,Y+=Q[se++]<<E,E+=8}Y>>>=Te,E-=Te,N.back+=Te}if(Y>>>=ve,E-=ve,N.back+=ve,N.length=Ae,we===0){N.mode=26;break}if(32&we){N.back=-1,N.mode=12;break}if(64&we){L.msg="invalid literal/length code",N.mode=30;break}N.extra=15&we,N.mode=22;case 22:if(N.extra){for(X=N.extra;E<X;){if(K===0)break e;K--,Y+=Q[se++]<<E,E+=8}N.length+=Y&(1<<N.extra)-1,Y>>>=N.extra,E-=N.extra,N.back+=N.extra}N.was=N.length,N.mode=23;case 23:for(;we=(H=N.distcode[Y&(1<<N.distbits)-1])>>>16&255,Ae=65535&H,!((ve=H>>>24)<=E);){if(K===0)break e;K--,Y+=Q[se++]<<E,E+=8}if(!(240&we)){for(Te=ve,ce=we,Se=Ae;we=(H=N.distcode[Se+((Y&(1<<Te+ce)-1)>>Te)])>>>16&255,Ae=65535&H,!(Te+(ve=H>>>24)<=E);){if(K===0)break e;K--,Y+=Q[se++]<<E,E+=8}Y>>>=Te,E-=Te,N.back+=Te}if(Y>>>=ve,E-=ve,N.back+=ve,64&we){L.msg="invalid distance code",N.mode=30;break}N.offset=Ae,N.extra=15&we,N.mode=24;case 24:if(N.extra){for(X=N.extra;E<X;){if(K===0)break e;K--,Y+=Q[se++]<<E,E+=8}N.offset+=Y&(1<<N.extra)-1,Y>>>=N.extra,E-=N.extra,N.back+=N.extra}if(N.offset>N.dmax){L.msg="invalid distance too far back",N.mode=30;break}N.mode=25;case 25:if(ue===0)break e;if(Z=V-ue,N.offset>Z){if((Z=N.offset-Z)>N.whave&&N.sane){L.msg="invalid distance too far back",N.mode=30;break}oe=Z>N.wnext?(Z-=N.wnext,N.wsize-Z):N.wnext-Z,Z>N.length&&(Z=N.length),me=N.window}else me=fe,oe=ie-N.offset,Z=N.length;for(ue<Z&&(Z=ue),ue-=Z,N.length-=Z;fe[ie++]=me[oe++],--Z;);N.length===0&&(N.mode=21);break;case 26:if(ue===0)break e;fe[ie++]=N.length,ue--,N.mode=21;break;case 27:if(N.wrap){for(;E<32;){if(K===0)break e;K--,Y|=Q[se++]<<E,E+=8}if(V-=ue,L.total_out+=V,N.total+=V,V&&(L.adler=N.check=N.flags?o(N.check,fe,V,ie-V):a(N.check,fe,V,ie-V)),V=ue,(N.flags?Y:g(Y))!==N.check){L.msg="incorrect data check",N.mode=30;break}E=Y=0}N.mode=28;case 28:if(N.wrap&&N.flags){for(;E<32;){if(K===0)break e;K--,Y+=Q[se++]<<E,E+=8}if(Y!==(4294967295&N.total)){L.msg="incorrect length check",N.mode=30;break}E=Y=0}N.mode=29;case 29:z=1;break e;case 30:z=-3;break e;case 31:return-4;case 32:default:return h}return L.next_out=ie,L.avail_out=ue,L.next_in=se,L.avail_in=K,N.hold=Y,N.bits=E,(N.wsize||V!==L.avail_out&&N.mode<30&&(N.mode<27||M!==4))&&I(L,L.output,L.next_out,V-L.avail_out)?(N.mode=31,-4):($-=L.avail_in,V-=L.avail_out,L.total_in+=$,L.total_out+=V,N.total+=V,N.wrap&&V&&(L.adler=N.check=N.flags?o(N.check,fe,V,L.next_out-V):a(N.check,fe,V,L.next_out-V)),L.data_type=N.bits+(N.last?64:0)+(N.mode===12?128:0)+(N.mode===20||N.mode===15?256:0),($==0&&V===0||M===4)&&z===v&&(z=-5),z)},i.inflateEnd=function(L){if(!L||!L.state)return h;var M=L.state;return M.window&&(M.window=null),L.state=null,v},i.inflateGetHeader=function(L,M){var N;return L&&L.state&&2&(N=L.state).wrap?((N.head=M).done=!1,v):h},i.inflateSetDictionary=function(L,M){var N,Q=M.length;return L&&L.state?(N=L.state).wrap!==0&&N.mode!==11?h:N.mode===11&&a(1,M,Q,0)!==N.check?-3:I(L,M,Q,Q)?(N.mode=31,-4):(N.havedict=1,v):h},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(r,n,i){var s=r("../utils/common"),a=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],u=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];n.exports=function(d,m,v,h,b,y,k,g){var _,x,A,T,q,B,D,P,G,I=g.bits,L=0,M=0,N=0,Q=0,fe=0,se=0,ie=0,K=0,ue=0,Y=0,E=null,$=0,V=new s.Buf16(16),Z=new s.Buf16(16),oe=null,me=0;for(L=0;L<=15;L++)V[L]=0;for(M=0;M<h;M++)V[m[v+M]]++;for(fe=I,Q=15;1<=Q&&V[Q]===0;Q--);if(Q<fe&&(fe=Q),Q===0)return b[y++]=20971520,b[y++]=20971520,g.bits=1,0;for(N=1;N<Q&&V[N]===0;N++);for(fe<N&&(fe=N),L=K=1;L<=15;L++)if(K<<=1,(K-=V[L])<0)return-1;if(0<K&&(d===0||Q!==1))return-1;for(Z[1]=0,L=1;L<15;L++)Z[L+1]=Z[L]+V[L];for(M=0;M<h;M++)m[v+M]!==0&&(k[Z[m[v+M]]++]=M);if(B=d===0?(E=oe=k,19):d===1?(E=a,$-=257,oe=o,me-=257,256):(E=l,oe=u,-1),L=N,q=y,ie=M=Y=0,A=-1,T=(ue=1<<(se=fe))-1,d===1&&852<ue||d===2&&592<ue)return 1;for(;;){for(D=L-ie,G=k[M]<B?(P=0,k[M]):k[M]>B?(P=oe[me+k[M]],E[$+k[M]]):(P=96,0),_=1<<L-ie,N=x=1<<se;b[q+(Y>>ie)+(x-=_)]=D<<24|P<<16|G|0,x!==0;);for(_=1<<L-1;Y&_;)_>>=1;if(_!==0?(Y&=_-1,Y+=_):Y=0,M++,--V[L]==0){if(L===Q)break;L=m[v+k[M]]}if(fe<L&&(Y&T)!==A){for(ie===0&&(ie=fe),q+=N,K=1<<(se=L-ie);se+ie<Q&&!((K-=V[se+ie])<=0);)se++,K<<=1;if(ue+=1<<se,d===1&&852<ue||d===2&&592<ue)return 1;b[A=Y&T]=fe<<24|se<<16|q-y|0}}return Y!==0&&(b[q+Y]=L-ie<<24|64<<16|0),g.bits=fe,0}},{"../utils/common":41}],51:[function(r,n,i){n.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(r,n,i){var s=r("../utils/common"),a=0,o=1;function l(H){for(var ee=H.length;0<=--ee;)H[ee]=0}var u=0,d=29,m=256,v=m+1+d,h=30,b=19,y=2*v+1,k=15,g=16,_=7,x=256,A=16,T=17,q=18,B=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],D=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],P=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],G=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],I=new Array(2*(v+2));l(I);var L=new Array(2*h);l(L);var M=new Array(512);l(M);var N=new Array(256);l(N);var Q=new Array(d);l(Q);var fe,se,ie,K=new Array(h);function ue(H,ee,ke,_e,he){this.static_tree=H,this.extra_bits=ee,this.extra_base=ke,this.elems=_e,this.max_length=he,this.has_stree=H&&H.length}function Y(H,ee){this.dyn_tree=H,this.max_code=0,this.stat_desc=ee}function E(H){return H<256?M[H]:M[256+(H>>>7)]}function $(H,ee){H.pending_buf[H.pending++]=255&ee,H.pending_buf[H.pending++]=ee>>>8&255}function V(H,ee,ke){H.bi_valid>g-ke?(H.bi_buf|=ee<<H.bi_valid&65535,$(H,H.bi_buf),H.bi_buf=ee>>g-H.bi_valid,H.bi_valid+=ke-g):(H.bi_buf|=ee<<H.bi_valid&65535,H.bi_valid+=ke)}function Z(H,ee,ke){V(H,ke[2*ee],ke[2*ee+1])}function oe(H,ee){for(var ke=0;ke|=1&H,H>>>=1,ke<<=1,0<--ee;);return ke>>>1}function me(H,ee,ke){var _e,he,Ne=new Array(k+1),Re=0;for(_e=1;_e<=k;_e++)Ne[_e]=Re=Re+ke[_e-1]<<1;for(he=0;he<=ee;he++){var Le=H[2*he+1];Le!==0&&(H[2*he]=oe(Ne[Le]++,Le))}}function ve(H){var ee;for(ee=0;ee<v;ee++)H.dyn_ltree[2*ee]=0;for(ee=0;ee<h;ee++)H.dyn_dtree[2*ee]=0;for(ee=0;ee<b;ee++)H.bl_tree[2*ee]=0;H.dyn_ltree[2*x]=1,H.opt_len=H.static_len=0,H.last_lit=H.matches=0}function we(H){8<H.bi_valid?$(H,H.bi_buf):0<H.bi_valid&&(H.pending_buf[H.pending++]=H.bi_buf),H.bi_buf=0,H.bi_valid=0}function Ae(H,ee,ke,_e){var he=2*ee,Ne=2*ke;return H[he]<H[Ne]||H[he]===H[Ne]&&_e[ee]<=_e[ke]}function Te(H,ee,ke){for(var _e=H.heap[ke],he=ke<<1;he<=H.heap_len&&(he<H.heap_len&&Ae(ee,H.heap[he+1],H.heap[he],H.depth)&&he++,!Ae(ee,_e,H.heap[he],H.depth));)H.heap[ke]=H.heap[he],ke=he,he<<=1;H.heap[ke]=_e}function ce(H,ee,ke){var _e,he,Ne,Re,Le=0;if(H.last_lit!==0)for(;_e=H.pending_buf[H.d_buf+2*Le]<<8|H.pending_buf[H.d_buf+2*Le+1],he=H.pending_buf[H.l_buf+Le],Le++,_e===0?Z(H,he,ee):(Z(H,(Ne=N[he])+m+1,ee),(Re=B[Ne])!==0&&V(H,he-=Q[Ne],Re),Z(H,Ne=E(--_e),ke),(Re=D[Ne])!==0&&V(H,_e-=K[Ne],Re)),Le<H.last_lit;);Z(H,x,ee)}function Se(H,ee){var ke,_e,he,Ne=ee.dyn_tree,Re=ee.stat_desc.static_tree,Le=ee.stat_desc.has_stree,Fe=ee.stat_desc.elems,Je=-1;for(H.heap_len=0,H.heap_max=y,ke=0;ke<Fe;ke++)Ne[2*ke]!==0?(H.heap[++H.heap_len]=Je=ke,H.depth[ke]=0):Ne[2*ke+1]=0;for(;H.heap_len<2;)Ne[2*(he=H.heap[++H.heap_len]=Je<2?++Je:0)]=1,H.depth[he]=0,H.opt_len--,Le&&(H.static_len-=Re[2*he+1]);for(ee.max_code=Je,ke=H.heap_len>>1;1<=ke;ke--)Te(H,Ne,ke);for(he=Fe;ke=H.heap[1],H.heap[1]=H.heap[H.heap_len--],Te(H,Ne,1),_e=H.heap[1],H.heap[--H.heap_max]=ke,H.heap[--H.heap_max]=_e,Ne[2*he]=Ne[2*ke]+Ne[2*_e],H.depth[he]=(H.depth[ke]>=H.depth[_e]?H.depth[ke]:H.depth[_e])+1,Ne[2*ke+1]=Ne[2*_e+1]=he,H.heap[1]=he++,Te(H,Ne,1),2<=H.heap_len;);H.heap[--H.heap_max]=H.heap[1],function(qe,Me){var ct,$e,Mt,nt,gt,wt,At=Me.dyn_tree,rt=Me.max_code,Ut=Me.stat_desc.static_tree,st=Me.stat_desc.has_stree,ft=Me.stat_desc.extra_bits,qt=Me.stat_desc.extra_base,vt=Me.stat_desc.max_length,it=0;for(nt=0;nt<=k;nt++)qe.bl_count[nt]=0;for(At[2*qe.heap[qe.heap_max]+1]=0,ct=qe.heap_max+1;ct<y;ct++)vt<(nt=At[2*At[2*($e=qe.heap[ct])+1]+1]+1)&&(nt=vt,it++),At[2*$e+1]=nt,rt<$e||(qe.bl_count[nt]++,gt=0,qt<=$e&&(gt=ft[$e-qt]),wt=At[2*$e],qe.opt_len+=wt*(nt+gt),st&&(qe.static_len+=wt*(Ut[2*$e+1]+gt)));if(it!==0){do{for(nt=vt-1;qe.bl_count[nt]===0;)nt--;qe.bl_count[nt]--,qe.bl_count[nt+1]+=2,qe.bl_count[vt]--,it-=2}while(0<it);for(nt=vt;nt!==0;nt--)for($e=qe.bl_count[nt];$e!==0;)rt<(Mt=qe.heap[--ct])||(At[2*Mt+1]!==nt&&(qe.opt_len+=(nt-At[2*Mt+1])*At[2*Mt],At[2*Mt+1]=nt),$e--)}}(H,ee),me(Ne,Je,H.bl_count)}function C(H,ee,ke){var _e,he,Ne=-1,Re=ee[1],Le=0,Fe=7,Je=4;for(Re===0&&(Fe=138,Je=3),ee[2*(ke+1)+1]=65535,_e=0;_e<=ke;_e++)he=Re,Re=ee[2*(_e+1)+1],++Le<Fe&&he===Re||(Le<Je?H.bl_tree[2*he]+=Le:he!==0?(he!==Ne&&H.bl_tree[2*he]++,H.bl_tree[2*A]++):Le<=10?H.bl_tree[2*T]++:H.bl_tree[2*q]++,Ne=he,Je=(Le=0)===Re?(Fe=138,3):he===Re?(Fe=6,3):(Fe=7,4))}function z(H,ee,ke){var _e,he,Ne=-1,Re=ee[1],Le=0,Fe=7,Je=4;for(Re===0&&(Fe=138,Je=3),_e=0;_e<=ke;_e++)if(he=Re,Re=ee[2*(_e+1)+1],!(++Le<Fe&&he===Re)){if(Le<Je)for(;Z(H,he,H.bl_tree),--Le!=0;);else he!==0?(he!==Ne&&(Z(H,he,H.bl_tree),Le--),Z(H,A,H.bl_tree),V(H,Le-3,2)):Le<=10?(Z(H,T,H.bl_tree),V(H,Le-3,3)):(Z(H,q,H.bl_tree),V(H,Le-11,7));Ne=he,Je=(Le=0)===Re?(Fe=138,3):he===Re?(Fe=6,3):(Fe=7,4)}}l(K);var le=!1;function X(H,ee,ke,_e){V(H,(u<<1)+(_e?1:0),3),function(he,Ne,Re,Le){we(he),$(he,Re),$(he,~Re),s.arraySet(he.pending_buf,he.window,Ne,Re,he.pending),he.pending+=Re}(H,ee,ke)}i._tr_init=function(H){le||(function(){var ee,ke,_e,he,Ne,Re=new Array(k+1);for(he=_e=0;he<d-1;he++)for(Q[he]=_e,ee=0;ee<1<<B[he];ee++)N[_e++]=he;for(N[_e-1]=he,he=Ne=0;he<16;he++)for(K[he]=Ne,ee=0;ee<1<<D[he];ee++)M[Ne++]=he;for(Ne>>=7;he<h;he++)for(K[he]=Ne<<7,ee=0;ee<1<<D[he]-7;ee++)M[256+Ne++]=he;for(ke=0;ke<=k;ke++)Re[ke]=0;for(ee=0;ee<=143;)I[2*ee+1]=8,ee++,Re[8]++;for(;ee<=255;)I[2*ee+1]=9,ee++,Re[9]++;for(;ee<=279;)I[2*ee+1]=7,ee++,Re[7]++;for(;ee<=287;)I[2*ee+1]=8,ee++,Re[8]++;for(me(I,v+1,Re),ee=0;ee<h;ee++)L[2*ee+1]=5,L[2*ee]=oe(ee,5);fe=new ue(I,B,m+1,v,k),se=new ue(L,D,0,h,k),ie=new ue(new Array(0),P,0,b,_)}(),le=!0),H.l_desc=new Y(H.dyn_ltree,fe),H.d_desc=new Y(H.dyn_dtree,se),H.bl_desc=new Y(H.bl_tree,ie),H.bi_buf=0,H.bi_valid=0,ve(H)},i._tr_stored_block=X,i._tr_flush_block=function(H,ee,ke,_e){var he,Ne,Re=0;0<H.level?(H.strm.data_type===2&&(H.strm.data_type=function(Le){var Fe,Je=4093624447;for(Fe=0;Fe<=31;Fe++,Je>>>=1)if(1&Je&&Le.dyn_ltree[2*Fe]!==0)return a;if(Le.dyn_ltree[18]!==0||Le.dyn_ltree[20]!==0||Le.dyn_ltree[26]!==0)return o;for(Fe=32;Fe<m;Fe++)if(Le.dyn_ltree[2*Fe]!==0)return o;return a}(H)),Se(H,H.l_desc),Se(H,H.d_desc),Re=function(Le){var Fe;for(C(Le,Le.dyn_ltree,Le.l_desc.max_code),C(Le,Le.dyn_dtree,Le.d_desc.max_code),Se(Le,Le.bl_desc),Fe=b-1;3<=Fe&&Le.bl_tree[2*G[Fe]+1]===0;Fe--);return Le.opt_len+=3*(Fe+1)+5+5+4,Fe}(H),he=H.opt_len+3+7>>>3,(Ne=H.static_len+3+7>>>3)<=he&&(he=Ne)):he=Ne=ke+5,ke+4<=he&&ee!==-1?X(H,ee,ke,_e):H.strategy===4||Ne===he?(V(H,2+(_e?1:0),3),ce(H,I,L)):(V(H,4+(_e?1:0),3),function(Le,Fe,Je,qe){var Me;for(V(Le,Fe-257,5),V(Le,Je-1,5),V(Le,qe-4,4),Me=0;Me<qe;Me++)V(Le,Le.bl_tree[2*G[Me]+1],3);z(Le,Le.dyn_ltree,Fe-1),z(Le,Le.dyn_dtree,Je-1)}(H,H.l_desc.max_code+1,H.d_desc.max_code+1,Re+1),ce(H,H.dyn_ltree,H.dyn_dtree)),ve(H),_e&&we(H)},i._tr_tally=function(H,ee,ke){return H.pending_buf[H.d_buf+2*H.last_lit]=ee>>>8&255,H.pending_buf[H.d_buf+2*H.last_lit+1]=255&ee,H.pending_buf[H.l_buf+H.last_lit]=255&ke,H.last_lit++,ee===0?H.dyn_ltree[2*ke]++:(H.matches++,ee--,H.dyn_ltree[2*(N[ke]+m+1)]++,H.dyn_dtree[2*E(ee)]++),H.last_lit===H.lit_bufsize-1},i._tr_align=function(H){V(H,2,3),Z(H,x,I),function(ee){ee.bi_valid===16?($(ee,ee.bi_buf),ee.bi_buf=0,ee.bi_valid=0):8<=ee.bi_valid&&(ee.pending_buf[ee.pending++]=255&ee.bi_buf,ee.bi_buf>>=8,ee.bi_valid-=8)}(H)}},{"../utils/common":41}],53:[function(r,n,i){n.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(r,n,i){(function(s){(function(a,o){if(!a.setImmediate){var l,u,d,m,v=1,h={},b=!1,y=a.document,k=Object.getPrototypeOf&&Object.getPrototypeOf(a);k=k&&k.setTimeout?k:a,l={}.toString.call(a.process)==="[object process]"?function(A){process.nextTick(function(){_(A)})}:function(){if(a.postMessage&&!a.importScripts){var A=!0,T=a.onmessage;return a.onmessage=function(){A=!1},a.postMessage("","*"),a.onmessage=T,A}}()?(m="setImmediate$"+Math.random()+"$",a.addEventListener?a.addEventListener("message",x,!1):a.attachEvent("onmessage",x),function(A){a.postMessage(m+A,"*")}):a.MessageChannel?((d=new MessageChannel).port1.onmessage=function(A){_(A.data)},function(A){d.port2.postMessage(A)}):y&&"onreadystatechange"in y.createElement("script")?(u=y.documentElement,function(A){var T=y.createElement("script");T.onreadystatechange=function(){_(A),T.onreadystatechange=null,u.removeChild(T),T=null},u.appendChild(T)}):function(A){setTimeout(_,0,A)},k.setImmediate=function(A){typeof A!="function"&&(A=new Function(""+A));for(var T=new Array(arguments.length-1),q=0;q<T.length;q++)T[q]=arguments[q+1];var B={callback:A,args:T};return h[v]=B,l(v),v++},k.clearImmediate=g}function g(A){delete h[A]}function _(A){if(b)setTimeout(_,0,A);else{var T=h[A];if(T){b=!0;try{(function(q){var B=q.callback,D=q.args;switch(D.length){case 0:B();break;case 1:B(D[0]);break;case 2:B(D[0],D[1]);break;case 3:B(D[0],D[1],D[2]);break;default:B.apply(o,D)}})(T)}finally{g(A),b=!1}}}}function x(A){A.source===a&&typeof A.data=="string"&&A.data.indexOf(m)===0&&_(+A.data.slice(m.length))}})(typeof self>"u"?s===void 0?this:s:self)}).call(this,typeof zc<"u"?zc:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(Ow);var pN=Ow.exports;const mN=dv(pN),gN=Ge.createContext({}),br=({children:t,variant:e="default"})=>{const r={default:"bg-zinc-700 text-zinc-200",success:"bg-emerald-900/50 text-emerald-400 border border-emerald-700",warning:"bg-amber-900/50 text-amber-400 border border-amber-700",danger:"bg-red-900/50 text-red-400 border border-red-700",info:"bg-sky-900/50 text-sky-400 border border-sky-700",purple:"bg-purple-900/50 text-purple-400 border border-purple-700"};return f.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${r[e]}`,children:t})},ut=({children:t,onClick:e,variant:r="primary",size:n="md",disabled:i=!1,loading:s=!1,className:a="",type:o="button"})=>{const l={primary:"bg-amber-500 hover:bg-amber-400 text-zinc-900 font-semibold",secondary:"bg-zinc-700 hover:bg-zinc-600 text-zinc-200",danger:"bg-red-600 hover:bg-red-500 text-white",ghost:"bg-transparent hover:bg-zinc-800 text-zinc-400",success:"bg-emerald-600 hover:bg-emerald-500 text-white font-semibold"},u={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2",lg:"px-6 py-3 text-lg"};return f.jsx("button",{type:o,onClick:e,disabled:i||s,className:`rounded-lg transition-all duration-200 ${l[r]} ${u[n]} ${i||s?"opacity-50 cursor-not-allowed":""} ${a}`,children:s?f.jsxs("span",{className:"flex items-center gap-2",children:[f.jsxs("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Loading..."]}):t})},mt=({children:t,className:e=""})=>f.jsx("div",{className:`bg-zinc-900/80 border border-zinc-800 rounded-xl p-5 ${e}`,children:t}),It=({label:t,type:e="text",value:r,onChange:n,placeholder:i,className:s="",required:a=!1,disabled:o=!1})=>f.jsxs("div",{className:`flex flex-col gap-1.5 ${s}`,children:[t&&f.jsx("label",{className:"text-sm text-zinc-400 font-medium",children:t}),f.jsx("input",{type:e,value:r,onChange:n,placeholder:i,required:a,disabled:o,className:`bg-zinc-800 border border-zinc-700 rounded-lg px-4 py-2.5 text-zinc-100 placeholder-zinc-500 focus:outline-none focus:border-amber-500 focus:ring-1 focus:ring-amber-500 transition-all ${o?"opacity-50 cursor-not-allowed":""}`})]}),$i=({label:t,value:e,onChange:r,options:n,className:i="",disabled:s=!1})=>f.jsxs("div",{className:`flex flex-col gap-1.5 ${i}`,children:[t&&f.jsx("label",{className:"text-sm text-zinc-400 font-medium",children:t}),f.jsx("select",{value:e,onChange:r,disabled:s,className:`bg-zinc-800 border border-zinc-700 rounded-lg px-4 py-2.5 text-zinc-100 focus:outline-none focus:border-amber-500 focus:ring-1 focus:ring-amber-500 transition-all ${s?"opacity-50 cursor-not-allowed":""}`,children:n.map(a=>f.jsx("option",{value:a.value,children:a.label},a.value))})]}),Vu=({label:t,value:e,onChange:r,placeholder:n,rows:i=3,disabled:s=!1})=>f.jsxs("div",{className:"flex flex-col gap-1.5",children:[t&&f.jsx("label",{className:"text-sm text-zinc-400 font-medium",children:t}),f.jsx("textarea",{value:e,onChange:r,placeholder:n,rows:i,disabled:s,className:`bg-zinc-800 border border-zinc-700 rounded-lg px-4 py-2.5 text-zinc-100 placeholder-zinc-500 focus:outline-none focus:border-amber-500 focus:ring-1 focus:ring-amber-500 transition-all resize-none ${s?"opacity-50 cursor-not-allowed":""}`})]}),lv=({label:t,checked:e,onChange:r,description:n,disabled:i=!1})=>f.jsxs("div",{className:"flex items-center justify-between py-2",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-zinc-200 font-medium",children:t}),n&&f.jsx("p",{className:"text-xs text-zinc-500",children:n})]}),f.jsx("button",{type:"button",onClick:()=>!i&&r(!e),disabled:i,className:`relative w-12 h-7 rounded-full transition-colors ${e?"bg-amber-500":"bg-zinc-700"} ${i?"opacity-50 cursor-not-allowed":""}`,children:f.jsx("div",{className:`absolute top-1 w-5 h-5 bg-white rounded-full transition-transform ${e?"translate-x-6":"translate-x-1"}`})})]}),yn=({label:t,value:e,onChange:r,disabled:n=!1})=>f.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-zinc-800",children:[f.jsx("span",{className:"text-zinc-300",children:t}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("button",{type:"button",onClick:()=>!n&&r(!0),disabled:n,className:`px-3 py-1 rounded text-sm font-medium transition-colors ${e===!0?"bg-emerald-600 text-white":"bg-zinc-700 text-zinc-400"} ${n?"opacity-50 cursor-not-allowed":""}`,children:"YES"}),f.jsx("button",{type:"button",onClick:()=>!n&&r(!1),disabled:n,className:`px-3 py-1 rounded text-sm font-medium transition-colors ${e===!1?"bg-red-600 text-white":"bg-zinc-700 text-zinc-400"} ${n?"opacity-50 cursor-not-allowed":""}`,children:"NO"})]})]}),Lo=({label:t,value:e,onChange:r,disabled:n=!1})=>f.jsxs("div",{className:"flex flex-col gap-1.5",children:[t&&f.jsx("label",{className:"text-sm text-zinc-400 font-medium",children:t}),f.jsx("input",{type:"time",value:e||"",onChange:i=>r(i.target.value),disabled:n,className:`bg-zinc-800 border border-zinc-700 rounded-lg px-4 py-2.5 text-zinc-100 focus:outline-none focus:border-amber-500 focus:ring-1 focus:ring-amber-500 transition-all ${n?"opacity-50 cursor-not-allowed":""}`})]}),Ia=({label:t,checked:e,onCheckChange:r,qty:n,onQtyChange:i,disabled:s=!1})=>f.jsxs("div",{className:"flex items-center gap-3 py-2",children:[f.jsx("button",{type:"button",onClick:()=>!s&&r(!e),disabled:s,className:`w-6 h-6 rounded border-2 flex items-center justify-center transition-colors ${e?"bg-amber-500 border-amber-500 text-zinc-900":"border-zinc-600"} ${s?"opacity-50 cursor-not-allowed":""}`,children:e&&f.jsx(Ue.Check,{})}),f.jsx("span",{className:"text-zinc-300 flex-1",children:t}),e&&f.jsx("input",{type:"number",value:n||"",onChange:a=>i(parseInt(a.target.value)||0),placeholder:"Qty",disabled:s,className:"w-20 bg-zinc-800 border border-zinc-700 rounded px-2 py-1 text-zinc-100 text-sm"})]}),uv=()=>f.jsx("div",{className:"min-h-screen bg-zinc-950 flex items-center justify-center",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"w-16 h-16 bg-amber-500 rounded-2xl flex items-center justify-center mx-auto mb-4 animate-pulse",children:f.jsx("span",{className:"text-2xl font-black text-zinc-900",children:"BC"})}),f.jsx("p",{className:"text-zinc-500",children:"Loading..."})]})}),Yo=({active:t,onClick:e,children:r,count:n})=>f.jsxs("button",{onClick:e,className:`px-4 py-2 rounded-lg font-medium transition-colors flex items-center gap-2 ${t?"bg-amber-500 text-zinc-900":"bg-zinc-800 text-zinc-400 hover:bg-zinc-700"}`,children:[r,n!==void 0&&f.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs ${t?"bg-zinc-900/30":"bg-zinc-700"}`,children:n})]}),Ue={Users:()=>f.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})}),Truck:()=>f.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})}),Home:()=>f.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),Logout:()=>f.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),Plus:()=>f.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),Camera:()=>f.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]}),Check:()=>f.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),X:()=>f.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),Edit:()=>f.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),Trash:()=>f.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),Eye:()=>f.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),Document:()=>f.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),Clock:()=>f.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),CheckCircle:()=>f.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),UserPlus:()=>f.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})}),Download:()=>f.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})})},vN=()=>{const[t,e]=Ge.useState(""),[r,n]=Ge.useState(""),[i,s]=Ge.useState(!1),[a,o]=Ge.useState(""),[l,u]=Ge.useState(!1),d=async m=>{m&&m.preventDefault(),u(!0),o("");const{error:v}=await Pt.auth.signInWithPassword({email:t,password:r});v&&o(v.message),u(!1)};return f.jsxs("div",{className:"min-h-screen bg-zinc-950 flex items-center justify-center p-4",children:[f.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_at_top,_var(--tw-gradient-stops))] from-amber-900/20 via-zinc-950 to-zinc-950"}),f.jsxs(mt,{className:"w-full max-w-md relative z-10 border-zinc-700/50",children:[f.jsxs("div",{className:"text-center mb-8",children:[f.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-amber-500 rounded-2xl mb-4 shadow-lg shadow-amber-500/20",children:f.jsx("span",{className:"text-2xl font-black text-zinc-900",children:"BC"})}),f.jsx("h1",{className:"text-2xl font-bold text-zinc-100",children:"Bobcat Crew Manager"}),f.jsx("p",{className:"text-zinc-500 mt-1",children:"Sign in to continue"})]}),f.jsxs("form",{onSubmit:d,className:"space-y-4",children:[f.jsx(It,{label:"Email",type:"email",value:t,onChange:m=>e(m.target.value),placeholder:"your@email.com"}),f.jsxs("div",{className:"flex flex-col gap-1.5",children:[f.jsx("label",{className:"text-sm text-zinc-400 font-medium",children:"Password"}),f.jsxs("div",{className:"relative",children:[f.jsx("input",{type:i?"text":"password",value:r,onChange:m=>n(m.target.value),placeholder:"",className:"w-full bg-zinc-800 border border-zinc-700 rounded-lg px-4 py-2.5 pr-12 text-zinc-100 placeholder-zinc-500 focus:outline-none focus:border-amber-500 focus:ring-1 focus:ring-amber-500 transition-all"}),f.jsx("button",{type:"button",onClick:()=>s(!i),className:"absolute right-3 top-1/2 -translate-y-1/2 text-zinc-400 hover:text-zinc-200 transition-colors",children:i?f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]}),a&&f.jsx("p",{className:"text-red-400 text-sm bg-red-900/20 border border-red-800 rounded-lg px-3 py-2",children:a}),f.jsx(ut,{type:"submit",loading:l,className:"w-full mt-6",children:"Sign In"})]})]})]})},yN=({currentView:t,setCurrentView:e,profile:r,onLogout:n})=>{const s={admin:[{id:"dashboard",label:"Dashboard",icon:Ue.Home},{id:"users",label:"Users",icon:Ue.UserPlus},{id:"employees",label:"Employees",icon:Ue.Users},{id:"crews",label:"Crews",icon:Ue.Users},{id:"equipment",label:"Equipment",icon:Ue.Truck},{id:"leak-reports",label:"Leak Reports",icon:Ue.Document}],supervisor:[{id:"dashboard",label:"Dashboard",icon:Ue.Home},{id:"crews",label:"My Crews",icon:Ue.Users},{id:"review-reports",label:"Review Reports",icon:Ue.Document}],foreman:[{id:"dashboard",label:"Dashboard",icon:Ue.Home},{id:"my-crew",label:"My Crew",icon:Ue.Users},{id:"my-equipment",label:"Equipment",icon:Ue.Truck},{id:"my-leak-reports",label:"Leak Reports",icon:Ue.Document}]}[r==null?void 0:r.role]||[];return f.jsx("nav",{className:"bg-zinc-900 border-b border-zinc-800 sticky top-0 z-50",children:f.jsx("div",{className:"max-w-7xl mx-auto px-4",children:f.jsxs("div",{className:"flex items-center justify-between h-16",children:[f.jsxs("div",{className:"flex items-center gap-8",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-9 h-9 bg-amber-500 rounded-lg flex items-center justify-center",children:f.jsx("span",{className:"text-sm font-black text-zinc-900",children:"BC"})}),f.jsx("span",{className:"font-semibold text-zinc-100 hidden sm:block",children:"Crew Manager"})]}),f.jsx("div",{className:"flex gap-1 overflow-x-auto hide-scrollbar",children:s.map(a=>f.jsxs("button",{onClick:()=>e(a.id),className:`flex items-center gap-2 px-3 py-2 rounded-lg text-sm transition-all whitespace-nowrap ${t===a.id?"bg-amber-500/10 text-amber-400":"text-zinc-400 hover:text-zinc-200 hover:bg-zinc-800"}`,children:[f.jsx(a.icon,{}),f.jsx("span",{className:"hidden md:inline",children:a.label})]},a.id))})]}),f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsxs("div",{className:"text-right hidden sm:block",children:[f.jsx("p",{className:"text-sm font-medium text-zinc-200",children:r==null?void 0:r.name}),f.jsx("p",{className:"text-xs text-zinc-500 capitalize",children:r==null?void 0:r.role})]}),f.jsx("button",{onClick:n,className:"p-2 text-zinc-400 hover:text-zinc-200 hover:bg-zinc-800 rounded-lg transition-all",children:f.jsx(Ue.Logout,{})})]})]})})})},wN=({profiles:t,crews:e,employees:r,onRefresh:n})=>{const[i,s]=Ge.useState(!1),[a,o]=Ge.useState(null),[l,u]=Ge.useState(null),[d,m]=Ge.useState(!1),[v,h]=Ge.useState(""),[b,y]=Ge.useState(""),[k,g]=Ge.useState({email:"",password:"",name:"",role:"foreman",phone:""}),_=t.filter(P=>P.role==="supervisor"),x=t.filter(P=>P.role==="foreman"),A=t.filter(P=>P.role==="admin"),T=async()=>{m(!0),h(""),y("");try{const P=await fetch("https://jkghcufbigixfpnnfcet.supabase.co/functions/v1/create-user",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:k.email,password:k.password,name:k.name,role:k.role,phone:k.phone})}),G=await P.json();if(!P.ok)throw new Error(G.error||"Failed to create user");y(`User ${k.name} created successfully!`),g({email:"",password:"",name:"",role:"foreman",phone:""}),setTimeout(()=>{s(!1),y(""),n()},1500)}catch(P){h(P.message||"Failed to create user")}m(!1)},q=async(P,G)=>{m(!0);const{error:I}=await Pt.from("profiles").update({role:G}).eq("id",P);I||n(),m(!1)},B=async(P,G)=>{m(!0);const{error:I}=await Pt.from("crews").update({supervisor_id:G||null}).eq("id",P);I||(n(),u(null)),m(!1)},D=async(P,G,I)=>{m(!0);const{error:L}=await Pt.from("crews").update({foreman_user_id:G||null,foreman_id:I||null}).eq("id",P);L||(n(),u(null)),m(!1)};return f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-2xl font-bold text-zinc-100",children:"User Management"}),f.jsx("p",{className:"text-zinc-500",children:"Create and manage user accounts"})]}),f.jsx(ut,{onClick:()=>s(!0),children:f.jsxs("span",{className:"flex items-center gap-2",children:[f.jsx(Ue.UserPlus,{})," Add User"]})})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[f.jsx(mt,{children:f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:"w-12 h-12 bg-purple-500/10 rounded-xl flex items-center justify-center text-purple-400",children:f.jsx(Ue.Users,{})}),f.jsxs("div",{children:[f.jsx("p",{className:"text-2xl font-bold text-zinc-100",children:A.length}),f.jsx("p",{className:"text-sm text-zinc-500",children:"Admins"})]})]})}),f.jsx(mt,{children:f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:"w-12 h-12 bg-sky-500/10 rounded-xl flex items-center justify-center text-sky-400",children:f.jsx(Ue.Users,{})}),f.jsxs("div",{children:[f.jsx("p",{className:"text-2xl font-bold text-zinc-100",children:_.length}),f.jsx("p",{className:"text-sm text-zinc-500",children:"Supervisors"})]})]})}),f.jsx(mt,{children:f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:"w-12 h-12 bg-amber-500/10 rounded-xl flex items-center justify-center text-amber-400",children:f.jsx(Ue.Users,{})}),f.jsxs("div",{children:[f.jsx("p",{className:"text-2xl font-bold text-zinc-100",children:x.length}),f.jsx("p",{className:"text-sm text-zinc-500",children:"Foremen"})]})]})})]}),f.jsxs(mt,{children:[f.jsx("h2",{className:"text-lg font-semibold text-zinc-100 mb-4",children:"All Users"}),f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"border-b border-zinc-800",children:[f.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-zinc-400",children:"Name"}),f.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-zinc-400",children:"Email"}),f.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-zinc-400",children:"Role"}),f.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-zinc-400",children:"Phone"}),f.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium text-zinc-400",children:"Actions"})]})}),f.jsx("tbody",{children:t.map(P=>f.jsxs("tr",{className:"border-b border-zinc-800/50 hover:bg-zinc-800/30",children:[f.jsx("td",{className:"py-3 px-4 text-zinc-200 font-medium",children:P.name}),f.jsxs("td",{className:"py-3 px-4 text-zinc-400",children:[P.id.substring(0,8),"..."]}),f.jsx("td",{className:"py-3 px-4",children:f.jsx(br,{variant:P.role==="admin"?"purple":P.role==="supervisor"?"info":"warning",children:P.role})}),f.jsx("td",{className:"py-3 px-4 text-zinc-400",children:P.phone||"-"}),f.jsx("td",{className:"py-3 px-4 text-right",children:f.jsx(ut,{variant:"ghost",size:"sm",onClick:()=>o(P),children:f.jsx(Ue.Edit,{})})})]},P.id))})]})})]}),f.jsxs(mt,{children:[f.jsx("h2",{className:"text-lg font-semibold text-zinc-100 mb-4",children:"Crew Assignments"}),f.jsx("p",{className:"text-sm text-zinc-500 mb-4",children:"Assign supervisors and foremen to crews"}),f.jsxs("div",{className:"space-y-3",children:[e.map(P=>{const G=t.find(M=>M.id===P.supervisor_id),I=t.find(M=>M.id===P.foreman_user_id),L=r.find(M=>M.id===P.foreman_id);return f.jsxs("div",{className:"flex items-center justify-between p-4 bg-zinc-800/50 rounded-lg",children:[f.jsxs("div",{children:[f.jsx("p",{className:"font-medium text-zinc-200",children:P.name}),f.jsxs("div",{className:"flex gap-4 mt-1 text-sm text-zinc-500",children:[f.jsxs("span",{children:["Supervisor: ",f.jsx("span",{className:"text-zinc-300",children:(G==null?void 0:G.name)||"Not assigned"})]}),f.jsxs("span",{children:["Foreman: ",f.jsx("span",{className:"text-zinc-300",children:(I==null?void 0:I.name)||(L==null?void 0:L.name)||"Not assigned"})]})]})]}),f.jsx(ut,{variant:"secondary",size:"sm",onClick:()=>u(P),children:f.jsxs("span",{className:"flex items-center gap-1",children:[f.jsx(Ue.Edit,{})," Assign"]})})]},P.id)}),e.length===0&&f.jsx("p",{className:"text-zinc-500 text-center py-4",children:"No crews created yet"})]})]}),i&&f.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:f.jsxs(mt,{className:"w-full max-w-md",children:[f.jsxs("div",{className:"flex items-center justify-between mb-6",children:[f.jsx("h2",{className:"text-xl font-bold text-zinc-100",children:"Add New User"}),f.jsx("button",{onClick:()=>{s(!1),h(""),y("")},className:"text-zinc-400 hover:text-zinc-200",children:f.jsx(Ue.X,{})})]}),v&&f.jsx("p",{className:"text-red-400 text-sm bg-red-900/20 border border-red-800 rounded-lg px-3 py-2 mb-4",children:v}),b&&f.jsx("p",{className:"text-emerald-400 text-sm bg-emerald-900/20 border border-emerald-800 rounded-lg px-3 py-2 mb-4",children:b}),f.jsxs("div",{className:"space-y-4",children:[f.jsx(It,{label:"Full Name",value:k.name,onChange:P=>g({...k,name:P.target.value}),placeholder:"John Smith"}),f.jsx(It,{label:"Email",type:"email",value:k.email,onChange:P=>g({...k,email:P.target.value}),placeholder:"john@bobcatcontracting.com"}),f.jsx(It,{label:"Password",type:"password",value:k.password,onChange:P=>g({...k,password:P.target.value}),placeholder:"Minimum 6 characters"}),f.jsx($i,{label:"Role",value:k.role,onChange:P=>g({...k,role:P.target.value}),options:[{value:"foreman",label:"Foreman"},{value:"supervisor",label:"Supervisor"},{value:"admin",label:"Admin"}]}),f.jsx(It,{label:"Phone (optional)",value:k.phone,onChange:P=>g({...k,phone:P.target.value}),placeholder:"555-0100"}),f.jsxs("div",{className:"flex gap-3 pt-4",children:[f.jsx(ut,{variant:"secondary",onClick:()=>{s(!1),h(""),y("")},className:"flex-1",children:"Cancel"}),f.jsx(ut,{onClick:T,loading:d,className:"flex-1",disabled:!k.name||!k.email||!k.password,children:"Create User"})]})]})]})}),a&&f.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:f.jsxs(mt,{className:"w-full max-w-md",children:[f.jsxs("div",{className:"flex items-center justify-between mb-6",children:[f.jsx("h2",{className:"text-xl font-bold text-zinc-100",children:"Edit User"}),f.jsx("button",{onClick:()=>o(null),className:"text-zinc-400 hover:text-zinc-200",children:f.jsx(Ue.X,{})})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsx(It,{label:"Name",value:a.name,disabled:!0}),f.jsx($i,{label:"Role",value:a.role,onChange:P=>o({...a,role:P.target.value}),options:[{value:"foreman",label:"Foreman"},{value:"supervisor",label:"Supervisor"},{value:"admin",label:"Admin"}]}),f.jsxs("div",{className:"flex gap-3 pt-4",children:[f.jsx(ut,{variant:"secondary",onClick:()=>o(null),className:"flex-1",children:"Cancel"}),f.jsx(ut,{onClick:()=>{q(a.id,a.role),o(null)},loading:d,className:"flex-1",children:"Save Changes"})]})]})]})}),l&&f.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:f.jsxs(mt,{className:"w-full max-w-md",children:[f.jsxs("div",{className:"flex items-center justify-between mb-6",children:[f.jsxs("h2",{className:"text-xl font-bold text-zinc-100",children:["Assign to ",l.name]}),f.jsx("button",{onClick:()=>u(null),className:"text-zinc-400 hover:text-zinc-200",children:f.jsx(Ue.X,{})})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsx($i,{label:"Supervisor",value:l.supervisor_id||"",onChange:P=>B(l.id,P.target.value),options:[{value:"",label:"Not assigned"},..._.map(P=>({value:P.id,label:P.name}))]}),f.jsx($i,{label:"Foreman (User Account)",value:l.foreman_user_id||"",onChange:P=>{const G=x.find(L=>L.id===P.target.value),I=r.find(L=>{var M;return L.classification==="Foreman"&&L.name.toLowerCase()===((M=G==null?void 0:G.name)==null?void 0:M.toLowerCase())});D(l.id,P.target.value,I==null?void 0:I.id)},options:[{value:"",label:"Not assigned"},...x.map(P=>({value:P.id,label:P.name}))]}),f.jsx("div",{className:"pt-4",children:f.jsx(ut,{variant:"secondary",onClick:()=>u(null),className:"w-full",children:"Done"})})]})]})})]})},cv=({profile:t,crews:e,employees:r,equipment:n,leakReports:i})=>{var k;const s=(t==null?void 0:t.role)==="foreman",a=(t==null?void 0:t.role)==="supervisor",o=s?e.find(g=>g.foreman_user_id===t.id):null,l=a?e.filter(g=>g.supervisor_id===t.id):[],u=s&&o?n.filter(g=>g.crew_id===o.id):n,d=s&&o?i.filter(g=>g.crew_id===o.id):a?i.filter(g=>l.some(_=>_.id===g.crew_id)):i,m=d.filter(g=>g.status==="submitted"),v=d.filter(g=>g.status==="reviewed"),h=r.filter(g=>g.active).length,b=u.filter(g=>g.status==="In Service").length,y=u.filter(g=>g.status==="Out of Service").length;return a?f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-2xl font-bold text-zinc-100",children:"Supervisor Dashboard"}),f.jsx("p",{className:"text-zinc-500",children:"Manage your crews and review reports"})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[f.jsx(mt,{children:f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:"w-12 h-12 bg-amber-500/10 rounded-xl flex items-center justify-center text-amber-400",children:f.jsx(Ue.Users,{})}),f.jsxs("div",{children:[f.jsx("p",{className:"text-2xl font-bold text-zinc-100",children:l.length}),f.jsx("p",{className:"text-sm text-zinc-500",children:"Crews Under You"})]})]})}),f.jsx(mt,{className:m.length>0?"border-amber-700/50":"",children:f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:`w-12 h-12 ${m.length>0?"bg-amber-500/10":"bg-zinc-700/50"} rounded-xl flex items-center justify-center ${m.length>0?"text-amber-400":"text-zinc-500"}`,children:f.jsx(Ue.Clock,{})}),f.jsxs("div",{children:[f.jsx("p",{className:"text-2xl font-bold text-zinc-100",children:m.length}),f.jsx("p",{className:"text-sm text-zinc-500",children:"Pending Review"})]})]})}),f.jsx(mt,{children:f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:"w-12 h-12 bg-emerald-500/10 rounded-xl flex items-center justify-center text-emerald-400",children:f.jsx(Ue.CheckCircle,{})}),f.jsxs("div",{children:[f.jsx("p",{className:"text-2xl font-bold text-zinc-100",children:v.length}),f.jsx("p",{className:"text-sm text-zinc-500",children:"Reviewed"})]})]})})]}),m.length>0&&f.jsx(mt,{className:"border-amber-700/50 bg-amber-900/10",children:f.jsxs("div",{className:"flex items-start gap-3",children:[f.jsx("div",{className:"w-10 h-10 bg-amber-500/20 rounded-lg flex items-center justify-center text-amber-400 flex-shrink-0",children:f.jsx(Ue.Document,{})}),f.jsxs("div",{children:[f.jsx("h3",{className:"font-semibold text-amber-400",children:"Reports Need Review"}),f.jsxs("p",{className:"text-sm text-zinc-400 mt-1",children:["You have ",m.length," leak report",m.length>1?"s":""," waiting for review."]})]})]})}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[f.jsxs(mt,{children:[f.jsx("h2",{className:"text-lg font-semibold text-zinc-100 mb-4",children:"Your Crews"}),f.jsxs("div",{className:"space-y-3",children:[l.map(g=>{const _=r.find(A=>A.id===g.foreman_id),x=i.filter(A=>A.crew_id===g.id&&A.status==="submitted").length;return f.jsxs("div",{className:"flex items-center justify-between p-3 bg-zinc-800/50 rounded-lg",children:[f.jsxs("div",{children:[f.jsx("p",{className:"font-medium text-zinc-200",children:g.name}),f.jsxs("p",{className:"text-sm text-zinc-500",children:["Foreman: ",(_==null?void 0:_.name)||"Not assigned"]})]}),x>0&&f.jsxs(br,{variant:"warning",children:[x," pending"]})]},g.id)}),l.length===0&&f.jsx("p",{className:"text-zinc-500 text-center py-4",children:"No crews assigned to you"})]})]}),f.jsxs(mt,{children:[f.jsx("h2",{className:"text-lg font-semibold text-zinc-100 mb-4",children:"Recent Submissions"}),f.jsxs("div",{className:"space-y-3",children:[m.slice(0,5).map(g=>{const _=e.find(x=>x.id===g.crew_id);return f.jsxs("div",{className:"p-3 bg-zinc-800/50 rounded-lg",children:[f.jsxs("div",{className:"flex items-center justify-between mb-1",children:[f.jsxs("p",{className:"font-medium text-zinc-200",children:["Leak #",g.leak_number||"-"]}),f.jsx(br,{variant:"warning",children:"Pending"})]}),f.jsxs("p",{className:"text-sm text-zinc-400",children:[(_==null?void 0:_.name)||"Unknown","  ",g.date]})]},g.id)}),m.length===0&&f.jsx("p",{className:"text-zinc-500 text-center py-4",children:"No pending reports"})]})]})]})]}):f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-2xl font-bold text-zinc-100",children:s?"Welcome back":"Admin Dashboard"}),f.jsx("p",{className:"text-zinc-500",children:s&&o?`${o.name} Dashboard`:"Overview of all crews and operations"})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[!s&&f.jsx(mt,{children:f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:"w-12 h-12 bg-sky-500/10 rounded-xl flex items-center justify-center text-sky-400",children:f.jsx(Ue.Users,{})}),f.jsxs("div",{children:[f.jsx("p",{className:"text-2xl font-bold text-zinc-100",children:h}),f.jsx("p",{className:"text-sm text-zinc-500",children:"Active Employees"})]})]})}),f.jsx(mt,{children:f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:"w-12 h-12 bg-amber-500/10 rounded-xl flex items-center justify-center text-amber-400",children:f.jsx(Ue.Users,{})}),f.jsxs("div",{children:[f.jsx("p",{className:"text-2xl font-bold text-zinc-100",children:s&&o?(((k=o.crew_members)==null?void 0:k.length)||0)+1:e.length}),f.jsx("p",{className:"text-sm text-zinc-500",children:s?"Crew Members":"Active Crews"})]})]})}),f.jsx(mt,{children:f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:`w-12 h-12 ${y>0?"bg-amber-500/10":"bg-emerald-500/10"} rounded-xl flex items-center justify-center ${y>0?"text-amber-400":"text-emerald-400"}`,children:f.jsx(Ue.Truck,{})}),f.jsxs("div",{children:[f.jsxs("p",{className:"text-2xl font-bold text-zinc-100",children:[b,"/",u.length]}),f.jsxs("p",{className:"text-sm text-zinc-500",children:["Equipment ",s?"Ready":"In Service"]})]})]})}),f.jsx(mt,{children:f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:"w-12 h-12 bg-purple-500/10 rounded-xl flex items-center justify-center text-purple-400",children:f.jsx(Ue.Document,{})}),f.jsxs("div",{children:[f.jsx("p",{className:"text-2xl font-bold text-zinc-100",children:d.length}),f.jsx("p",{className:"text-sm text-zinc-500",children:"Leak Reports"})]})]})})]}),y>0&&s&&f.jsx(mt,{className:"border-amber-700/50 bg-amber-900/10",children:f.jsxs("div",{className:"flex items-start gap-3",children:[f.jsx("div",{className:"w-10 h-10 bg-amber-500/20 rounded-lg flex items-center justify-center text-amber-400 flex-shrink-0",children:f.jsx(Ue.Truck,{})}),f.jsxs("div",{children:[f.jsx("h3",{className:"font-semibold text-amber-400",children:"Equipment Alert"}),f.jsxs("p",{className:"text-sm text-zinc-400 mt-1",children:[y," piece",y>1?"s":""," of equipment marked out of service."]})]})]})}),!s&&f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[f.jsxs(mt,{children:[f.jsx("h2",{className:"text-lg font-semibold text-zinc-100 mb-4",children:"Crew Status"}),f.jsxs("div",{className:"space-y-3",children:[e.map(g=>{var A,T;const x=n.filter(q=>q.crew_id===g.id).filter(q=>q.status==="Out of Service").length;return f.jsxs("div",{className:"flex items-center justify-between p-3 bg-zinc-800/50 rounded-lg",children:[f.jsxs("div",{children:[f.jsx("p",{className:"font-medium text-zinc-200",children:g.name}),f.jsxs("p",{className:"text-sm text-zinc-500",children:[((A=g.foreman)==null?void 0:A.name)||"No foreman","  ",(((T=g.crew_members)==null?void 0:T.length)||0)+1," members"]})]}),f.jsxs("div",{className:"flex gap-2",children:[x>0&&f.jsxs(br,{variant:"warning",children:[x," equipment issue",x>1?"s":""]}),f.jsx(br,{variant:"success",children:"Active"})]})]},g.id)}),e.length===0&&f.jsx("p",{className:"text-zinc-500 text-center py-4",children:"No crews created yet"})]})]}),f.jsxs(mt,{children:[f.jsx("h2",{className:"text-lg font-semibold text-zinc-100 mb-4",children:"Recent Leak Reports"}),f.jsxs("div",{className:"space-y-3",children:[i.slice(0,5).map(g=>{const _=e.find(x=>x.id===g.crew_id);return f.jsxs("div",{className:"p-3 bg-zinc-800/50 rounded-lg",children:[f.jsxs("div",{className:"flex items-center justify-between mb-1",children:[f.jsxs("p",{className:"font-medium text-zinc-200",children:["Leak #",g.leak_number||"-"]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(br,{variant:g.status==="reviewed"?"success":"warning",children:g.status==="reviewed"?"Reviewed":"Pending"}),g.rate_type&&f.jsx(br,{variant:g.rate_type==="all_hourly"?"info":g.rate_type==="unit_rates"?"purple":"default",children:g.rate_type==="all_hourly"?"Hourly":g.rate_type==="unit_rates"?"Unit":"Both"})]})]}),f.jsxs("p",{className:"text-sm text-zinc-400",children:[(_==null?void 0:_.name)||"Unknown crew","  ",g.date]})]},g.id)}),i.length===0&&f.jsx("p",{className:"text-zinc-500 text-center py-4",children:"No reports submitted yet"})]})]})]})]})},_N=({employees:t,crews:e,onRefresh:r,readOnly:n=!1})=>{const[i,s]=Ge.useState(!1),[a,o]=Ge.useState(null),[l,u]=Ge.useState(null),[d,m]=Ge.useState(!1),[v,h]=Ge.useState({name:"",classification:"General Labor",phone:"",employee_number:"",active:!0}),b=x=>{const A=[],T=(e==null?void 0:e.filter(B=>{var D;return(D=B.crew_members)==null?void 0:D.some(P=>P.employee_id===x.id)}))||[],q=(e==null?void 0:e.filter(B=>B.foreman_id===x.id))||[];return T.length>0&&A.push(`Assigned to ${T.length} crew${T.length>1?"s":""}`),q.length>0&&A.push(`Foreman of ${q.map(B=>B.name).join(", ")}`),A},y=async()=>{m(!0),await Pt.from("employees").insert([v]),h({name:"",classification:"General Labor",phone:"",employee_number:"",active:!0}),s(!1),r(),m(!1)},k=async()=>{m(!0),await Pt.from("employees").update({name:a.name,classification:a.classification,phone:a.phone,employee_number:a.employee_number,active:a.active}).eq("id",a.id),o(null),r(),m(!1)},g=async x=>{m(!0);try{await Pt.from("crew_members").delete().eq("employee_id",x.id),await Pt.from("crews").update({foreman_id:null}).eq("foreman_id",x.id);const{error:A}=await Pt.from("employees").delete().eq("id",x.id);if(A)throw A;u(null),r()}catch(A){alert("Error deleting employee: "+A.message)}m(!1)},_=["Foreman","Skilled Labor","General Labor","Operator","Welder","Truck Driver"];return f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-2xl font-bold text-zinc-100",children:"Employee Roster"}),f.jsxs("p",{className:"text-zinc-500",children:[t.filter(x=>x.active).length," active employees"]})]}),!n&&f.jsx(ut,{onClick:()=>s(!0),children:f.jsxs("span",{className:"flex items-center gap-2",children:[f.jsx(Ue.Plus,{})," Add Employee"]})})]}),f.jsx(mt,{children:f.jsxs("div",{className:"overflow-x-auto",children:[f.jsxs("table",{className:"w-full",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"border-b border-zinc-800",children:[f.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-zinc-400",children:"Name"}),f.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-zinc-400",children:"Employee #"}),f.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-zinc-400",children:"Classification"}),f.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-zinc-400",children:"Phone"}),f.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-zinc-400",children:"Status"}),!n&&f.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium text-zinc-400",children:"Actions"})]})}),f.jsx("tbody",{children:t.map(x=>f.jsxs("tr",{className:"border-b border-zinc-800/50 hover:bg-zinc-800/30",children:[f.jsx("td",{className:"py-3 px-4 text-zinc-200 font-medium",children:x.name}),f.jsx("td",{className:"py-3 px-4 text-zinc-400",children:x.employee_number||"-"}),f.jsx("td",{className:"py-3 px-4",children:f.jsx(br,{variant:x.classification==="Foreman"?"info":"default",children:x.classification})}),f.jsx("td",{className:"py-3 px-4 text-zinc-400",children:x.phone||"-"}),f.jsx("td",{className:"py-3 px-4",children:f.jsx(br,{variant:x.active?"success":"danger",children:x.active?"Active":"Inactive"})}),!n&&f.jsx("td",{className:"py-3 px-4 text-right",children:f.jsxs("div",{className:"flex justify-end gap-2",children:[f.jsx("button",{onClick:()=>o(x),className:"p-2 text-zinc-400 hover:text-zinc-200 hover:bg-zinc-700 rounded-lg",children:f.jsx(Ue.Edit,{})}),f.jsx("button",{onClick:()=>u(x),className:"p-2 text-zinc-400 hover:text-red-400 hover:bg-zinc-700 rounded-lg",children:f.jsx(Ue.Trash,{})})]})})]},x.id))})]}),t.length===0&&f.jsx("p",{className:"text-zinc-500 text-center py-8",children:"No employees added yet"})]})}),i&&f.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:f.jsxs(mt,{className:"w-full max-w-md",children:[f.jsxs("div",{className:"flex items-center justify-between mb-6",children:[f.jsx("h2",{className:"text-xl font-bold text-zinc-100",children:"Add Employee"}),f.jsx("button",{onClick:()=>s(!1),className:"text-zinc-400 hover:text-zinc-200",children:f.jsx(Ue.X,{})})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsx(It,{label:"Name",value:v.name,onChange:x=>h({...v,name:x.target.value}),placeholder:"Full name"}),f.jsx(It,{label:"Employee Number",value:v.employee_number,onChange:x=>h({...v,employee_number:x.target.value}),placeholder:"e.g., 1234"}),f.jsx($i,{label:"Classification",value:v.classification,onChange:x=>h({...v,classification:x.target.value}),options:_.map(x=>({value:x,label:x}))}),f.jsx(It,{label:"Phone",value:v.phone,onChange:x=>h({...v,phone:x.target.value}),placeholder:"555-0100"}),f.jsxs("div",{className:"flex gap-3 pt-4",children:[f.jsx(ut,{variant:"secondary",onClick:()=>s(!1),className:"flex-1",children:"Cancel"}),f.jsx(ut,{onClick:y,loading:d,className:"flex-1",disabled:!v.name,children:"Add Employee"})]})]})]})}),a&&f.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:f.jsxs(mt,{className:"w-full max-w-md",children:[f.jsxs("div",{className:"flex items-center justify-between mb-6",children:[f.jsx("h2",{className:"text-xl font-bold text-zinc-100",children:"Edit Employee"}),f.jsx("button",{onClick:()=>o(null),className:"text-zinc-400 hover:text-zinc-200",children:f.jsx(Ue.X,{})})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsx(It,{label:"Name",value:a.name,onChange:x=>o({...a,name:x.target.value})}),f.jsx(It,{label:"Employee Number",value:a.employee_number||"",onChange:x=>o({...a,employee_number:x.target.value})}),f.jsx($i,{label:"Classification",value:a.classification,onChange:x=>o({...a,classification:x.target.value}),options:_.map(x=>({value:x,label:x}))}),f.jsx(It,{label:"Phone",value:a.phone||"",onChange:x=>o({...a,phone:x.target.value})}),f.jsx($i,{label:"Status",value:a.active?"active":"inactive",onChange:x=>o({...a,active:x.target.value==="active"}),options:[{value:"active",label:"Active"},{value:"inactive",label:"Inactive"}]}),f.jsxs("div",{className:"flex gap-3 pt-4",children:[f.jsx(ut,{variant:"secondary",onClick:()=>o(null),className:"flex-1",children:"Cancel"}),f.jsx(ut,{onClick:k,loading:d,className:"flex-1",children:"Save Changes"})]})]})]})}),l&&f.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:f.jsxs(mt,{className:"w-full max-w-md",children:[f.jsxs("div",{className:"flex items-center justify-between mb-6",children:[f.jsx("h2",{className:"text-xl font-bold text-zinc-100",children:"Remove Employee"}),f.jsx("button",{onClick:()=>u(null),className:"text-zinc-400 hover:text-zinc-200",children:f.jsx(Ue.X,{})})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("p",{className:"text-zinc-300",children:["Are you sure you want to remove ",f.jsx("span",{className:"font-semibold text-zinc-100",children:l.name}),"?"]}),b(l).length>0&&f.jsxs("div",{className:"bg-amber-900/20 border border-amber-700 rounded-lg p-3",children:[f.jsx("p",{className:"text-amber-400 font-medium text-sm mb-2",children:"Warning:"}),f.jsx("ul",{className:"text-sm text-zinc-400 space-y-1",children:b(l).map((x,A)=>f.jsxs("li",{children:[" ",x]},A))}),f.jsx("p",{className:"text-xs text-zinc-500 mt-2",children:"These assignments will be removed."})]}),f.jsxs("div",{className:"flex gap-3 pt-4",children:[f.jsx(ut,{variant:"secondary",onClick:()=>u(null),className:"flex-1",children:"Cancel"}),f.jsx(ut,{variant:"danger",onClick:()=>g(l),loading:d,className:"flex-1",children:"Remove Employee"})]})]})]})})]})},bN=({crews:t,employees:e,profiles:r,profile:n,onRefresh:i,equipment:s,leakReports:a})=>{var ie;const[o,l]=Ge.useState(null),[u,d]=Ge.useState(!1),[m,v]=Ge.useState([]),[h,b]=Ge.useState(!1),[y,k]=Ge.useState(!1),[g,_]=Ge.useState(""),[x,A]=Ge.useState(null),T=(n==null?void 0:n.role)==="foreman",q=(n==null?void 0:n.role)==="supervisor",B=(n==null?void 0:n.role)==="admin",D=T?t.find(K=>K.foreman_user_id===n.id):null,P=q?t.filter(K=>K.supervisor_id===n.id):[],G=T?D?[D]:[]:q?P:t,I=e.filter(K=>K.active&&K.classification!=="Foreman"),L=K=>{var V;const ue=[],Y=(s==null?void 0:s.filter(Z=>Z.crew_id===K.id))||[],E=(a==null?void 0:a.filter(Z=>Z.crew_id===K.id))||[],$=((V=K.crew_members)==null?void 0:V.length)||0;return $>0&&ue.push(`${$} crew member${$>1?"s":""} assigned`),Y.length>0&&ue.push(`${Y.length} equipment item${Y.length>1?"s":""} will be unassigned`),E.length>0&&ue.push(`${E.length} leak report${E.length>1?"s":""} linked (will remain in system)`),ue},M=K=>{var ue;l(K),v(((ue=K.crew_members)==null?void 0:ue.map(Y=>Y.employee_id))||[]),d(!0)},N=K=>v(ue=>ue.includes(K)?ue.filter(Y=>Y!==K):[...ue,K]),Q=async()=>{b(!0),await Pt.from("crew_members").delete().eq("crew_id",o.id),m.length>0&&await Pt.from("crew_members").insert(m.map(K=>({crew_id:o.id,employee_id:K}))),d(!1),l(null),i(),b(!1)},fe=async()=>{g.trim()&&(b(!0),await Pt.from("crews").insert([{name:g.trim()}]),_(""),k(!1),i(),b(!1))},se=async K=>{b(!0);try{await Pt.from("crew_members").delete().eq("crew_id",K.id),await Pt.from("equipment").update({crew_id:null}).eq("crew_id",K.id);const{error:ue}=await Pt.from("crews").delete().eq("id",K.id);if(ue)throw ue;A(null),i()}catch(ue){alert("Error deleting crew: "+ue.message)}b(!1)};if(T&&D){const K=e.filter(Y=>{var E;return(E=D.crew_members)==null?void 0:E.some($=>$.employee_id===Y.id)}),ue=e.find(Y=>Y.id===D.foreman_id);return f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-2xl font-bold text-zinc-100",children:D.name}),f.jsx("p",{className:"text-zinc-500",children:"Manage your crew composition"})]}),!u&&f.jsx(ut,{onClick:()=>M(D),children:f.jsxs("span",{className:"flex items-center gap-2",children:[f.jsx(Ue.Edit,{})," Edit Crew"]})})]}),f.jsxs(mt,{children:[f.jsx("h2",{className:"text-lg font-semibold text-zinc-100 mb-4",children:"Foreman"}),f.jsxs("div",{className:"flex items-center gap-4 p-4 bg-amber-500/5 border border-amber-500/20 rounded-lg",children:[f.jsx("div",{className:"w-12 h-12 bg-amber-500 rounded-full flex items-center justify-center text-zinc-900 font-bold",children:((ie=ue==null?void 0:ue.name)==null?void 0:ie.split(" ").map(Y=>Y[0]).join(""))||"?"}),f.jsxs("div",{children:[f.jsx("p",{className:"font-medium text-zinc-100",children:(ue==null?void 0:ue.name)||"Not assigned"}),f.jsx("p",{className:"text-sm text-zinc-500",children:(ue==null?void 0:ue.phone)||"-"})]}),f.jsx(br,{variant:"info",className:"ml-auto",children:"Foreman"})]})]}),f.jsxs(mt,{children:[f.jsxs("h2",{className:"text-lg font-semibold text-zinc-100 mb-4",children:["Crew Members ",u&&f.jsx("span",{className:"text-amber-400",children:"- Editing"})]}),u?f.jsxs("div",{className:"space-y-4",children:[f.jsx("p",{className:"text-sm text-zinc-400",children:"Select employees:"}),f.jsx("div",{className:"grid gap-2 max-h-80 overflow-y-auto",children:I.map(Y=>f.jsxs("button",{onClick:()=>N(Y.id),className:`flex items-center gap-4 p-3 rounded-lg border text-left ${m.includes(Y.id)?"border-amber-500 bg-amber-500/10":"border-zinc-700 hover:border-zinc-600 bg-zinc-800/50"}`,children:[f.jsx("div",{className:`w-6 h-6 rounded border-2 flex items-center justify-center ${m.includes(Y.id)?"border-amber-500 bg-amber-500 text-zinc-900":"border-zinc-600"}`,children:m.includes(Y.id)&&f.jsx(Ue.Check,{})}),f.jsxs("div",{className:"flex-1",children:[f.jsx("p",{className:"font-medium text-zinc-200",children:Y.name}),f.jsx("p",{className:"text-sm text-zinc-500",children:Y.classification})]})]},Y.id))}),f.jsxs("div",{className:"flex gap-3 pt-4 border-t border-zinc-800",children:[f.jsx(ut,{variant:"secondary",onClick:()=>d(!1),className:"flex-1",children:"Cancel"}),f.jsx(ut,{onClick:Q,loading:h,className:"flex-1",children:"Save Crew"})]})]}):f.jsx("div",{className:"space-y-2",children:K.length===0?f.jsx("p",{className:"text-zinc-500 py-8 text-center",children:"No crew members assigned"}):K.map(Y=>f.jsxs("div",{className:"flex items-center gap-4 p-3 bg-zinc-800/50 rounded-lg",children:[f.jsx("div",{className:"w-10 h-10 bg-zinc-700 rounded-full flex items-center justify-center text-zinc-300 font-medium",children:Y.name.split(" ").map(E=>E[0]).join("")}),f.jsxs("div",{className:"flex-1",children:[f.jsx("p",{className:"font-medium text-zinc-200",children:Y.name}),f.jsx("p",{className:"text-sm text-zinc-500",children:Y.phone||"-"})]}),f.jsx(br,{children:Y.classification})]},Y.id))})]})]})}return f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-2xl font-bold text-zinc-100",children:q?"My Crews":"All Crews"}),f.jsxs("p",{className:"text-zinc-500",children:[G.length," crews"]})]}),B&&f.jsx(ut,{onClick:()=>k(!0),children:f.jsxs("span",{className:"flex items-center gap-2",children:[f.jsx(Ue.Plus,{})," Add Crew"]})})]}),f.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:G.map(K=>{const ue=e.find($=>$.id===K.foreman_id),Y=r==null?void 0:r.find($=>$.id===K.supervisor_id),E=e.filter($=>{var V;return(V=K.crew_members)==null?void 0:V.some(Z=>Z.employee_id===$.id)});return f.jsxs(mt,{className:"hover:border-zinc-700",children:[f.jsxs("div",{className:"flex items-start justify-between mb-4",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"font-semibold text-zinc-100",children:K.name}),f.jsxs("p",{className:"text-sm text-zinc-500",children:["Foreman: ",(ue==null?void 0:ue.name)||"Not assigned"]}),!q&&Y&&f.jsxs("p",{className:"text-sm text-zinc-500",children:["Supervisor: ",Y.name]})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx(ut,{variant:"ghost",size:"sm",onClick:()=>l(K),children:f.jsxs("span",{className:"flex items-center gap-1",children:[f.jsx(Ue.Eye,{})," View"]})}),B&&f.jsx("button",{onClick:()=>A(K),className:"p-2 text-zinc-400 hover:text-red-400 hover:bg-zinc-700 rounded-lg",children:f.jsx(Ue.Trash,{})})]})]}),f.jsxs("div",{className:"flex flex-wrap gap-2",children:[E.slice(0,3).map($=>f.jsx("div",{className:"px-2 py-1 bg-zinc-800 rounded text-sm text-zinc-300",children:$.name},$.id)),E.length>3&&f.jsxs("span",{className:"px-2 py-1 text-sm text-zinc-500",children:["+",E.length-3," more"]}),E.length===0&&f.jsx("span",{className:"text-sm text-zinc-500",children:"No members assigned"})]})]},K.id)})}),G.length===0&&f.jsx(mt,{className:"text-center py-12",children:f.jsx("p",{className:"text-zinc-400",children:q?"No crews assigned to you":"No crews created yet"})}),o&&!u&&f.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:f.jsxs(mt,{className:"w-full max-w-2xl max-h-[80vh] overflow-y-auto",children:[f.jsxs("div",{className:"flex items-center justify-between mb-6",children:[f.jsx("h2",{className:"text-xl font-bold text-zinc-100",children:o.name}),f.jsx("button",{onClick:()=>l(null),className:"text-zinc-400 hover:text-zinc-200",children:f.jsx(Ue.X,{})})]}),f.jsx("div",{className:"space-y-4",children:e.filter(K=>{var ue;return((ue=o.crew_members)==null?void 0:ue.some(Y=>Y.employee_id===K.id))||K.id===o.foreman_id}).map(K=>f.jsxs("div",{className:"flex items-center gap-4 p-3 bg-zinc-800/50 rounded-lg",children:[f.jsx("div",{className:"w-10 h-10 bg-zinc-700 rounded-full flex items-center justify-center text-zinc-300 font-medium",children:K.name.split(" ").map(ue=>ue[0]).join("")}),f.jsxs("div",{className:"flex-1",children:[f.jsx("p",{className:"font-medium text-zinc-200",children:K.name}),f.jsx("p",{className:"text-sm text-zinc-500",children:K.phone||"-"})]}),f.jsx(br,{variant:K.id===o.foreman_id?"info":"default",children:K.id===o.foreman_id?"Foreman":K.classification})]},K.id))})]})}),y&&f.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:f.jsxs(mt,{className:"w-full max-w-md",children:[f.jsxs("div",{className:"flex items-center justify-between mb-6",children:[f.jsx("h2",{className:"text-xl font-bold text-zinc-100",children:"Add New Crew"}),f.jsx("button",{onClick:()=>k(!1),className:"text-zinc-400 hover:text-zinc-200",children:f.jsx(Ue.X,{})})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsx(It,{label:"Crew Name",value:g,onChange:K=>_(K.target.value),placeholder:"e.g., North Team"}),f.jsx("p",{className:"text-sm text-zinc-500",children:"You can assign a supervisor and foreman after creating the crew in the Users section."}),f.jsxs("div",{className:"flex gap-3 pt-4",children:[f.jsx(ut,{variant:"secondary",onClick:()=>k(!1),className:"flex-1",children:"Cancel"}),f.jsx(ut,{onClick:fe,loading:h,className:"flex-1",disabled:!g.trim(),children:"Create Crew"})]})]})]})}),x&&f.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:f.jsxs(mt,{className:"w-full max-w-md",children:[f.jsxs("div",{className:"flex items-center justify-between mb-6",children:[f.jsx("h2",{className:"text-xl font-bold text-zinc-100",children:"Remove Crew"}),f.jsx("button",{onClick:()=>A(null),className:"text-zinc-400 hover:text-zinc-200",children:f.jsx(Ue.X,{})})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("p",{className:"text-zinc-300",children:["Are you sure you want to remove ",f.jsx("span",{className:"font-semibold text-zinc-100",children:x.name}),"?"]}),L(x).length>0&&f.jsxs("div",{className:"bg-amber-900/20 border border-amber-700 rounded-lg p-3",children:[f.jsx("p",{className:"text-amber-400 font-medium text-sm mb-2",children:"Warning:"}),f.jsx("ul",{className:"text-sm text-zinc-400 space-y-1",children:L(x).map((K,ue)=>f.jsxs("li",{children:[" ",K]},ue))})]}),f.jsxs("div",{className:"flex gap-3 pt-4",children:[f.jsx(ut,{variant:"secondary",onClick:()=>A(null),className:"flex-1",children:"Cancel"}),f.jsx(ut,{variant:"danger",onClick:()=>se(x),loading:h,className:"flex-1",children:"Remove Crew"})]})]})]})})]})},xN=({equipment:t,crews:e,profile:r,onRefresh:n})=>{const[i,s]=Ge.useState(!1),[a,o]=Ge.useState(null),[l,u]=Ge.useState(!1),[d,m]=Ge.useState({type:"Tool",description:"",equipment_number:"",serial_number:"",photo_url:null,status:"In Service",notes:""}),v=(r==null?void 0:r.role)==="foreman",h=v?e.find(T=>T.foreman_user_id===r.id):null,b=v&&h?t.filter(T=>T.crew_id===h.id):t,y=["Truck","Trailer","Excavator","Tool","Other"],k=async(T,q=!1)=>{var G;const B=(G=T.target.files)==null?void 0:G[0];if(!B)return;const D=`${Date.now()}.${B.name.split(".").pop()}`,{error:P}=await Pt.storage.from("equipment-photos").upload(D,B);if(!P){const{data:{publicUrl:I}}=Pt.storage.from("equipment-photos").getPublicUrl(D);q?o({...a,photo_url:I}):m({...d,photo_url:I})}},g=async()=>{u(!0),await Pt.from("equipment").insert([{...d,crew_id:h==null?void 0:h.id}]),m({type:"Tool",description:"",equipment_number:"",serial_number:"",photo_url:null,status:"In Service",notes:""}),s(!1),n(),u(!1)},_=async()=>{u(!0),await Pt.from("equipment").update({type:a.type,description:a.description,equipment_number:a.equipment_number,serial_number:a.serial_number,photo_url:a.photo_url,status:a.status,notes:a.notes}).eq("id",a.id),o(null),n(),u(!1)},x=async T=>{confirm("Remove?")&&(await Pt.from("equipment").delete().eq("id",T),n())},A=(r==null?void 0:r.role)==="supervisor";return f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-2xl font-bold text-zinc-100",children:v?"My Equipment":"All Equipment"}),f.jsxs("p",{className:"text-zinc-500",children:[b.length," items"]})]}),!A&&f.jsx(ut,{onClick:()=>s(!0),children:f.jsxs("span",{className:"flex items-center gap-2",children:[f.jsx(Ue.Plus,{})," Add Equipment"]})})]}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:b.map(T=>{const q=e.find(B=>B.id===T.crew_id);return f.jsxs(mt,{className:T.status==="Out of Service"?"border-amber-700/50":"",children:[T.photo_url?f.jsx("div",{className:"w-full h-40 mb-4 rounded-lg overflow-hidden bg-zinc-800",children:f.jsx("img",{src:T.photo_url,alt:T.description,className:"w-full h-full object-cover"})}):f.jsxs("div",{className:"w-full h-40 mb-4 rounded-lg bg-zinc-800 flex items-center justify-center text-zinc-600",children:[f.jsx(Ue.Camera,{}),f.jsx("span",{className:"ml-2",children:"No photo"})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{className:"flex items-start justify-between",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"font-semibold text-zinc-100",children:T.description}),f.jsx("p",{className:"text-sm text-zinc-500",children:T.type})]}),f.jsx(br,{variant:T.status==="In Service"?"success":"warning",children:T.status})]}),f.jsxs("div",{className:"text-sm text-zinc-400 space-y-1",children:[f.jsxs("p",{children:["Equipment #: ",f.jsx("span",{className:"text-zinc-300",children:T.equipment_number})]}),!v&&q&&f.jsxs("p",{children:["Crew: ",f.jsx("span",{className:"text-zinc-300",children:q.name})]})]}),T.notes&&f.jsx("p",{className:"text-sm text-amber-400 bg-amber-900/20 rounded px-2 py-1",children:T.notes}),!A&&f.jsxs("div",{className:"flex gap-2 pt-2",children:[f.jsx(ut,{variant:"secondary",size:"sm",onClick:()=>o(T),className:"flex-1",children:f.jsxs("span",{className:"flex items-center justify-center gap-1",children:[f.jsx(Ue.Edit,{})," Edit"]})}),f.jsx(ut,{variant:"ghost",size:"sm",onClick:()=>x(T.id),children:f.jsx(Ue.Trash,{})})]})]})]},T.id)})}),b.length===0&&f.jsxs(mt,{className:"text-center py-12",children:[f.jsx(Ue.Truck,{}),f.jsx("p",{className:"text-zinc-400 mt-4",children:"No equipment tracked"}),!A&&f.jsx(ut,{onClick:()=>s(!0),className:"mt-4",children:"Add Equipment"})]}),i&&f.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:f.jsxs(mt,{className:"w-full max-w-md max-h-[90vh] overflow-y-auto",children:[f.jsxs("div",{className:"flex items-center justify-between mb-6",children:[f.jsx("h2",{className:"text-xl font-bold text-zinc-100",children:"Add Equipment"}),f.jsx("button",{onClick:()=>s(!1),className:"text-zinc-400 hover:text-zinc-200",children:f.jsx(Ue.X,{})})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsx($i,{label:"Type",value:d.type,onChange:T=>m({...d,type:T.target.value}),options:y.map(T=>({value:T,label:T}))}),f.jsx(It,{label:"Description",value:d.description,onChange:T=>m({...d,description:T.target.value}),placeholder:"e.g., 2022 Ford F-350"}),f.jsx(It,{label:"Equipment Number",value:d.equipment_number,onChange:T=>m({...d,equipment_number:T.target.value})}),f.jsx(It,{label:"Serial Number",value:d.serial_number,onChange:T=>m({...d,serial_number:T.target.value})}),f.jsxs("div",{className:"flex flex-col gap-1.5",children:[f.jsx("label",{className:"text-sm text-zinc-400 font-medium",children:"Photo"}),f.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-zinc-700 border-dashed rounded-lg cursor-pointer hover:border-amber-500 bg-zinc-800/50",children:[d.photo_url?f.jsx("img",{src:d.photo_url,className:"h-full object-contain rounded"}):f.jsxs("div",{className:"flex flex-col items-center text-zinc-500",children:[f.jsx(Ue.Camera,{}),f.jsx("span",{className:"text-sm mt-2",children:"Tap to upload"})]}),f.jsx("input",{type:"file",accept:"image/*",capture:"environment",className:"hidden",onChange:k})]})]}),f.jsx(Vu,{label:"Notes",value:d.notes,onChange:T=>m({...d,notes:T.target.value})}),f.jsxs("div",{className:"flex gap-3 pt-4",children:[f.jsx(ut,{variant:"secondary",onClick:()=>s(!1),className:"flex-1",children:"Cancel"}),f.jsx(ut,{onClick:g,loading:l,className:"flex-1",disabled:!d.description||!d.equipment_number,children:"Add"})]})]})]})}),a&&f.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:f.jsxs(mt,{className:"w-full max-w-md max-h-[90vh] overflow-y-auto",children:[f.jsxs("div",{className:"flex items-center justify-between mb-6",children:[f.jsx("h2",{className:"text-xl font-bold text-zinc-100",children:"Edit Equipment"}),f.jsx("button",{onClick:()=>o(null),className:"text-zinc-400 hover:text-zinc-200",children:f.jsx(Ue.X,{})})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsx($i,{label:"Type",value:a.type,onChange:T=>o({...a,type:T.target.value}),options:y.map(T=>({value:T,label:T}))}),f.jsx(It,{label:"Description",value:a.description,onChange:T=>o({...a,description:T.target.value})}),f.jsx(It,{label:"Equipment Number",value:a.equipment_number,onChange:T=>o({...a,equipment_number:T.target.value})}),f.jsx(It,{label:"Serial Number",value:a.serial_number||"",onChange:T=>o({...a,serial_number:T.target.value})}),f.jsxs("div",{className:"flex flex-col gap-1.5",children:[f.jsx("label",{className:"text-sm text-zinc-400 font-medium",children:"Photo"}),f.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-zinc-700 border-dashed rounded-lg cursor-pointer hover:border-amber-500 bg-zinc-800/50",children:[a.photo_url?f.jsx("img",{src:a.photo_url,className:"h-full object-contain rounded"}):f.jsxs("div",{className:"flex flex-col items-center text-zinc-500",children:[f.jsx(Ue.Camera,{}),f.jsx("span",{className:"text-sm mt-2",children:"Tap to upload"})]}),f.jsx("input",{type:"file",accept:"image/*",capture:"environment",className:"hidden",onChange:T=>k(T,!0)})]})]}),f.jsx($i,{label:"Status",value:a.status,onChange:T=>o({...a,status:T.target.value}),options:[{value:"In Service",label:"In Service"},{value:"Out of Service",label:"Out of Service"}]}),f.jsx(Vu,{label:"Notes",value:a.notes||"",onChange:T=>o({...a,notes:T.target.value})}),f.jsxs("div",{className:"flex gap-3 pt-4",children:[f.jsx(ut,{variant:"secondary",onClick:()=>o(null),className:"flex-1",children:"Cancel"}),f.jsx(ut,{onClick:_,loading:l,className:"flex-1",children:"Save"})]})]})]})})]})},P1=({formData:t,updateForm:e,addDowntimePeriod:r,updateDowntimePeriod:n,removeDowntimePeriod:i,disabled:s=!1})=>f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"space-y-4",children:[f.jsx("h3",{className:"text-lg font-semibold text-amber-400 border-b border-zinc-800 pb-2",children:"Basic Information"}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsx(It,{label:"Date",type:"date",value:t.date,onChange:a=>e("date",a.target.value),disabled:s}),f.jsx(It,{label:"Supervisor",value:t.supervisor,onChange:a=>e("supervisor",a.target.value),disabled:s}),f.jsx(It,{label:"Project #",value:t.project_number,onChange:a=>e("project_number",a.target.value),disabled:s}),f.jsx(It,{label:"Leak #",value:t.leak_number,onChange:a=>e("leak_number",a.target.value),disabled:s})]}),f.jsx(It,{label:"Address",value:t.address,onChange:a=>e("address",a.target.value),placeholder:"Full address",disabled:s})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsx("h3",{className:"text-lg font-semibold text-amber-400 border-b border-zinc-800 pb-2",children:"Job Type"}),f.jsx("div",{className:"flex flex-wrap gap-2",children:[{value:"regular_leak",label:"Regular Leak"},{value:"grade_1",label:"Grade 1"},{value:"laying_sod_cleanup",label:"Laying Sod/Cleanup"}].map(a=>f.jsx("button",{type:"button",onClick:()=>!s&&e("job_type",a.value),disabled:s,className:`px-4 py-2 rounded-lg font-medium ${t.job_type===a.value?"bg-amber-500 text-zinc-900":"bg-zinc-800 text-zinc-400 hover:bg-zinc-700"} ${s?"opacity-50 cursor-not-allowed":""}`,children:a.label},a.value))}),(t.job_type==="grade_1"||t.crew_called_off_to_grade_1||t.leak_turned_into_grade_1)&&f.jsxs("div",{className:"bg-red-900/20 border border-red-800 rounded-lg p-4 space-y-3",children:[f.jsx(lv,{label:"Crew Called Off to GRADE 1",checked:t.crew_called_off_to_grade_1,onChange:a=>e("crew_called_off_to_grade_1",a),disabled:s}),t.crew_called_off_to_grade_1&&f.jsx(Lo,{label:"Time Called OFF",value:t.time_called_off_to_grade_1,onChange:a=>e("time_called_off_to_grade_1",a),disabled:s}),f.jsx(lv,{label:"Leak Turned into GRADE 1",checked:t.leak_turned_into_grade_1,onChange:a=>e("leak_turned_into_grade_1",a),disabled:s}),t.leak_turned_into_grade_1&&f.jsx(Lo,{label:"Time Turned GRADE 1",value:t.time_leak_turned_grade_1,onChange:a=>e("time_leak_turned_grade_1",a),disabled:s})]})]}),t.job_type==="regular_leak"&&f.jsxs("div",{className:"space-y-4",children:[f.jsx("h3",{className:"text-lg font-semibold text-amber-400 border-b border-zinc-800 pb-2",children:"Regular Leak Details"}),f.jsx(yn,{label:"Leak Located?",value:t.leak_located,onChange:a=>e("leak_located",a),disabled:s}),f.jsx(yn,{label:"Leak Located before arrival?",value:t.leak_located_before_arrival,onChange:a=>e("leak_located_before_arrival",a),disabled:s}),t.leak_located===!1&&f.jsx(yn,{label:"Over 25 min to locate?",value:t.took_over_25_min_to_locate,onChange:a=>e("took_over_25_min_to_locate",a),disabled:s}),f.jsxs("div",{className:"grid grid-cols-2 gap-4 py-3",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-sm text-zinc-400 mb-2",children:"Type of Leak"}),f.jsx("div",{className:"flex gap-2",children:["main","service"].map(a=>f.jsx("button",{type:"button",onClick:()=>!s&&e("leak_type",t.leak_type===a?"":a),disabled:s,className:`px-3 py-1.5 rounded font-medium capitalize ${t.leak_type===a?"bg-amber-500 text-zinc-900":"bg-zinc-800 text-zinc-400"} ${s?"opacity-50":""}`,children:a},a))})]}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm text-zinc-400 mb-2",children:"Pipe Type"}),f.jsx("div",{className:"flex gap-2",children:["steel","poly"].map(a=>f.jsx("button",{type:"button",onClick:()=>!s&&e("pipe_type",t.pipe_type===a?"":a),disabled:s,className:`px-3 py-1.5 rounded font-medium capitalize ${t.pipe_type===a?"bg-amber-500 text-zinc-900":"bg-zinc-800 text-zinc-400"} ${s?"opacity-50":""}`,children:a},a))})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("p",{className:"text-sm text-zinc-400",children:"Type of Replacement"}),f.jsx(Ia,{label:"Short Side",checked:t.short_side,onCheckChange:a=>e("short_side",a),qty:t.short_side_qty,onQtyChange:a=>e("short_side_qty",a),disabled:s}),f.jsx(Ia,{label:"Long Side",checked:t.long_side,onCheckChange:a=>e("long_side",a),qty:t.long_side_qty,onQtyChange:a=>e("long_side_qty",a),disabled:s}),f.jsx(Ia,{label:"Insert",checked:t.insert_replacement,onCheckChange:a=>e("insert_replacement",a),qty:t.insert_qty,onQtyChange:a=>e("insert_qty",a),disabled:s}),f.jsx(Ia,{label:"Retirement",checked:t.retirement,onCheckChange:a=>e("retirement",a),qty:t.retirement_qty,onQtyChange:a=>e("retirement_qty",a),disabled:s})]}),f.jsx(yn,{label:"Section out main?",value:t.section_out_main,onChange:a=>e("section_out_main",a),disabled:s}),f.jsx(yn,{label:"Excessive Haul Off?",value:t.excessive_haul_off,onChange:a=>e("excessive_haul_off",a),disabled:s}),f.jsx(yn,{label:"Excessive restoration?",value:t.excessive_restoration,onChange:a=>e("excessive_restoration",a),disabled:s}),f.jsx(yn,{label:"Downtown extensive paving?",value:t.downtown_extensive_paving,onChange:a=>e("downtown_extensive_paving",a),disabled:s}),f.jsx(yn,{label:"Increased Traffic control?",value:t.increased_traffic_control,onChange:a=>e("increased_traffic_control",a),disabled:s}),f.jsx(yn,{label:"Rock in Bellhole?",value:t.rock_in_bellhole,onChange:a=>e("rock_in_bellhole",a),disabled:s}),f.jsx(yn,{label:"Street Plates Used?",value:t.street_plates_used,onChange:a=>e("street_plates_used",a),disabled:s}),f.jsx(yn,{label:"Vac Truck Used?",value:t.vac_truck_used,onChange:a=>e("vac_truck_used",a),disabled:s})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsx("h3",{className:"text-lg font-semibold text-amber-400 border-b border-zinc-800 pb-2",children:"Downtime Due to Atmos"}),(t.downtime_periods||[]).map((a,o)=>f.jsxs("div",{className:"flex items-center gap-3 bg-zinc-800/50 p-3 rounded-lg",children:[f.jsx(Lo,{label:"Start",value:a.start,onChange:l=>n(o,"start",l),disabled:s}),f.jsx(Lo,{label:"End",value:a.end,onChange:l=>n(o,"end",l),disabled:s}),!s&&f.jsx("button",{type:"button",onClick:()=>i(o),className:"p-2 text-red-400 hover:bg-zinc-700 rounded mt-6",children:f.jsx(Ue.Trash,{})})]},o)),!s&&f.jsx(ut,{variant:"secondary",size:"sm",onClick:r,children:f.jsxs("span",{className:"flex items-center gap-2",children:[f.jsx(Ue.Plus,{})," Add Downtime"]})})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsx("h3",{className:"text-lg font-semibold text-amber-400 border-b border-zinc-800 pb-2",children:"Adders Used"}),f.jsx(Ia,{label:"NoBlowKit",checked:t.no_blow_kit,onCheckChange:a=>e("no_blow_kit",a),qty:t.no_blow_kit_qty,onQtyChange:a=>e("no_blow_kit_qty",a),disabled:s}),f.jsx(Ia,{label:'2"-4" Short Stop',checked:t.short_stop_2_4,onCheckChange:a=>e("short_stop_2_4",a),qty:t.short_stop_2_4_qty,onQtyChange:a=>e("short_stop_2_4_qty",a),disabled:s}),f.jsx(Ia,{label:'6"+ Short Stop',checked:t.short_stop_6_plus,onCheckChange:a=>e("short_stop_6_plus",a),qty:t.short_stop_6_plus_qty,onQtyChange:a=>e("short_stop_6_plus_qty",a),disabled:s})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsx("h3",{className:"text-lg font-semibold text-amber-400 border-b border-zinc-800 pb-2",children:"Welder"}),f.jsx(yn,{label:"Welder Used?",value:t.welder_used,onChange:a=>e("welder_used",a),disabled:s}),t.welder_used&&f.jsx("div",{className:"flex gap-2",children:["bobcat","subbed_out"].map(a=>f.jsx("button",{type:"button",onClick:()=>!s&&e("welder_type",a),disabled:s,className:`px-3 py-1.5 rounded font-medium ${t.welder_type===a?"bg-amber-500 text-zinc-900":"bg-zinc-800 text-zinc-400"} ${s?"opacity-50":""}`,children:a==="bobcat"?"Bobcat":"Subbed Out"},a))})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsx("h3",{className:"text-lg font-semibold text-amber-400 border-b border-zinc-800 pb-2",children:"Bore"}),f.jsx(yn,{label:"Bore Used?",value:t.bore_used,onChange:a=>e("bore_used",a),disabled:s}),t.bore_used&&f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"flex gap-2",children:["bobcat","subbed_out"].map(a=>f.jsx("button",{type:"button",onClick:()=>!s&&e("bore_type",a),disabled:s,className:`px-3 py-1.5 rounded font-medium ${t.bore_type===a?"bg-amber-500 text-zinc-900":"bg-zinc-800 text-zinc-400"} ${s?"opacity-50":""}`,children:a==="bobcat"?"Bobcat":"Subbed Out"},a))}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("p",{className:"text-sm text-zinc-400 self-center",children:"Soil:"}),["dirt","rock"].map(a=>f.jsx("button",{type:"button",onClick:()=>!s&&e("soil_type",a),disabled:s,className:`px-3 py-1.5 rounded font-medium capitalize ${t.soil_type===a?"bg-amber-500 text-zinc-900":"bg-zinc-800 text-zinc-400"} ${s?"opacity-50":""}`,children:a},a))]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsx(It,{label:"Bore Size (in)",type:"number",value:t.bore_size_inches,onChange:a=>e("bore_size_inches",a.target.value),disabled:s}),f.jsx(It,{label:"Bore Footage (ft)",type:"number",value:t.bore_footage,onChange:a=>e("bore_footage",a.target.value),disabled:s})]})]})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsx("h3",{className:"text-lg font-semibold text-amber-400 border-b border-zinc-800 pb-2",children:"Crew Times"}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsx(Lo,{label:"Start Time",value:t.crew_start_time,onChange:a=>e("crew_start_time",a),disabled:s}),f.jsx(Lo,{label:"End Time",value:t.crew_end_time,onChange:a=>e("crew_end_time",a),disabled:s})]})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsx("h3",{className:"text-lg font-semibold text-amber-400 border-b border-zinc-800 pb-2",children:"Completion"}),f.jsx(yn,{label:"Leak Repair Completed?",value:t.leak_repair_completed,onChange:a=>e("leak_repair_completed",a),disabled:s})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsx("h3",{className:"text-lg font-semibold text-amber-400 border-b border-zinc-800 pb-2",children:"FCC Information"}),f.jsx(It,{label:"FCC Name",value:t.fcc_name,onChange:a=>e("fcc_name",a.target.value),disabled:s}),f.jsx(It,{label:"FCC Signature",value:t.fcc_signature,onChange:a=>e("fcc_signature",a.target.value),placeholder:"Type name",disabled:s})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsx("h3",{className:"text-lg font-semibold text-amber-400 border-b border-zinc-800 pb-2",children:"Notes"}),f.jsx(Vu,{value:t.notes,onChange:a=>e("notes",a.target.value),placeholder:"Additional notes...",rows:4,disabled:s})]})]}),kN=({leakReports:t,crews:e,profile:r,onRefresh:n})=>{const[i,s]=Ge.useState(!1),[a,o]=Ge.useState(null),[l,u]=Ge.useState(!1),d={date:new Date().toISOString().split("T")[0],supervisor:"",project_number:"",leak_number:"",address:"",job_type:"regular_leak",crew_called_off_to_grade_1:!1,time_called_off_to_grade_1:"",leak_turned_into_grade_1:!1,time_leak_turned_grade_1:"",leak_located:null,leak_located_before_arrival:null,took_over_25_min_to_locate:null,section_out_main:null,excessive_haul_off:null,excessive_restoration:null,downtown_extensive_paving:null,increased_traffic_control:null,rock_in_bellhole:null,street_plates_used:null,vac_truck_used:null,leak_type:"",pipe_type:"",short_side:!1,short_side_qty:null,long_side:!1,long_side_qty:null,insert_replacement:!1,insert_qty:null,retirement:!1,retirement_qty:null,downtime_periods:[],no_blow_kit:!1,no_blow_kit_qty:null,short_stop_2_4:!1,short_stop_2_4_qty:null,short_stop_6_plus:!1,short_stop_6_plus_qty:null,welder_used:null,welder_type:"",bore_used:null,bore_type:"",soil_type:"",bore_size_inches:"",bore_footage:"",crew_start_time:"",crew_end_time:"",leak_repair_completed:null,fcc_name:"",fcc_signature:"",notes:""},[m,v]=Ge.useState(d),h=e.find(A=>A.foreman_user_id===r.id),b=t.filter(A=>A.crew_id===(h==null?void 0:h.id)),y=(A,T)=>v(q=>({...q,[A]:T})),k=()=>v(A=>({...A,downtime_periods:[...A.downtime_periods,{start:"",end:""}]})),g=(A,T,q)=>v(B=>({...B,downtime_periods:B.downtime_periods.map((D,P)=>P===A?{...D,[T]:q}:D)})),_=A=>v(T=>({...T,downtime_periods:T.downtime_periods.filter((q,B)=>B!==A)})),x=async()=>{u(!0);const A={crew_id:h==null?void 0:h.id,submitted_by:r.id,status:"submitted",date:m.date,supervisor:m.supervisor||null,project_number:m.project_number||null,leak_number:m.leak_number||null,address:m.address||null,job_type:m.job_type,crew_called_off_to_grade_1:m.crew_called_off_to_grade_1,time_called_off_to_grade_1:m.time_called_off_to_grade_1||null,leak_turned_into_grade_1:m.leak_turned_into_grade_1,time_leak_turned_grade_1:m.time_leak_turned_grade_1||null,leak_located:m.leak_located,leak_located_before_arrival:m.leak_located_before_arrival,took_over_25_min_to_locate:m.took_over_25_min_to_locate,section_out_main:m.section_out_main,excessive_haul_off:m.excessive_haul_off,excessive_restoration:m.excessive_restoration,downtown_extensive_paving:m.downtown_extensive_paving,increased_traffic_control:m.increased_traffic_control,rock_in_bellhole:m.rock_in_bellhole,street_plates_used:m.street_plates_used,vac_truck_used:m.vac_truck_used,leak_type:m.leak_type||null,pipe_type:m.pipe_type||null,short_side:m.short_side,short_side_qty:m.short_side_qty||null,long_side:m.long_side,long_side_qty:m.long_side_qty||null,insert_replacement:m.insert_replacement,insert_qty:m.insert_qty||null,retirement:m.retirement,retirement_qty:m.retirement_qty||null,downtime_periods:JSON.stringify(m.downtime_periods||[]),no_blow_kit:m.no_blow_kit,no_blow_kit_qty:m.no_blow_kit_qty||null,short_stop_2_4:m.short_stop_2_4,short_stop_2_4_qty:m.short_stop_2_4_qty||null,short_stop_6_plus:m.short_stop_6_plus,short_stop_6_plus_qty:m.short_stop_6_plus_qty||null,welder_used:m.welder_used,welder_type:m.welder_type||null,bore_used:m.bore_used,bore_type:m.bore_type||null,soil_type:m.soil_type||null,bore_size_inches:m.bore_size_inches?parseFloat(m.bore_size_inches):null,bore_footage:m.bore_footage?parseFloat(m.bore_footage):null,crew_start_time:m.crew_start_time||null,crew_end_time:m.crew_end_time||null,leak_repair_completed:m.leak_repair_completed,fcc_name:m.fcc_name||null,fcc_signature:m.fcc_signature||null,notes:m.notes||null},{error:T}=await Pt.from("leak_reports").insert([A]);T?alert("Error: "+T.message):(v(d),s(!1),n()),u(!1)};return f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-2xl font-bold text-zinc-100",children:"Leak Reports"}),f.jsxs("p",{className:"text-zinc-500",children:[b.length," reports"]})]}),f.jsx(ut,{onClick:()=>s(!0),children:f.jsxs("span",{className:"flex items-center gap-2",children:[f.jsx(Ue.Plus,{})," New Report"]})})]}),f.jsx(mt,{children:f.jsxs("div",{className:"overflow-x-auto",children:[f.jsxs("table",{className:"w-full",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"border-b border-zinc-800",children:[f.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-zinc-400",children:"Date"}),f.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-zinc-400",children:"Leak #"}),f.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-zinc-400",children:"Address"}),f.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-zinc-400",children:"Status"}),f.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium text-zinc-400",children:"Actions"})]})}),f.jsx("tbody",{children:b.map(A=>f.jsxs("tr",{className:"border-b border-zinc-800/50 hover:bg-zinc-800/30",children:[f.jsx("td",{className:"py-3 px-4 text-zinc-200",children:A.date}),f.jsx("td",{className:"py-3 px-4 text-zinc-200 font-medium",children:A.leak_number||"-"}),f.jsx("td",{className:"py-3 px-4 text-zinc-400",children:A.address||"-"}),f.jsx("td",{className:"py-3 px-4",children:f.jsx(br,{variant:A.status==="reviewed"?"success":"warning",children:A.status==="reviewed"?"Reviewed":"Pending"})}),f.jsx("td",{className:"py-3 px-4 text-right",children:f.jsx(ut,{variant:"ghost",size:"sm",onClick:()=>o(A),children:f.jsxs("span",{className:"flex items-center gap-1",children:[f.jsx(Ue.Eye,{})," View"]})})})]},A.id))})]}),b.length===0&&f.jsx("p",{className:"text-zinc-500 text-center py-8",children:"No reports"})]})}),i&&f.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:f.jsxs(mt,{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[f.jsxs("div",{className:"flex items-center justify-between mb-6 sticky top-0 bg-zinc-900 py-2 -mt-2",children:[f.jsx("h2",{className:"text-xl font-bold text-zinc-100",children:"New Leak Report"}),f.jsx("button",{onClick:()=>s(!1),className:"text-zinc-400 hover:text-zinc-200",children:f.jsx(Ue.X,{})})]}),f.jsx(P1,{formData:m,updateForm:y,addDowntimePeriod:k,updateDowntimePeriod:g,removeDowntimePeriod:_}),f.jsxs("div",{className:"flex gap-3 pt-4 border-t border-zinc-800 sticky bottom-0 bg-zinc-900 py-4 -mb-5",children:[f.jsx(ut,{variant:"secondary",onClick:()=>s(!1),className:"flex-1",children:"Cancel"}),f.jsx(ut,{onClick:x,loading:l,className:"flex-1",children:"Submit Report"})]})]})}),a&&f.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:f.jsxs(mt,{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[f.jsxs("div",{className:"flex items-center justify-between mb-6",children:[f.jsx("h2",{className:"text-xl font-bold text-zinc-100",children:"Report Details"}),f.jsx("button",{onClick:()=>o(null),className:"text-zinc-400 hover:text-zinc-200",children:f.jsx(Ue.X,{})})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex gap-2 mb-4",children:[f.jsx(br,{variant:a.status==="reviewed"?"success":"warning",children:a.status==="reviewed"?"Reviewed":"Pending"}),a.rate_type&&f.jsx(br,{variant:a.rate_type==="all_hourly"?"info":a.rate_type==="unit_rates"?"purple":"default",children:a.rate_type==="all_hourly"?"Hourly":a.rate_type==="unit_rates"?"Unit":"Both"})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-sm text-zinc-500",children:"Date"}),f.jsx("p",{className:"text-zinc-200",children:a.date})]}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm text-zinc-500",children:"Leak #"}),f.jsx("p",{className:"text-zinc-200",children:a.leak_number||"-"})]}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm text-zinc-500",children:"Project #"}),f.jsx("p",{className:"text-zinc-200",children:a.project_number||"-"})]}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm text-zinc-500",children:"Supervisor"}),f.jsx("p",{className:"text-zinc-200",children:a.supervisor||"-"})]})]}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm text-zinc-500",children:"Address"}),f.jsx("p",{className:"text-zinc-200",children:a.address||"-"})]}),a.notes&&f.jsxs("div",{children:[f.jsx("p",{className:"text-sm text-zinc-500",children:"Notes"}),f.jsx("p",{className:"text-zinc-300 bg-zinc-800/50 rounded-lg p-3",children:a.notes})]})]})]})})]})},SN=({leakReports:t,crews:e,profile:r,onRefresh:n})=>{var M;const[i,s]=Ge.useState("pending"),[a,o]=Ge.useState(null),[l,u]=Ge.useState(!1),[d,m]=Ge.useState(null),[v,h]=Ge.useState(""),[b,y]=Ge.useState(""),[k,g]=Ge.useState(!1),_=e.filter(N=>N.supervisor_id===r.id),x=t.filter(N=>_.some(Q=>Q.id===N.crew_id)),A=x.filter(N=>N.status==="submitted"),T=x.filter(N=>N.status==="reviewed"),q=i==="pending"?A:T,B=N=>{const Q={...N,downtime_periods:typeof N.downtime_periods=="string"?JSON.parse(N.downtime_periods||"[]"):N.downtime_periods||[]};o(N),m(Q),h(N.rate_type||""),y(N.rate_type_notes||""),u(!1)},D=(N,Q)=>m(fe=>({...fe,[N]:Q})),P=()=>m(N=>({...N,downtime_periods:[...N.downtime_periods||[],{start:"",end:""}]})),G=(N,Q,fe)=>m(se=>({...se,downtime_periods:(se.downtime_periods||[]).map((ie,K)=>K===N?{...ie,[Q]:fe}:ie)})),I=N=>m(Q=>({...Q,downtime_periods:(Q.downtime_periods||[]).filter((fe,se)=>se!==N)})),L=async()=>{if(!v){alert("Select a classification");return}if(v==="both"&&!b.trim()){alert("Explain why Both");return}g(!0);const N={...d,downtime_periods:JSON.stringify(d.downtime_periods||[]),bore_size_inches:d.bore_size_inches?parseFloat(d.bore_size_inches):null,bore_footage:d.bore_footage?parseFloat(d.bore_footage):null,leak_type:d.leak_type||null,pipe_type:d.pipe_type||null,welder_type:d.welder_type||null,bore_type:d.bore_type||null,soil_type:d.soil_type||null,crew_start_time:d.crew_start_time||null,crew_end_time:d.crew_end_time||null,time_called_off_to_grade_1:d.time_called_off_to_grade_1||null,time_leak_turned_grade_1:d.time_leak_turned_grade_1||null,rate_type:v,rate_type_notes:v==="both"?b:null,status:"reviewed",reviewed_by:r.id,reviewed_at:new Date().toISOString()},{error:Q}=await Pt.from("leak_reports").update(N).eq("id",a.id);Q?alert("Error: "+Q.message):(o(null),m(null),n()),g(!1)};return f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-2xl font-bold text-zinc-100",children:"Review Reports"}),f.jsx("p",{className:"text-zinc-500",children:"Review leak reports from your foremen"})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx(Yo,{active:i==="pending",onClick:()=>s("pending"),count:A.length,children:"Pending"}),f.jsx(Yo,{active:i==="reviewed",onClick:()=>s("reviewed"),count:T.length,children:"Reviewed"})]}),f.jsx(mt,{children:f.jsxs("div",{className:"overflow-x-auto",children:[f.jsxs("table",{className:"w-full",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"border-b border-zinc-800",children:[f.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-zinc-400",children:"Date"}),f.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-zinc-400",children:"Crew"}),f.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-zinc-400",children:"Leak #"}),f.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-zinc-400",children:"Address"}),i==="reviewed"&&f.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-zinc-400",children:"Classification"}),f.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium text-zinc-400",children:"Actions"})]})}),f.jsx("tbody",{children:q.map(N=>{const Q=e.find(fe=>fe.id===N.crew_id);return f.jsxs("tr",{className:"border-b border-zinc-800/50 hover:bg-zinc-800/30",children:[f.jsx("td",{className:"py-3 px-4 text-zinc-200",children:N.date}),f.jsx("td",{className:"py-3 px-4 text-zinc-400",children:(Q==null?void 0:Q.name)||"-"}),f.jsx("td",{className:"py-3 px-4 text-zinc-200 font-medium",children:N.leak_number||"-"}),f.jsx("td",{className:"py-3 px-4 text-zinc-400",children:N.address||"-"}),i==="reviewed"&&f.jsx("td",{className:"py-3 px-4",children:f.jsx(br,{variant:N.rate_type==="all_hourly"?"info":N.rate_type==="unit_rates"?"purple":"default",children:N.rate_type==="all_hourly"?"Hourly":N.rate_type==="unit_rates"?"Unit":"Both"})}),f.jsx("td",{className:"py-3 px-4 text-right",children:f.jsx(ut,{variant:i==="pending"?"primary":"ghost",size:"sm",onClick:()=>B(N),children:f.jsx("span",{className:"flex items-center gap-1",children:i==="pending"?f.jsxs(f.Fragment,{children:[f.jsx(Ue.Edit,{})," Review"]}):f.jsxs(f.Fragment,{children:[f.jsx(Ue.Eye,{})," View"]})})})})]},N.id)})})]}),q.length===0&&f.jsx("p",{className:"text-zinc-500 text-center py-8",children:i==="pending"?"No pending":"No reviewed"})]})}),a&&d&&f.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:f.jsxs(mt,{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[f.jsxs("div",{className:"flex items-center justify-between mb-6 sticky top-0 bg-zinc-900 py-2 -mt-2 z-10",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-xl font-bold text-zinc-100",children:"Review Report"}),f.jsxs("p",{className:"text-sm text-zinc-500",children:[(M=e.find(N=>N.id===a.crew_id))==null?void 0:M.name,"  ",a.date]})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(ut,{variant:"secondary",size:"sm",onClick:()=>u(!l),children:l?"View Only":"Edit"}),f.jsx("button",{onClick:()=>{o(null),m(null)},className:"text-zinc-400 hover:text-zinc-200",children:f.jsx(Ue.X,{})})]})]}),f.jsx(P1,{formData:d,updateForm:D,addDowntimePeriod:P,updateDowntimePeriod:G,removeDowntimePeriod:I,disabled:!l}),f.jsxs("div",{className:"space-y-4 mt-6 pt-6 border-t-2 border-amber-500/50",children:[f.jsx("h3",{className:"text-lg font-semibold text-amber-400",children:"Supervisor Classification"}),f.jsx("p",{className:"text-sm text-zinc-400",children:"Select billing type:"}),f.jsx("div",{className:"flex flex-wrap gap-2",children:[{value:"all_hourly",label:"Hourly"},{value:"unit_rates",label:"Unit"},{value:"both",label:"Both"}].map(N=>f.jsx("button",{onClick:()=>l&&h(N.value),disabled:!l,className:`px-6 py-3 rounded-lg font-medium ${v===N.value?N.value==="all_hourly"?"bg-sky-500 text-white":N.value==="unit_rates"?"bg-purple-500 text-white":"bg-amber-500 text-zinc-900":"bg-zinc-800 text-zinc-400 hover:bg-zinc-700"} ${l?"":"opacity-50 cursor-not-allowed"}`,children:N.label},N.value))}),v==="both"&&f.jsx(Vu,{label:"Explain why both (required)",value:b,onChange:N=>y(N.target.value),rows:3,disabled:!l})]}),a.status==="reviewed"&&!l&&f.jsxs("div",{className:"mt-4 p-4 bg-emerald-900/20 border border-emerald-800 rounded-lg",children:[f.jsx("p",{className:"text-emerald-400 font-medium",children:" Reviewed"}),f.jsx("p",{className:"text-sm text-zinc-400",children:new Date(a.reviewed_at).toLocaleDateString()})]}),(a.status==="submitted"||l)&&f.jsxs("div",{className:"flex gap-3 pt-4 border-t border-zinc-800 sticky bottom-0 bg-zinc-900 py-4 -mb-5",children:[f.jsx(ut,{variant:"secondary",onClick:()=>{o(null),m(null)},className:"flex-1",children:"Cancel"}),f.jsx(ut,{variant:"success",onClick:L,loading:k,className:"flex-1",children:f.jsxs("span",{className:"flex items-center gap-2",children:[f.jsx(Ue.Check,{})," ",a.status==="reviewed"?"Save Changes":"Submit Review"]})})]})]})})]})},NN=(t,e,r,n)=>{const i=new tt,s=i.internal.pageSize.getWidth(),a=[230,126,34],o=[0,0,0],l=[200,200,200];let u=15;i.setFontSize(24),i.setTextColor(...a),i.setFont("helvetica","bold"),i.text("BOBCAT",s/2-25,u),i.setFontSize(10),i.text("CONTRACTING L.L.C.",s/2-18,u+6),i.setTextColor(...o),i.setFontSize(10),i.setFont("helvetica","normal"),i.text(`Date: ${t.date||"_______"}`,15,u),i.text(`Foreman: ${(n==null?void 0:n.name)||t.supervisor||"_______"}`,15,u+7),i.text(`Supervisor: ${(r==null?void 0:r.name)||"_______"}`,15,u+14),i.text(`Project #: ${t.project_number||"_______"}`,s-60,u),i.text(`Leak #: ${t.leak_number||"_______"}`,s-60,u+7),u+=25,i.text(`Address: ${t.address||"________________________________________________"}`,15,u),u+=10,i.setDrawColor(...a),i.setLineWidth(1),i.line(15,u,s-15,u),u+=8,i.setFont("helvetica","bold"),i.setFontSize(11),i.text("Job Type:",15,u),i.setFont("helvetica","normal"),i.setFontSize(10);const d=[{key:"regular_leak",label:"REGULAR LEAK"},{key:"grade_1",label:"GRADE 1"},{key:"laying_sod_cleanup",label:"Laying Sod/Cleanup"}];let m=50;d.forEach(k=>{const g=t.job_type===k.key;i.rect(m,u-4,4,4),g&&(i.setFillColor(...a),i.rect(m,u-4,4,4,"F")),i.text(k.label,m+6,u),m+=45}),u+=10,i.setDrawColor(...a),i.setLineWidth(.5),i.rect(s-75,u-15,60,25),i.setFontSize(8),i.setFont("helvetica","bold"),i.setTextColor(...a),i.text("SUPERINTENDENT USE ONLY:",s-73,u-10),i.setTextColor(...o),i.setFontSize(9);const v=[{key:"all_hourly",label:"ALL HOURLY RATE"},{key:"unit_rates",label:"UNIT RATES"},{key:"both",label:"PARTIALLY HOURLY"}];let h=u-5;if(v.forEach(k=>{const g=t.rate_type===k.key;i.rect(s-73,h-3,3,3),g&&(i.setFillColor(...a),i.rect(s-73,h-3,3,3,"F")),i.setFont("helvetica","normal"),i.text(k.label,s-68,h),h+=5}),(t.crew_called_off_to_grade_1||t.leak_turned_into_grade_1)&&(i.setFontSize(9),t.crew_called_off_to_grade_1&&(i.rect(15,u-3,3,3),i.setFillColor(...a),i.rect(15,u-3,3,3,"F"),i.text(`Crew Called Off to GRADE 1 - Time: ${t.time_called_off_to_grade_1||"___"}`,20,u),u+=6),t.leak_turned_into_grade_1&&(i.rect(15,u-3,3,3),i.setFillColor(...a),i.rect(15,u-3,3,3,"F"),i.text(`Leak Turned into GRADE 1 - Time: ${t.time_leak_turned_grade_1||"___"}`,20,u),u+=6)),u+=5,t.job_type==="regular_leak"){i.setDrawColor(...l),i.setLineWidth(.3),i.line(15,u,s-15,u),u+=6,i.setFont("helvetica","bold"),i.setFontSize(10),i.setTextColor(...a),i.text('If REGULAR LEAK then check "YES" or "NO" for all that applies:',15,u),i.setTextColor(...o),u+=7;const k=A=>A===!0?"YES":A===!1?"NO":"-",g=(A,T,q,B)=>{i.setFont("helvetica","normal"),i.setFontSize(9),i.text(A,q,B);const D=i.getTextWidth(A);i.setFont("helvetica","bold"),i.text(k(T),q+D+3,B)};g("Leak Located?",t.leak_located,15,u),g("Leak Located before arrival?",t.leak_located_before_arrival,15,u+6),t.leak_located===!1&&g("Over 25 min to locate?",t.took_over_25_min_to_locate,15,u+12),u+=20,i.setFont("helvetica","normal"),i.text(`Type of Leak: ${t.leak_type==="main"?"MAIN":t.leak_type==="service"?"SERVICE":"-"}`,15,u),i.text(`Pipe Type: ${t.pipe_type==="steel"?"STEEL":t.pipe_type==="poly"?"POLY":"-"}`,80,u),u+=8,i.setFont("helvetica","bold"),i.text("Type of Replacement:",15,u),i.setFont("helvetica","normal"),u+=6;const _=[{label:"Short Side",checked:t.short_side,qty:t.short_side_qty},{label:"Long Side",checked:t.long_side,qty:t.long_side_qty},{label:"Insert",checked:t.insert_replacement,qty:t.insert_qty},{label:"Retirement",checked:t.retirement,qty:t.retirement_qty}];m=15,_.forEach(A=>{i.rect(m,u-3,3,3),A.checked&&(i.setFillColor(...a),i.rect(m,u-3,3,3,"F")),i.text(`${A.label}${A.qty?` (${A.qty})`:""}`,m+5,u),m+=40}),u+=10;const x=[{label:"Section out main?",value:t.section_out_main},{label:"Excessive Haul Off?",value:t.excessive_haul_off},{label:"Excessive restoration?",value:t.excessive_restoration},{label:"Downtown extensive paving?",value:t.downtown_extensive_paving},{label:"Increased Traffic control?",value:t.increased_traffic_control},{label:"Rock in Bellhole?",value:t.rock_in_bellhole},{label:"Street Plates Used?",value:t.street_plates_used},{label:"Vac Truck Used?",value:t.vac_truck_used}];x.forEach((A,T)=>{const q=T%2,B=Math.floor(T/2);g(A.label,A.value,q===0?15:105,u+B*6)}),u+=Math.ceil(x.length/2)*6+5}i.setDrawColor(...l),i.line(15,u,s-15,u),u+=6,i.setFont("helvetica","bold"),i.setFontSize(10),i.setTextColor(...a),i.text("Downtime Due to Atmos:",15,u),i.setTextColor(...o),i.setFont("helvetica","normal"),i.setFontSize(9),u+=6;const b=typeof t.downtime_periods=="string"?JSON.parse(t.downtime_periods||"[]"):t.downtime_periods||[];if(b.length>0?b.forEach((k,g)=>{i.text(`Start: ${k.start||"___"}  End: ${k.end||"___"}`,20,u),u+=5}):(i.text("None recorded",20,u),u+=5),u+=5,i.setFont("helvetica","bold"),i.setFontSize(10),i.setTextColor(...a),i.text("Adders Used:",15,u),i.setTextColor(...o),i.setFont("helvetica","normal"),i.setFontSize(9),u+=6,[{label:"NoBlowKit",checked:t.no_blow_kit,qty:t.no_blow_kit_qty},{label:'2"-4" Short Stop',checked:t.short_stop_2_4,qty:t.short_stop_2_4_qty},{label:'6"+ Short Stop',checked:t.short_stop_6_plus,qty:t.short_stop_6_plus_qty}].forEach(k=>{i.rect(15,u-3,3,3),k.checked&&(i.setFillColor(...a),i.rect(15,u-3,3,3,"F")),i.text(`${k.label}${k.qty?` - Qty: ${k.qty}`:""}`,20,u),u+=5}),u+=5,i.setFont("helvetica","bold"),i.setFontSize(10),i.text("Welder Used?",15,u),i.setFont("helvetica","normal"),i.setFontSize(9),i.text(t.welder_used?`YES - ${t.welder_type==="bobcat_welder"?"Bobcat Welder":"Subbed Out Welder"}`:"NO",55,u),u+=8,i.setFont("helvetica","bold"),i.setFontSize(10),i.text("Bore Used?",15,u),i.setFont("helvetica","normal"),i.setFontSize(9),t.bore_used?(i.text(`YES - ${t.bore_type==="bobcat_bore"?"Bobcat Bore":"Subbed Out Bore"}`,50,u),u+=5,i.text(`Soil Type: ${t.soil_type==="dirt"?"Dirt":t.soil_type==="rock"?"Rock":"-"}  |  Bore Size: ${t.bore_size_inches||"-"} inch  |  Bore Footage: ${t.bore_footage||"-"} ft`,20,u)):i.text("NO",50,u),u+=10,i.setDrawColor(...a),i.setLineWidth(.5),i.line(15,u,s-15,u),u+=8,i.setFont("helvetica","bold"),i.setFontSize(11),i.setTextColor(...a),i.text("Crew Start Time:",15,u),i.text("Crew End Time:",100,u),i.setTextColor(...o),i.setFontSize(10),i.text(t.crew_start_time||"___:___",60,u),i.text(t.crew_end_time||"___:___",145,u),u+=10,i.setFont("helvetica","normal"),i.text(`Leak Repair Completed: ${t.leak_repair_completed?"YES":t.leak_repair_completed===!1?"NO":"-"}`,15,u),u+=10,i.setFont("helvetica","bold"),i.setFontSize(10),i.setTextColor(...a),i.text("Notes:",15,u),i.setTextColor(...o),i.setFont("helvetica","normal"),i.setFontSize(9),u+=6,t.notes){const k=i.splitTextToSize(t.notes,s-40);i.text(k,15,u),u+=k.length*4+5}if(t.rate_type==="both"&&t.rate_type_notes){i.setFont("helvetica","bold"),i.setTextColor(...a),i.text("Classification Notes (Partially Hourly):",15,u),i.setTextColor(...o),i.setFont("helvetica","normal"),u+=5;const k=i.splitTextToSize(t.rate_type_notes,s-40);i.text(k,15,u)}return i},AN=t=>t?t.split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2):"XX",hv=async(t,e,r,n)=>{const i=new mN;for(const l of t){const u=e.find(_=>_.id===l.crew_id),d=u!=null&&u.supervisor_id?r.find(_=>_.id===u.supervisor_id):null,m=u!=null&&u.foreman_id?n.find(_=>_.id===u.foreman_id):null,h=NN(l,u,d,m).output("blob"),b=AN(d==null?void 0:d.name),y=((m==null?void 0:m.name)||"Unknown").replace(/\s+/g,""),k=l.date||"NoDate",g=`${b}_${y}_${k}.pdf`;i.file(g,h)}const s=await i.generateAsync({type:"blob"}),a=URL.createObjectURL(s),o=document.createElement("a");o.href=a,o.download=`LeakReports_${new Date().toISOString().split("T")[0]}.zip`,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(a)},jN=({leakReports:t,crews:e,profiles:r,onRefresh:n,employees:i})=>{var Ae,Te;const[s,a]=Ge.useState("all"),[o,l]=Ge.useState("all"),[u,d]=Ge.useState(null),[m,v]=Ge.useState(!1),[h,b]=Ge.useState(null),[y,k]=Ge.useState(""),[g,_]=Ge.useState(""),[x,A]=Ge.useState(!1),[T,q]=Ge.useState(!1),[B,D]=Ge.useState(!1),[P,G]=Ge.useState({startDate:"",endDate:"",supervisors:[],classification:"all"}),I=ce=>{const Se=new Date(ce+"T00:00:00"),C=Se.getDay(),z=C===0?-6:1-C,le=new Date(Se);return le.setDate(Se.getDate()+z),le.toISOString().split("T")[0]},L=ce=>`Week of ${new Date(ce+"T00:00:00").toLocaleDateString("en-US",{month:"numeric",day:"numeric",year:"2-digit"})}`,M=ce=>{const Se=e.find(C=>C.id===ce.crew_id);return(Se==null?void 0:Se.supervisor_id)||null},Q=[...new Set(t.map(ce=>M(ce)).filter(Boolean))].map(ce=>r.find(Se=>Se.id===ce)).filter(Boolean),fe=s==="all"?t:t.filter(ce=>M(ce)===s),se=[...new Set(fe.map(ce=>ce.date?I(ce.date):null).filter(Boolean))].sort((ce,Se)=>Se.localeCompare(ce)),ie=o==="all"?fe:fe.filter(ce=>ce.date&&I(ce.date)===o),K=ce=>{a(ce),l("all")},ue=ce=>{const Se={...ce,downtime_periods:typeof ce.downtime_periods=="string"?JSON.parse(ce.downtime_periods||"[]"):ce.downtime_periods||[]};d(ce),b(Se),k(ce.rate_type||""),_(ce.rate_type_notes||""),v(!1)},Y=()=>{d(null),b(null),v(!1)},E=(ce,Se)=>b(C=>({...C,[ce]:Se})),$=()=>b(ce=>({...ce,downtime_periods:[...ce.downtime_periods||[],{start:"",end:""}]})),V=(ce,Se,C)=>b(z=>({...z,downtime_periods:(z.downtime_periods||[]).map((le,X)=>X===ce?{...le,[Se]:C}:le)})),Z=ce=>b(Se=>({...Se,downtime_periods:(Se.downtime_periods||[]).filter((C,z)=>z!==ce)})),oe=async()=>{A(!0);const ce={...h,downtime_periods:JSON.stringify(h.downtime_periods||[]),bore_size_inches:h.bore_size_inches?parseFloat(h.bore_size_inches):null,bore_footage:h.bore_footage?parseFloat(h.bore_footage):null,leak_type:h.leak_type||null,pipe_type:h.pipe_type||null,welder_type:h.welder_type||null,bore_type:h.bore_type||null,soil_type:h.soil_type||null,crew_start_time:h.crew_start_time||null,crew_end_time:h.crew_end_time||null,time_called_off_to_grade_1:h.time_called_off_to_grade_1||null,time_leak_turned_grade_1:h.time_leak_turned_grade_1||null,rate_type:y||null,rate_type_notes:y==="both"?g:null};delete ce.id,delete ce.created_at;const{error:Se}=await Pt.from("leak_reports").update(ce).eq("id",u.id);Se?alert("Error: "+Se.message):(Y(),n()),A(!1)},me=async()=>{if(ie.length===0){alert("No reports to export");return}D(!0);try{await hv(ie,e,r,i)}catch(ce){alert("Export failed: "+ce.message)}D(!1)},ve=async()=>{let ce=[...t];if(P.startDate&&(ce=ce.filter(Se=>Se.date>=P.startDate)),P.endDate&&(ce=ce.filter(Se=>Se.date<=P.endDate)),P.supervisors.length>0&&(ce=ce.filter(Se=>{const C=M(Se);return P.supervisors.includes(C)})),P.classification!=="all"&&(ce=ce.filter(Se=>Se.rate_type===P.classification)),ce.length===0){alert("No reports match the selected filters");return}D(!0);try{await hv(ce,e,r,i),q(!1)}catch(Se){alert("Export failed: "+Se.message)}D(!1)},we=ce=>{G(Se=>({...Se,supervisors:Se.supervisors.includes(ce)?Se.supervisors.filter(C=>C!==ce):[...Se.supervisors,ce]}))};return f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"flex items-start justify-between",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-2xl font-bold text-zinc-100",children:"All Leak Reports"}),f.jsxs("p",{className:"text-zinc-500",children:[t.length," total"]})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx(ut,{variant:"secondary",onClick:()=>q(!0),children:f.jsxs("span",{className:"flex items-center gap-2",children:[f.jsx(Ue.Download,{})," Export with Filters"]})}),(s!=="all"||o!=="all")&&ie.length>0&&f.jsx(ut,{variant:"primary",onClick:me,loading:B,children:f.jsxs("span",{className:"flex items-center gap-2",children:[f.jsx(Ue.Download,{})," Export Current View (",ie.length,")"]})})]})]}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm text-zinc-500 mb-2",children:"By Supervisor"}),f.jsxs("div",{className:"flex flex-wrap gap-2",children:[f.jsx(Yo,{active:s==="all",onClick:()=>K("all"),count:t.length,children:"All"}),Q.map(ce=>{const Se=t.filter(C=>M(C)===ce.id).length;return f.jsx(Yo,{active:s===ce.id,onClick:()=>K(ce.id),count:Se,children:ce.name},ce.id)})]})]}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm text-zinc-500 mb-2",children:"By Week"}),f.jsxs("div",{className:"flex flex-wrap gap-2",children:[f.jsx(Yo,{active:o==="all",onClick:()=>l("all"),count:fe.length,children:"All Weeks"}),se.map(ce=>{const Se=fe.filter(C=>C.date&&I(C.date)===ce).length;return f.jsx(Yo,{active:o===ce,onClick:()=>l(ce),count:Se,children:L(ce)},ce)})]})]}),f.jsx(mt,{children:f.jsxs("div",{className:"overflow-x-auto",children:[f.jsxs("table",{className:"w-full",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"border-b border-zinc-800",children:[f.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-zinc-400",children:"Date"}),f.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-zinc-400",children:"Crew"}),f.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-zinc-400",children:"Leak #"}),f.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-zinc-400",children:"Address"}),f.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-zinc-400",children:"Status"}),f.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-zinc-400",children:"Class"}),f.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium text-zinc-400",children:"Actions"})]})}),f.jsx("tbody",{children:ie.map(ce=>{const Se=e.find(C=>C.id===ce.crew_id);return f.jsxs("tr",{className:"border-b border-zinc-800/50 hover:bg-zinc-800/30",children:[f.jsx("td",{className:"py-3 px-4 text-zinc-200",children:ce.date}),f.jsx("td",{className:"py-3 px-4 text-zinc-400",children:(Se==null?void 0:Se.name)||"-"}),f.jsx("td",{className:"py-3 px-4 text-zinc-200 font-medium",children:ce.leak_number||"-"}),f.jsx("td",{className:"py-3 px-4 text-zinc-400 max-w-[200px] truncate",children:ce.address||"-"}),f.jsx("td",{className:"py-3 px-4",children:f.jsx(br,{variant:ce.status==="reviewed"?"success":"warning",children:ce.status==="reviewed"?"Reviewed":"Pending"})}),f.jsx("td",{className:"py-3 px-4",children:ce.rate_type?f.jsx(br,{variant:ce.rate_type==="all_hourly"?"info":ce.rate_type==="unit_rates"?"purple":"default",children:ce.rate_type==="all_hourly"?"Hourly":ce.rate_type==="unit_rates"?"Unit":"Both"}):"-"}),f.jsx("td",{className:"py-3 px-4 text-right",children:f.jsx(ut,{variant:"ghost",size:"sm",onClick:()=>ue(ce),children:f.jsx(Ue.Eye,{})})})]},ce.id)})})]}),ie.length===0&&f.jsx("p",{className:"text-zinc-500 text-center py-8",children:"No reports"})]})}),u&&h&&f.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:f.jsxs(mt,{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[f.jsxs("div",{className:"flex items-center justify-between mb-6 sticky top-0 bg-zinc-900 py-2 -mt-2 z-10",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-xl font-bold text-zinc-100",children:"Report Details"}),f.jsxs("p",{className:"text-sm text-zinc-500",children:[(Ae=e.find(ce=>ce.id===u.crew_id))==null?void 0:Ae.name,"  ",u.date]})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(ut,{variant:"secondary",size:"sm",onClick:()=>v(!m),children:m?"View Only":"Edit"}),f.jsx("button",{onClick:Y,className:"text-zinc-400 hover:text-zinc-200",children:f.jsx(Ue.X,{})})]})]}),f.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[f.jsx(br,{variant:u.status==="reviewed"?"success":"warning",children:u.status==="reviewed"?"Reviewed":"Pending"}),u.rate_type&&f.jsx(br,{variant:u.rate_type==="all_hourly"?"info":u.rate_type==="unit_rates"?"purple":"default",children:u.rate_type==="all_hourly"?"Hourly":u.rate_type==="unit_rates"?"Unit":"Both"})]}),f.jsx(P1,{formData:h,updateForm:E,addDowntimePeriod:$,updateDowntimePeriod:V,removeDowntimePeriod:Z,disabled:!m}),f.jsxs("div",{className:"space-y-4 mt-6 pt-6 border-t-2 border-amber-500/50",children:[f.jsx("h3",{className:"text-lg font-semibold text-amber-400",children:"Classification"}),f.jsx("div",{className:"flex flex-wrap gap-2",children:[{value:"all_hourly",label:"Hourly"},{value:"unit_rates",label:"Unit"},{value:"both",label:"Both"}].map(ce=>f.jsx("button",{onClick:()=>m&&k(ce.value),disabled:!m,className:`px-6 py-3 rounded-lg font-medium ${y===ce.value?ce.value==="all_hourly"?"bg-sky-500 text-white":ce.value==="unit_rates"?"bg-purple-500 text-white":"bg-amber-500 text-zinc-900":"bg-zinc-800 text-zinc-400 hover:bg-zinc-700"} ${m?"":"opacity-50 cursor-not-allowed"}`,children:ce.label},ce.value))}),y==="both"&&f.jsx(Vu,{label:"Explain why both",value:g,onChange:ce=>_(ce.target.value),rows:3,disabled:!m})]}),u.reviewed_by&&f.jsxs("div",{className:"mt-4 p-4 bg-emerald-900/20 border border-emerald-800 rounded-lg",children:[f.jsxs("p",{className:"text-emerald-400 font-medium",children:[" Reviewed by ",((Te=r.find(ce=>ce.id===u.reviewed_by))==null?void 0:Te.name)||"Unknown"]}),f.jsx("p",{className:"text-sm text-zinc-400",children:new Date(u.reviewed_at).toLocaleDateString()})]}),m&&f.jsxs("div",{className:"flex gap-3 pt-4 border-t border-zinc-800 sticky bottom-0 bg-zinc-900 py-4 -mb-5 mt-4",children:[f.jsx(ut,{variant:"secondary",onClick:Y,className:"flex-1",children:"Cancel"}),f.jsx(ut,{variant:"primary",onClick:oe,loading:x,className:"flex-1",children:f.jsxs("span",{className:"flex items-center gap-2",children:[f.jsx(Ue.Check,{})," Save Changes"]})})]})]})}),T&&f.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:f.jsxs(mt,{className:"w-full max-w-lg",children:[f.jsxs("div",{className:"flex items-center justify-between mb-6",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-xl font-bold text-zinc-100",children:"Export Leak Reports"}),f.jsx("p",{className:"text-sm text-zinc-500",children:"Select filters for PDF export"})]}),f.jsx("button",{onClick:()=>q(!1),className:"text-zinc-400 hover:text-zinc-200",children:f.jsx(Ue.X,{})})]}),f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-sm text-zinc-400 font-medium mb-2",children:"Date Range"}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsx(It,{label:"Start Date",type:"date",value:P.startDate,onChange:ce=>G(Se=>({...Se,startDate:ce.target.value}))}),f.jsx(It,{label:"End Date",type:"date",value:P.endDate,onChange:ce=>G(Se=>({...Se,endDate:ce.target.value}))})]})]}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm text-zinc-400 font-medium mb-2",children:"Supervisors (leave empty for all)"}),f.jsx("div",{className:"flex flex-wrap gap-2",children:Q.map(ce=>f.jsx("button",{onClick:()=>we(ce.id),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-all ${P.supervisors.includes(ce.id)?"bg-amber-500 text-zinc-900":"bg-zinc-800 text-zinc-400 hover:bg-zinc-700"}`,children:ce.name},ce.id))}),Q.length===0&&f.jsx("p",{className:"text-zinc-500 text-sm",children:"No supervisors with reports"})]}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm text-zinc-400 font-medium mb-2",children:"Classification"}),f.jsx("div",{className:"flex flex-wrap gap-2",children:[{value:"all",label:"All"},{value:"all_hourly",label:"Hourly"},{value:"unit_rates",label:"Unit"},{value:"both",label:"Both"}].map(ce=>f.jsx("button",{onClick:()=>G(Se=>({...Se,classification:ce.value})),className:`px-4 py-2 rounded-lg font-medium transition-all ${P.classification===ce.value?ce.value==="all_hourly"?"bg-sky-500 text-white":ce.value==="unit_rates"?"bg-purple-500 text-white":(ce.value==="both","bg-amber-500 text-zinc-900"):"bg-zinc-800 text-zinc-400 hover:bg-zinc-700"}`,children:ce.label},ce.value))})]}),f.jsx("div",{className:"bg-zinc-800/50 rounded-lg p-3",children:f.jsxs("p",{className:"text-sm text-zinc-400",children:["Reports matching filters: ",f.jsx("span",{className:"text-zinc-100 font-medium",children:(()=>{let ce=[...t];return P.startDate&&(ce=ce.filter(Se=>Se.date>=P.startDate)),P.endDate&&(ce=ce.filter(Se=>Se.date<=P.endDate)),P.supervisors.length>0&&(ce=ce.filter(Se=>P.supervisors.includes(M(Se)))),P.classification!=="all"&&(ce=ce.filter(Se=>Se.rate_type===P.classification)),ce.length})()})]})})]}),f.jsxs("div",{className:"flex gap-3 mt-6 pt-4 border-t border-zinc-800",children:[f.jsx(ut,{variant:"secondary",onClick:()=>q(!1),className:"flex-1",children:"Cancel"}),f.jsx(ut,{variant:"primary",onClick:ve,loading:B,className:"flex-1",children:f.jsxs("span",{className:"flex items-center gap-2",children:[f.jsx(Ue.Download,{})," Export as ZIP"]})})]})]})})]})};function EN(){const[t,e]=Ge.useState(null),[r,n]=Ge.useState(null),[i,s]=Ge.useState(!0),[a,o]=Ge.useState("dashboard"),[l,u]=Ge.useState([]),[d,m]=Ge.useState([]),[v,h]=Ge.useState([]),[b,y]=Ge.useState([]),[k,g]=Ge.useState([]);Ge.useEffect(()=>{Pt.auth.getSession().then(({data:{session:B}})=>{e(B),B?_(B.user.id):s(!1)});const{data:{subscription:q}}=Pt.auth.onAuthStateChange((B,D)=>{e(D),D?_(D.user.id):(n(null),s(!1))});return()=>q.unsubscribe()},[]);const _=async q=>{const{data:B}=await Pt.from("profiles").select("*").eq("id",q).single();n(B),B&&x(),s(!1)},x=async()=>{const[q,B,D,P,G]=await Promise.all([Pt.from("employees").select("*").order("name"),Pt.from("crews").select("*, crew_members(*)").order("name"),Pt.from("equipment").select("*").order("created_at",{ascending:!1}),Pt.from("leak_reports").select("*").order("created_at",{ascending:!1}),Pt.from("profiles").select("*").order("name")]);u(q.data||[]),m(B.data||[]),h(D.data||[]),y(P.data||[]),g(G.data||[])},A=async()=>{await Pt.auth.signOut(),n(null),o("dashboard")};if(i)return f.jsx(uv,{});if(!t)return f.jsx(vN,{});if(!r)return f.jsx(uv,{});const T=()=>{switch(a){case"dashboard":return f.jsx(cv,{profile:r,crews:d,employees:l,equipment:v,leakReports:b});case"users":return f.jsx(wN,{profiles:k,crews:d,employees:l,onRefresh:x});case"employees":return f.jsx(_N,{employees:l,crews:d,onRefresh:x,readOnly:(r==null?void 0:r.role)!=="admin"});case"crews":case"my-crew":return f.jsx(bN,{crews:d,employees:l,profiles:k,profile:r,onRefresh:x,equipment:v,leakReports:b});case"equipment":case"my-equipment":return f.jsx(xN,{equipment:v,crews:d,profile:r,onRefresh:x});case"leak-reports":return f.jsx(jN,{leakReports:b,crews:d,profiles:k,onRefresh:x,employees:l});case"my-leak-reports":return f.jsx(kN,{leakReports:b,crews:d,profile:r,onRefresh:x});case"review-reports":return f.jsx(SN,{leakReports:b,crews:d,profile:r,onRefresh:x});default:return f.jsx(cv,{profile:r,crews:d,employees:l,equipment:v,leakReports:b})}};return f.jsx(gN.Provider,{value:{session:t,profile:r},children:f.jsxs("div",{className:"min-h-screen bg-zinc-950",children:[f.jsx(yN,{currentView:a,setCurrentView:o,profile:r,onLogout:A}),f.jsx("main",{className:"max-w-7xl mx-auto px-4 py-6",children:T()})]})})}dp.createRoot(document.getElementById("root")).render(f.jsx(I_.StrictMode,{children:f.jsx(EN,{})}));export{Dt as _,zc as c,dv as g};
